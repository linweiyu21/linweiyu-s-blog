<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Micronaut,Groovy,Gradle,Java,ÊñáÊ°£,‰∏≠Êñá">
    <meta name="description" content="Micronaut Groovy Gradle Java ÊñáÊ°£ ‰∏≠Êñá">
    <meta name="author" content="ÊûóÂ®ÅÁæΩ">
    
    <title>
        
            Compose specification |
        
        ÊûóÂ®ÅÁæΩÁöÑÁ¨îËÆ∞
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"rgb(153,153,0)","avatar":"/images/avatar.jpg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"400px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":null,"description":"def containsüöÄ = ['Micronaut', 'Groovy', 'Gradle', 'etc']"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s ÁßíÂâç","minute":"%s ÂàÜÈíüÂâç","hour":"%s Â∞èÊó∂Ââç","day":"%s Â§©Ââç","week":"%s Âë®Ââç","month":"%s ‰∏™ÊúàÂâç","year":"%s Âπ¥Ââç"};
  </script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                ÊûóÂ®ÅÁæΩÁöÑÁ¨îËÆ∞
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                È¶ñÈ°µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                ÂàÜÁ±ª
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                Ê†áÁ≠æ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ÂΩíÊ°£
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ÂÖ≥‰∫é
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">È¶ñÈ°µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">ÂàÜÁ±ª</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">Ê†áÁ≠æ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ÂΩíÊ°£</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ÂÖ≥‰∫é</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

    <a target="_blank" rel="noopener" href="https://github.com/linweiyu21/" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80"
        viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
        aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg></a>
    <style>
      .github-corner:hover .octo-arm {
        animation: octocat-wave 560ms ease-in-out
      }

      @keyframes octocat-wave {

        0%,
        100% {
          transform: rotate(0)
        }

        20%,
        60% {
          transform: rotate(-25deg)
        }

        40%,
        80% {
          transform: rotate(10deg)
        }
      }

      @media (max-width:500px) {
        .github-corner:hover .octo-arm {
          animation: none
        }

        .github-corner .octo-arm {
          animation: octocat-wave 560ms ease-in-out
        }
      }
    </style>
</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Compose specification</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">ÊûóÂ®ÅÁæΩ</span>
                        
                            <span class="author-label">Lv8</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-05-25 11:01:57</span>
        <span class="mobile">2022-05-25 11:01</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/Docker-Compose/">Docker - Compose</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Docker/">Docker</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Notes/">Notes</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Docker-Compose/">Docker Compose</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <!-- TOC -->

<ul>
<li><a href="#compose-file-compose-%E6%96%87%E4%BB%B6">Compose file (Compose Êñá‰ª∂)</a></li>
<li><a href="#profiles-%E9%85%8D%E7%BD%AE">Profiles (ÈÖçÁΩÆ)</a><ul>
<li><a href="#illustrative-example-%E7%A4%BA%E4%BE%8B%E8%AF%B4%E6%98%8E">Illustrative example (Á§∫‰æãËØ¥Êòé)</a></li>
</ul>
</li>
<li><a href="#version-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-version">Version top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>version</code>)</a></li>
<li><a href="#name-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-name">Name top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>name</code>)</a></li>
<li><a href="#services-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-services">Services top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>services</code>)</a><ul>
<li><a href="#build">build</a></li>
<li><a href="#blkio_config">blkio_config</a></li>
<li><a href="#cpu_count">cpu_count</a></li>
<li><a href="#cpu_percent">cpu_percent</a></li>
<li><a href="#cpu_shares">cpu_shares</a></li>
<li><a href="#cpu_period">cpu_period</a></li>
<li><a href="#cpu_quota">cpu_quota</a></li>
<li><a href="#cpu_rt_runtime">cpu_rt_runtime</a></li>
<li><a href="#cpu_rt_period">cpu_rt_period</a></li>
<li><a href="#cpus">cpus</a></li>
<li><a href="#cpuset">cpuset</a></li>
<li><a href="#cap_add">cap_add</a></li>
<li><a href="#cap_drop">cap_drop</a></li>
<li><a href="#cgroup_parent">cgroup_parent</a></li>
<li><a href="#command">command</a></li>
<li><a href="#configs">configs</a><ul>
<li><a href="#short-syntax">Short syntax</a></li>
<li><a href="#long-syntax">Long syntax</a></li>
</ul>
</li>
<li><a href="#container_name">container_name</a></li>
<li><a href="#credential_spec">credential_spec</a><ul>
<li><a href="#example-gmsa-configuration">Example gMSA configuration</a></li>
</ul>
</li>
<li><a href="#depends_on">depends_on</a><ul>
<li><a href="#short-syntax-1">Short syntax</a></li>
<li><a href="#long-syntax-1">Long syntax</a></li>
</ul>
</li>
<li><a href="#deploy">deploy</a></li>
<li><a href="#device_cgroup_rules">device_cgroup_rules</a></li>
<li><a href="#devices">devices</a></li>
<li><a href="#dns">dns</a></li>
<li><a href="#dns_opt">dns_opt</a></li>
<li><a href="#dns_search">dns_search</a></li>
<li><a href="#domainname">domainname</a></li>
<li><a href="#entrypoint">entrypoint</a></li>
<li><a href="#env_file">env_file</a><ul>
<li><a href="#env_file-format">Env_file format</a></li>
</ul>
</li>
<li><a href="#environment">environment</a></li>
<li><a href="#expose">expose</a></li>
<li><a href="#extends">extends</a><ul>
<li><a href="#restrictions">Restrictions</a></li>
<li><a href="#finding-referenced-service">Finding referenced service</a></li>
<li><a href="#merging-service-definitions">Merging service definitions</a><ul>
<li><a href="#mappings">Mappings</a></li>
<li><a href="#sequences">Sequences</a></li>
<li><a href="#scalars">Scalars</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#external_links">external_links</a></li>
<li><a href="#extra_hosts">extra_hosts</a></li>
<li><a href="#group_add">group_add</a></li>
<li><a href="#healthcheck">healthcheck</a></li>
<li><a href="#hostname">hostname</a></li>
<li><a href="#image">image</a></li>
<li><a href="#init">init</a></li>
<li><a href="#ipc">ipc</a></li>
<li><a href="#isolation">isolation</a></li>
<li><a href="#labels">labels</a></li>
<li><a href="#links">links</a></li>
<li><a href="#logging">logging</a></li>
<li><a href="#network_mode">network_mode</a></li>
<li><a href="#networks">networks</a><ul>
<li><a href="#aliases">aliases</a></li>
<li><a href="#ipv4_address-ipv6_address">ipv4_address, ipv6_address</a></li>
<li><a href="#link_local_ips">link_local_ips</a></li>
<li><a href="#priority">priority</a></li>
</ul>
</li>
<li><a href="#mac_address">mac_address</a></li>
<li><a href="#mem_limit">mem_limit</a></li>
<li><a href="#mem_reservation">mem_reservation</a></li>
<li><a href="#mem_swappiness">mem_swappiness</a></li>
<li><a href="#memswap_limit">memswap_limit</a></li>
<li><a href="#oom_kill_disable">oom_kill_disable</a></li>
<li><a href="#oom_score_adj">oom_score_adj</a></li>
<li><a href="#pid">pid</a></li>
<li><a href="#pids_limit">pids_limit</a></li>
<li><a href="#platform">platform</a></li>
<li><a href="#ports">ports</a><ul>
<li><a href="#short-syntax-2">Short syntax</a></li>
<li><a href="#long-syntax-2">Long syntax</a></li>
</ul>
</li>
<li><a href="#privileged">privileged</a></li>
<li><a href="#profiles">profiles</a></li>
<li><a href="#pull_policy">pull_policy</a></li>
<li><a href="#read_only">read_only</a></li>
<li><a href="#restart">restart</a></li>
<li><a href="#runtime">runtime</a></li>
<li><a href="#scale">scale</a></li>
<li><a href="#secrets">secrets</a><ul>
<li><a href="#short-syntax-3">Short syntax</a></li>
<li><a href="#long-syntax-3">Long syntax</a></li>
</ul>
</li>
<li><a href="#security_opt">security_opt</a></li>
<li><a href="#shm_size">shm_size</a></li>
<li><a href="#stdin_open">stdin_open</a></li>
<li><a href="#stop_grace_period">stop_grace_period</a></li>
<li><a href="#stop_signal">stop_signal</a></li>
<li><a href="#storage_opt">storage_opt</a></li>
<li><a href="#sysctls">sysctls</a></li>
<li><a href="#tmpfs">tmpfs</a></li>
<li><a href="#tty">tty</a></li>
<li><a href="#ulimits">ulimits</a></li>
<li><a href="#user">user</a></li>
<li><a href="#userns_mode">userns_mode</a></li>
<li><a href="#volumes">volumes</a><ul>
<li><a href="#short-syntax-4">Short syntax</a></li>
<li><a href="#long-syntax-4">Long syntax</a></li>
</ul>
</li>
<li><a href="#volumes_from">volumes_from</a></li>
<li><a href="#working_dir">working_dir</a></li>
</ul>
</li>
<li><a href="#networks-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-networks">Networks top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>networks</code>)</a><ul>
<li><a href="#driver">driver</a><ul>
<li><a href="#host-or-none">host or none</a></li>
</ul>
</li>
<li><a href="#driver_opts">driver_opts</a></li>
<li><a href="#attachable">attachable</a></li>
<li><a href="#enable_ipv6">enable_ipv6</a></li>
<li><a href="#ipma">ipma</a></li>
<li><a href="#internal">internal</a></li>
<li><a href="#labels-1">labels</a></li>
<li><a href="#external">external</a></li>
<li><a href="#name">name</a></li>
</ul>
</li>
<li><a href="#volumes-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-volumes">Volumes top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>volumes</code>)</a><ul>
<li><a href="#driver-1">driver</a></li>
<li><a href="#driver_opts-1">driver_opts</a></li>
<li><a href="#external-1">external</a></li>
<li><a href="#labels-2">labels</a></li>
<li><a href="#name-1">name</a></li>
</ul>
</li>
<li><a href="#configs-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-configs">Configs top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>configs</code>)</a></li>
<li><a href="#secrets-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-secrets">Secrets top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>secrets</code>)</a></li>
<li><a href="#fragments-%E5%88%86%E6%AE%B5">Fragments (ÂàÜÊÆµ)</a></li>
<li><a href="#extension-%E6%89%A9%E5%B1%95">Extension (Êâ©Â±ï)</a><ul>
<li><a href="#informative-historical-notes">Informative Historical Notes</a></li>
<li><a href="#using-extensions-as-fragments">Using extensions as fragments</a></li>
<li><a href="#specifying-byte-values">specifying byte values</a></li>
<li><a href="#specifying-durations">specifying durations</a></li>
</ul>
</li>
<li><a href="#interpolation-%E6%8F%92%E5%80%BC">Interpolation (ÊèíÂÄº)</a></li>
<li><a href="#%E5%8F%82%E8%80%83">ÂèÇËÄÉ</a></li>
</ul>
<!-- /TOC -->

<p>Compose Êñá‰ª∂ÊòØ‰∏Ä‰∏™‰∏∫ Docker Â∫îÁî®Á®ãÂ∫èÂÆö‰πâÊúçÂä°, ÁΩëÁªúÂíåÂç∑ÁöÑ YAML Êñá‰ª∂</p>
<p>Âè™Êúâ <code>volumes</code> ÂèØ‰ª•ÈÖçÁΩÆ‰∏∫ËØªÂÜôËÆøÈóÆ. <code>secrets</code> Âíå <code>configs</code> ÈÉΩÊòØÂè™ËØªÁöÑ</p>
<p><code>secrets</code> Âíå <code>configs</code> ÂèØ‰ª•‰ΩøÁî® <code>external: true</code> Êù•Â£∞ÊòéÂÆÉ‰ª¨‰∏çÊòØ‰Ωú‰∏∫Â∫îÁî®Á®ãÂ∫èÁîüÂëΩÂë®ÊúüÁöÑ‰∏ÄÈÉ®ÂàÜÊù•ÁÆ°ÁêÜÁöÑ</p>
<h2 id="Compose-file-Compose-Êñá‰ª∂"><a href="#Compose-file-Compose-Êñá‰ª∂" class="headerlink" title="Compose file (Compose Êñá‰ª∂)"></a>Compose file (Compose Êñá‰ª∂)</h2><p>Compose file ÊòØ‰∏Ä‰∏™ÂÆö‰πâ <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#version-top-level-element" >version<i class="fas fa-external-link-alt"></i></a>(Â∑≤ÂºÉÁî®),<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#services-top-level-element" >services<i class="fas fa-external-link-alt"></i></a>(ÂøÖÈÄâ),<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#networks-top-level-element" >networks<i class="fas fa-external-link-alt"></i></a>,<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#volumes-top-level-element" >volumes<i class="fas fa-external-link-alt"></i></a>,<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#configs-top-level-element" >configs<i class="fas fa-external-link-alt"></i></a>Âíå<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#secrets-top-level-element" >secrets<i class="fas fa-external-link-alt"></i></a> ÁöÑ YAML Êñá‰ª∂</p>
<p>Âú®Â∑•‰ΩúÁõÆÂΩï‰∏≠, Compose Êñá‰ª∂ÁöÑÈªòËÆ§Ë∑ØÂæÑÊòØ <code>compose.yaml</code>(Êé®Ëçê) Êàñ <code>compose.yml</code></p>
<p>‰∏∫‰∫ÜÂêëÂêéÂÖºÂÆπ, Compose ÂÆûÁé∞Ë¶ÅÊîØÊåÅ <code>docker-compose.yaml</code> Âíå <code>docker-compose.yml</code></p>
<p>Â¶ÇÊûú‰∏§ÁßçÊñá‰ª∂ÈÉΩÂ≠òÂú®, ‰ºòÂÖà‰ΩøÁî® <code>compose.yaml</code></p>
<p>Â§ö‰∏™ Compose Êñá‰ª∂ÂèØ‰ª•ÁªìÂêàÂú®‰∏ÄËµ∑Êù•ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÊ®°Âûã</p>
<h2 id="Profiles-ÈÖçÁΩÆ"><a href="#Profiles-ÈÖçÁΩÆ" class="headerlink" title="Profiles (ÈÖçÁΩÆ)"></a>Profiles (ÈÖçÁΩÆ)</h2><p>Profiles ÂÖÅËÆ∏‰∏∫Â§öÁßçÁî®ÈÄîÂíåÂ§öÁßçÁéØÂ¢ÉË∞ÉÊï¥ Compose Â∫îÁî®Ê®°Âûã</p>
<p>È°∂Á∫ßÂÖÉÁ¥† services ÊîØÊåÅ <code>profiles</code> Â±ûÊÄßÊù•ÂÆö‰πâ‰∏Ä‰∏™ÂëΩÂêçÁöÑ profiles ÂàóË°®</p>
<p>Â¶ÇÊûúÊ≤°Êúâ‰∏éÂàóË°®‰∏≠‰ªª‰Ωï‰∏Ä‰∏™ <code>profiles</code> ÂåπÈÖç, ÈÇ£‰πà‰∏Ä‰∏™ service ÂøÖÈ°ªË¢´ Compose ÂÆûÁé∞ÂøΩÁï•, Èô§ÈùûËøô‰∏™ service Âú®ÂëΩ‰ª§‰∏≠ÊòéÁ°ÆÊåáÂÆö‰∫Ü</p>
<p>ÂÖ∂‰ªñÊâÄÊúâÈ°∂Á∫ßÂÖÉÁ¥†‰∏çÂèó <code>profiles</code> ÂΩ±Âìç‰∏îÊÄªÊòØÊøÄÊ¥ªÁöÑ</p>
<h3 id="Illustrative-example-Á§∫‰æãËØ¥Êòé"><a href="#Illustrative-example-Á§∫‰æãËØ¥Êòé" class="headerlink" title="Illustrative example (Á§∫‰æãËØ¥Êòé)"></a>Illustrative example (Á§∫‰æãËØ¥Êòé)</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">foo:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">foo</span></span><br><span class="line">  <span class="attr">bar:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">bar</span></span><br><span class="line">    <span class="attr">profiles:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">baz:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">baz</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">bar</span></span><br><span class="line">    <span class="attr">profiles:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">zot:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">zot</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">bar</span></span><br><span class="line">    <span class="attr">profiles:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure>

<h2 id="Version-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-version"><a href="#Version-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-version" class="headerlink" title="Version top-level element (È°∂Á∫ßÂÖÉÁ¥† version)"></a>Version top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>version</code>)</h2><p>È°∂Á∫ßÂ±ûÊÄß <code>version</code> Áî±ËßÑËåÉÂÆö‰πâ, Áî®‰∫éÂêëÂêéÂÖºÂÆπ, ‰ªÖÊèê‰æõ‰ø°ÊÅØ</p>
<h2 id="Name-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-name"><a href="#Name-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-name" class="headerlink" title="Name top-level element (È°∂Á∫ßÂÖÉÁ¥† name)"></a>Name top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>name</code>)</h2><p>È°∂Á∫ßÂ±ûÊÄß <code>name</code> Â±ûÊÄßÁî±ËßÑËåÉÂÆö‰πâ, Â¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÊåáÂÆöÊòéÁ°ÆÁöÑÂêçÁß∞, Âàô‰Ωú‰∏∫È°πÁõÆÂêçÁß∞</p>
<p>Êó†ËÆ∫ÊòØÂê¶ÈÄöËøá <code>name</code> ËÆæÁΩÆ‰∫ÜÈ°πÁõÆÂêçÁß∞, ÂÆÉÂøÖÈ°ªË¶ÅÊö¥Èú≤ÁªôÊèíÂÄºÊú∫Âà∂‰∏îÂèØ‰ª•‰Ωú‰∏∫ÁéØÂ¢ÉÂèòÈáè <code>COMPOSE_PROJECT_NAME</code> ËøõË°åËß£Êûê</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">foo:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">COMPOSE_PROJECT_NAME</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">echo</span> <span class="string">&quot;I&#x27;m running $&#123;COMPOSE_PROJECT_NAME&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Services-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-services"><a href="#Services-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-services" class="headerlink" title="Services top-level element (È°∂Á∫ßÂÖÉÁ¥† services)"></a>Services top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>services</code>)</h2><p><code>service</code> ÊòØÂ∫îÁî®Á®ãÂ∫è‰∏≠ËÆ°ÁÆóËµÑÊ∫êÁöÑÊäΩË±°ÂÆö‰πâ, ÂèØ‰ª•Áã¨Á´ã‰∫éÂÖ∂‰ªñÁªÑ‰ª∂ËøõË°åÊâ©Â±ï&#x2F;ÊõøÊç¢</p>
<p>‰∏Ä‰∏™ Compose Êñá‰ª∂ÂøÖÈ°ªÂ£∞Êòé‰∏Ä‰∏™Ê†πÂÖÉÁ¥† <code>services</code> ‰Ωú‰∏∫‰∏Ä‰∏™ map, Ëøô‰∏™ map ÁöÑ keys ÈÉΩÊòØ‰ª£Ë°® <code>service</code> ÂêçÁß∞ÁöÑÂ≠óÁ¨¶‰∏≤, values ÊòØ <code>service</code> ÂÆö‰πâ</p>
<p><code>service</code> ÂÆö‰πâÂåÖÂê´Â∫îÁî®‰∫é‰∏∫ËØ• <code>service</code> ÂêØÂä®ÁöÑÊØè‰∏™ÂÆπÂô®ÁöÑÈÖçÁΩÆ</p>
<p>ÊØè‰∏™ <code>service</code> Â∫îËØ•ËøòË¶ÅÂåÖÂê´‰∏Ä‰∏™ÊûÑÂª∫ÈÉ®ÂàÜ, Ëøô‰∏™ÊûÑ‰ª∂ÈÉ®ÂàÜÂÆö‰πâ‰∫ÜÊÄéÊ†∑‰∏∫ <code>service</code> ÂàõÂª∫ Docker ÈïúÂÉè</p>
<p>ÊØè‰∏™ <code>service</code> ÂÆö‰πâËøêË°åÊó∂Á∫¶ÊùüÂíåË¶ÅÊ±ÇÊù•ËøêË°åÂÖ∂ÂÆπÂô®. <code>deploy</code> ÈÉ®ÂàÜÂØπËøô‰∫õÁ∫¶ÊùüËøõË°åÂàÜÁªÑ, Âπ∂ÂÖÅËÆ∏Âπ≥Âè∞Ë∞ÉÊï¥ÈÉ®ÁΩ≤Á≠ñÁï•‰ª•ÊúÄ‰Ω≥ÂåπÈÖçÂÆπÂô®ÁöÑÈúÄÊ±ÇÂíåÂèØÁî®ËµÑÊ∫ê</p>
<h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p><code>build</code> ÊåáÂÆöÁî®‰∫é‰ªéÊ∫êÂàõÂª∫ÂÆπÂô®ÈïúÂÉèÁöÑÊûÑÂª∫ÈÖçÁΩÆ, Ê≠£Â¶Ç <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/build/" >Build support<i class="fas fa-external-link-alt"></i></a> ÊñáÊ°£‰∏≠ÁöÑÂÆö‰πâ</p>
<h3 id="blkio-config"><a href="#blkio-config" class="headerlink" title="blkio_config"></a>blkio_config</h3><p><code>blkio_config</code> ÂÆö‰πâ‰∫Ü‰∏ÄÁªÑÈÖçÁΩÆÈÄâÈ°πÊù•‰∏∫ <code>service</code> ËÆæÁΩÆÈòªÂ°û IO ÈôêÂà∂</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">foo:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">blkio_config:</span></span><br><span class="line">      <span class="attr">weight:</span> <span class="number">300</span></span><br><span class="line">      <span class="attr">weight_device:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/dev/sda</span></span><br><span class="line">          <span class="attr">weight:</span> <span class="number">400</span></span><br><span class="line">      <span class="attr">device_read_bps:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/dev/sdb</span></span><br><span class="line">          <span class="attr">rate:</span> <span class="string">&#x27;12mb&#x27;</span></span><br><span class="line">      <span class="attr">device_read_iops:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/dev/sdb</span></span><br><span class="line">          <span class="attr">rate:</span> <span class="number">120</span></span><br><span class="line">      <span class="attr">device_write_bps:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/dev/sdb</span></span><br><span class="line">          <span class="attr">rate:</span> <span class="string">&#x27;1024k&#x27;</span></span><br><span class="line">      <span class="attr">device_write_iops:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/dev/sdb</span></span><br><span class="line">          <span class="attr">rate:</span> <span class="number">30</span></span><br></pre></td></tr></table></figure>

<p>ÊîØÊåÅÂ¶Ç‰∏ãÈÖçÁΩÆÈ°π:</p>
<ul>
<li><code>device_read_bps</code>, <code>device_write_bps</code></li>
<li><code>device_read_iops</code>, <code>device_write_iops</code></li>
<li><code>weight</code></li>
<li><code>weight_device</code></li>
</ul>
<h3 id="cpu-count"><a href="#cpu-count" class="headerlink" title="cpu_count"></a>cpu_count</h3><p>ÂÆö‰πâÊúçÂä°ÂÆπÂô®ÁöÑÂèØÁî® CPU Êï∞Èáè</p>
<h3 id="cpu-percent"><a href="#cpu-percent" class="headerlink" title="cpu_percent"></a>cpu_percent</h3><p>ÂÆö‰πâÂèØÁî® CPU ÁöÑÂèØÁî®ÁôæÂàÜÊØî</p>
<h3 id="cpu-shares"><a href="#cpu-shares" class="headerlink" title="cpu_shares"></a>cpu_shares</h3><p>ÂÆö‰πâÔºà‰Ωú‰∏∫Êï¥Êï∞ÂÄºÔºâÊúçÂä°ÂÆπÂô®Áõ∏ÂØπ‰∫éÂÖ∂‰ªñÂÆπÂô®ÁöÑ CPU ÊùÉÈáç</p>
<h3 id="cpu-period"><a href="#cpu-period" class="headerlink" title="cpu_period"></a>cpu_period</h3><p>ÂΩìÂπ≥Âè∞Âü∫‰∫é Linux ÂÜÖÊ†∏Êó∂ÔºåÂÖÅËÆ∏ Compose ÂÆûÁé∞ÈÖçÁΩÆ CPU CFSÔºàÂÆåÂÖ®ÂÖ¨Âπ≥Ë∞ÉÂ∫¶Âô®ÔºâÂë®Êúü</p>
<h3 id="cpu-quota"><a href="#cpu-quota" class="headerlink" title="cpu_quota"></a>cpu_quota</h3><p>ÂΩìÂπ≥Âè∞Âü∫‰∫é Linux ÂÜÖÊ†∏Êó∂ÔºåÂÖÅËÆ∏ Compose ÂÆûÁé∞ÈÖçÁΩÆ CPU CFSÔºàÂÆåÂÖ®ÂÖ¨Âπ≥Ë∞ÉÂ∫¶Âô®ÔºâÈÖçÈ¢ù</p>
<h3 id="cpu-rt-runtime"><a href="#cpu-rt-runtime" class="headerlink" title="cpu_rt_runtime"></a>cpu_rt_runtime</h3><p>‰∏∫ÊîØÊåÅÂÆûÊó∂Ë∞ÉÂ∫¶Á®ãÂ∫èÁöÑÂπ≥Âè∞ÈÖçÁΩÆ CPU ÂàÜÈÖçÂèÇÊï∞„ÄÇ ÂèØ‰ª•ÊòØ‰ΩøÁî®ÂæÆÁßí‰∏∫Âçï‰ΩçÁöÑÊï¥Êï∞ÂÄºÔºå‰πüÂèØ‰ª•ÊòØ<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#specifying-durations" >ÊåÅÁª≠Êó∂Èó¥<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cpu_rt_runtime:</span> <span class="string">&#x27;400ms&#x27;</span></span><br><span class="line"><span class="attr">cpu_rt_runtime:</span> <span class="number">95000</span></span><br></pre></td></tr></table></figure>

<h3 id="cpu-rt-period"><a href="#cpu-rt-period" class="headerlink" title="cpu_rt_period"></a>cpu_rt_period</h3><p>‰∏∫ÊîØÊåÅÂÆûÊó∂Ë∞ÉÂ∫¶Á®ãÂ∫èÁöÑÂπ≥Âè∞ÈÖçÁΩÆ CPU ÂàÜÈÖçÂèÇÊï∞„ÄÇ ÂèØ‰ª•ÊòØ‰ΩøÁî®ÂæÆÁßí‰∏∫Âçï‰ΩçÁöÑÊï¥Êï∞ÂÄºÔºå‰πüÂèØ‰ª•ÊòØ<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#specifying-durations" >ÊåÅÁª≠Êó∂Èó¥<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cpu_rt_peroid:</span> <span class="string">&#x27;1400us&#x27;</span></span><br><span class="line"><span class="attr">cpu_rt_peroid:</span> <span class="number">11000</span></span><br></pre></td></tr></table></figure>

<h3 id="cpus"><a href="#cpus" class="headerlink" title="cpus"></a>cpus</h3><p>Â∑≤Â∫üÂºÉ. ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/deploy/#cpus" >deploy.reservations.cpus<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="cpuset"><a href="#cpuset" class="headerlink" title="cpuset"></a>cpuset</h3><p>ÂÆö‰πâÂÖÅËÆ∏ÊâßË°åÁöÑÊåáÂÆö CPU„ÄÇ ÂèØ‰ª•ÊòØËåÉÂõ¥ 0-3 ÊàñÂàóË°® 0,1</p>
<h3 id="cap-add"><a href="#cap-add" class="headerlink" title="cap_add"></a>cap_add</h3><p>Â∞ÜÂÖ∂‰ªñÂÆπÂô®<a class="link"   target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man7/capabilities.7.html" >ÂäüËÉΩ<i class="fas fa-external-link-alt"></i></a>ÊåáÂÆö‰∏∫Â≠óÁ¨¶‰∏≤</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cap_add:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ALL</span></span><br></pre></td></tr></table></figure>

<h3 id="cap-drop"><a href="#cap-drop" class="headerlink" title="cap_drop"></a>cap_drop</h3><p>ÊåáÂÆöË¶Å‰Ωú‰∏∫Â≠óÁ¨¶‰∏≤Âà†Èô§ÁöÑÂÆπÂô®<a class="link"   target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man7/capabilities.7.html" >ÂäüËÉΩ<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cap_drop:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">NET_ADMIN</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SYS_ADMIN</span></span><br></pre></td></tr></table></figure>

<h3 id="cgroup-parent"><a href="#cgroup-parent" class="headerlink" title="cgroup_parent"></a>cgroup_parent</h3><p>‰∏∫ÂÆπÂô®ÊåáÂÆö‰∏Ä‰∏™ÂèØÈÄâÁöÑÁà∂ <a class="link"   target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man7/cgroups.7.html" >cgroup<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cgroup_parent:</span> <span class="string">m-executor-abcd</span></span><br></pre></td></tr></table></figure>

<h3 id="command"><a href="#command" class="headerlink" title="command"></a>command</h3><p>Ë¶ÜÁõñÂÆπÂô®ÈïúÂÉèÔºàÂç≥ Dockerfile ÁöÑ <code>CMD</code>ÔºâÂ£∞ÊòéÁöÑÈªòËÆ§ÂëΩ‰ª§</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">command:</span> <span class="string">bundle</span> <span class="string">exec</span> <span class="string">thin</span> <span class="string">-p</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure>

<p>ÂëΩ‰ª§ÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÂàóË°®, ‰ª•Á±ª‰ºº <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/#cmd" >Dockerfile<i class="fas fa-external-link-alt"></i></a> ÁöÑÊñπÂºè:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">command:</span> [ <span class="string">&quot;bundle&quot;</span>, <span class="string">&quot;exec&quot;</span>, <span class="string">&quot;thin&quot;</span>, <span class="string">&quot;-p&quot;</span>, <span class="string">&quot;3000&quot;</span> ]</span><br></pre></td></tr></table></figure>

<h3 id="configs"><a href="#configs" class="headerlink" title="configs"></a>configs</h3><p><code>configs</code> ‰ΩøÁî® per-service <code>configs</code> ÈÖçÁΩÆÂú®ÊØè‰∏™ÊúçÂä°ÁöÑÂü∫Á°Ä‰∏äÊéà‰∫àÂØπÈÖçÁΩÆÁöÑËÆøÈóÆÊùÉÈôê„ÄÇ ÊîØÊåÅ‰∏§Áßç‰∏çÂêåÁöÑËØ≠Ê≥ïÂèò‰Ωì</p>
<h4 id="Short-syntax"><a href="#Short-syntax" class="headerlink" title="Short syntax"></a>Short syntax</h4><p>Áü≠ËØ≠Ê≥ïÂèò‰Ωì‰ªÖÊåáÂÆöÈÖçÁΩÆÂêçÁß∞„ÄÇËøôÂ∞ÜÊéà‰∫àÂÆπÂô®ÂØπÈÖçÁΩÆÁöÑËÆøÈóÆÊùÉÈôêÂπ∂Â∞ÜÂÖ∂ÂÆâË£ÖÂú®ÂÆπÂô®ÂÜÖÁöÑ <code>/&lt;config_name&gt;</code> Â§Ñ„ÄÇÊ∫êÂêçÁß∞ÂíåÁõÆÊ†áÊåÇËΩΩÁÇπÈÉΩËÆæÁΩÆ‰∏∫ÈÖçÁΩÆÂêçÁß∞„ÄÇ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:latest</span></span><br><span class="line">    <span class="attr">configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">my_config</span></span><br><span class="line"><span class="attr">configs:</span></span><br><span class="line">  <span class="attr">my_config:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">./my_config.txt</span></span><br><span class="line">  <span class="attr">my_other_config:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h4 id="Long-syntax"><a href="#Long-syntax" class="headerlink" title="Long syntax"></a>Long syntax</h4><p>ÈïøËØ≠Ê≥ï‰∏∫Â¶Ç‰ΩïÂú®ÊúçÂä°ÁöÑ‰ªªÂä°ÂÆπÂô®‰∏≠ÂàõÂª∫ÈÖçÁΩÆÊèê‰æõ‰∫ÜÊõ¥Â§öÁ≤íÂ∫¶</p>
<ul>
<li><code>source</code></li>
<li><code>target</code></li>
<li><code>uid</code> Âíå <code>gid</code></li>
<li><code>mode</code></li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:latest</span></span><br><span class="line">    <span class="attr">configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">source:</span> <span class="string">my_config</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/redis_config</span></span><br><span class="line">        <span class="attr">uid:</span> <span class="string">&quot;103&quot;</span></span><br><span class="line">        <span class="attr">gid:</span> <span class="string">&quot;103&quot;</span></span><br><span class="line">        <span class="attr">mode:</span> <span class="number">0440</span></span><br><span class="line"><span class="attr">configs:</span></span><br><span class="line">  <span class="attr">my_config:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">my_other_config:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ÊÇ®ÂèØ‰ª•Êéà‰∫àÊúçÂä°ËÆøÈóÆÂ§ö‰∏™ÈÖçÁΩÆÁöÑÊùÉÈôêÔºåÂπ∂‰∏îÂèØ‰ª•Ê∑∑Âêà‰ΩøÁî®ÈïøËØ≠Ê≥ïÂíåÁü≠ËØ≠Ê≥ï</p>
<h3 id="container-name"><a href="#container-name" class="headerlink" title="container_name"></a>container_name</h3><p>ÊåáÂÆöËá™ÂÆö‰πâÂÆπÂô®ÂêçÁß∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËÄå‰∏çÊòØÁîüÊàêÁöÑÈªòËÆ§ÂêçÁß∞</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">container_name:</span> <span class="string">my-web-container</span></span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÊèê‰æõ‰∫Ü, <code>container_name</code> Â∫îËØ•ÈÅµÂæ™ËøôÊ†∑ÁöÑÊ≠£ÂàôË°®ËææÂºè: <code>[a-zA-Z0-9][a-zA-Z0-9_.-]+</code></p>
<h3 id="credential-spec"><a href="#credential-spec" class="headerlink" title="credential_spec"></a>credential_spec</h3><p>‰∏∫ÊâòÁÆ°ÊúçÂä°Â∏êÊà∑ÈÖçÁΩÆÂá≠ÊçÆËßÑËåÉ</p>
<p><code>credential_spec</code> ÂøÖÈ°ªÊòØ <code>file://&lt;filename&gt;</code> Êàñ <code>registry://&lt;value-name&gt;</code> ÁöÑÊ†ºÂºè</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">credential_spec:</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">my-credential-spec.json</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">credential_spec:</span></span><br><span class="line">  <span class="attr">registry:</span> <span class="string">my-credential-spec</span></span><br></pre></td></tr></table></figure>

<h4 id="Example-gMSA-configuration"><a href="#Example-gMSA-configuration" class="headerlink" title="Example gMSA configuration"></a>Example gMSA configuration</h4><p>‰∏∫ÊúçÂä°ÈÖçÁΩÆ gMSA Âá≠ËØÅËßÑËåÉÊó∂ÔºåÂè™ÈúÄ‰ΩøÁî® <code>config</code> ÊåáÂÆöÂá≠ËØÅËßÑËåÉ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">myservice:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">myimage:latest</span></span><br><span class="line">    <span class="attr">credential_spec:</span></span><br><span class="line">      <span class="attr">config:</span> <span class="string">my_credential_spec</span></span><br><span class="line"></span><br><span class="line"><span class="attr">configs:</span></span><br><span class="line">  <span class="attr">my_credentials_spec:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">./my-credential-spec.json|</span></span><br></pre></td></tr></table></figure>

<h3 id="depends-on"><a href="#depends-on" class="headerlink" title="depends_on"></a>depends_on</h3><p>Ë°®Á§∫ÊúçÂä°‰πãÈó¥ÁöÑÂêØÂä®ÂíåÂÖ≥Èó≠‰æùËµñÂÖ≥Á≥ª</p>
<h4 id="Short-syntax-1"><a href="#Short-syntax-1" class="headerlink" title="Short syntax"></a>Short syntax</h4><p>Áü≠ËØ≠Ê≥ïÂèò‰Ωì‰ªÖÊåáÂÆö‰æùËµñÈ°πÁöÑÊúçÂä°ÂêçÁß∞</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres</span></span><br></pre></td></tr></table></figure>

<p><code>db</code> Âíå <code>redis</code> Âú® <code>web</code> ‰πãÂâçË¢´ÂàõÂª∫. ‰ª•ÂÆπÂô®ÁöÑ ‚Äúready‚Äù Áä∂ÊÄÅÊù•Âà§Êñ≠Ë¢´‰æùËµñÁöÑÂÆπÂô®ÊòØÂê¶Â∞±Áª™</p>
<p><code>web</code> Âú® <code>db</code> Âíå <code>redis</code> ‰πãÂâçË¢´Âà†Èô§</p>
<h4 id="Long-syntax-1"><a href="#Long-syntax-1" class="headerlink" title="Long syntax"></a>Long syntax</h4><p>ÂêØÁî®Êó†Ê≥ï‰ª•ÁÆÄÁü≠ÂΩ¢ÂºèË°®ËææÁöÑÈôÑÂä†Â≠óÊÆµÁöÑÈÖçÁΩÆ</p>
<ul>
<li><code>condition</code><ul>
<li><code>service_started</code></li>
<li><code>service_healthy</code></li>
<li><code>service_completed_successfully</code></li>
</ul>
</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="attr">db:</span></span><br><span class="line">        <span class="attr">condition:</span> <span class="string">service_healthy</span></span><br><span class="line">      <span class="attr">redis:</span></span><br><span class="line">        <span class="attr">condition:</span> <span class="string">service_started</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres</span></span><br></pre></td></tr></table></figure>

<p><code>db</code> Âíå <code>redis</code> Âú® <code>web</code> ‰πãÂâçË¢´ÂàõÂª∫. ‰ª•ÂÆπÂô®ÁöÑ ‚Äúhealthy‚Äù Áä∂ÊÄÅÊù•Âà§Êñ≠Ë¢´‰æùËµñÁöÑÂÆπÂô®ÊòØÂê¶Â∞±Áª™</p>
<p><code>web</code> Âú® <code>db</code> Âíå <code>redis</code> ‰πãÂâçË¢´Âà†Èô§</p>
<h3 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h3><p>ÊåáÂÆöÊúçÂä°ÁöÑÈÉ®ÁΩ≤ÂíåÁîüÂëΩÂë®ÊúüÁöÑÈÖçÁΩÆÔºåÂ¶ÇÊ≠§<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/deploy/" >Â§ÑÊâÄ<i class="fas fa-external-link-alt"></i></a>ÂÆö‰πâ</p>
<h3 id="device-cgroup-rules"><a href="#device-cgroup-rules" class="headerlink" title="device_cgroup_rules"></a>device_cgroup_rules</h3><p>‰∏∫Ê≠§ÂÆπÂô®ÂÆö‰πâËÆæÂ§á cgroup ËßÑÂàôÂàóË°®„ÄÇ Ê†ºÂºè‰∏éLinuxÂÜÖÊ†∏Âú®<a class="link"   target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/devices.html" >Control Groups Device Whitelist Controller<i class="fas fa-external-link-alt"></i></a>‰∏≠ÊåáÂÆöÁöÑÊ†ºÂºèÁõ∏Âêå</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">device_cgroup_rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;c 1:3 mr&#x27;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;a 7:* rmw&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="devices"><a href="#devices" class="headerlink" title="devices"></a>devices</h3><p>‰ª• <code>HOST_PATH:CONTAINER_PATH[:CGROUP_PERMISSIONS]</code>ÁöÑÂΩ¢Âºè‰∏∫ÂàõÂª∫ÁöÑÂÆπÂô®ÂÆö‰πâËÆæÂ§áÊò†Â∞ÑÂàóË°®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devices:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;/dev/ttyUSB0:/dev/ttyUSB0&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;/dev/sda:/dev/xvda:rwm&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="dns"><a href="#dns" class="headerlink" title="dns"></a>dns</h3><p>ÂÆö‰πâË¶ÅÂú®ÂÆπÂô®ÁΩëÁªúÊé•Âè£ÈÖçÁΩÆ‰∏äËÆæÁΩÆÁöÑËá™ÂÆö‰πâ DNS ÊúçÂä°Âô®„ÄÇ ÂèØ‰ª•ÊòØÂçï‰∏™ÂÄºÊàñÂàóË°®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dns:</span> <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dns:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">9.9</span><span class="number">.9</span><span class="number">.9</span></span><br></pre></td></tr></table></figure>

<h3 id="dns-opt"><a href="#dns-opt" class="headerlink" title="dns_opt"></a>dns_opt</h3><p>ÂàóÂá∫Ë¶Å‰º†ÈÄíÁªôÂÆπÂô®ÁöÑ DNS Ëß£ÊûêÂô®ÁöÑËá™ÂÆö‰πâ DNS ÈÄâÈ°πÔºàLinux ‰∏äÁöÑ <code>/etc/resolv.conf</code> Êñá‰ª∂Ôºâ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dns_opt:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">use-vc</span></span><br><span class="line">  <span class="bullet">-</span> <span class="literal">no</span><span class="string">-tld-query</span></span><br></pre></td></tr></table></figure>

<h3 id="dns-search"><a href="#dns-search" class="headerlink" title="dns_search"></a>dns_search</h3><p>ÂÆö‰πâËá™ÂÆö‰πâ DNS ÊêúÁ¥¢Âüü‰ª•Âú®ÂÆπÂô®ÁΩëÁªúÊé•Âè£ÈÖçÁΩÆ‰∏äËÆæÁΩÆ„ÄÇ ÂèØ‰ª•ÊòØÂçï‰∏™ÂÄºÊàñÂàóË°®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dns_search:</span> <span class="string">example.com</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dns_search:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">dc1.example.com</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">dc2.example.com</span></span><br></pre></td></tr></table></figure>

<h3 id="domainname"><a href="#domainname" class="headerlink" title="domainname"></a>domainname</h3><p>Â£∞ÊòéÁî®‰∫éÊúçÂä°ÂÆπÂô®ÁöÑËá™ÂÆö‰πâÂüüÂêç„ÄÇ ÂøÖÈ°ªÊòØÊúâÊïàÁöÑ RFC 1123 ‰∏ªÊú∫Âêç</p>
<h3 id="entrypoint"><a href="#entrypoint" class="headerlink" title="entrypoint"></a>entrypoint</h3><p>Ë¶ÜÁõñ Docker Êò†ÂÉèÁöÑÈªòËÆ§ entrypointÔºàÂç≥ Dockerfile ËÆæÁΩÆÁöÑ <code>entrypoint</code>Ôºâ</p>
<p>ÂΩì <code>entrypoint</code> Áî± Compose Êñá‰ª∂ÈÖçÁΩÆÊó∂ÔºåCompose ÂÆûÁé∞ÂøÖÈ°ªÊ∏ÖÈô§ Docker ÈïúÂÉè‰∏äÁöÑ‰ªª‰ΩïÈªòËÆ§ÂëΩ‰ª§ - Dockerfile ‰∏≠ÁöÑ <code>ENTRYPOINT</code> Âíå <code>CMD</code> Êåá‰ª§</p>
<p>Â¶ÇÊûúËøòËÆæÁΩÆ‰∫Ü <code>command</code>ÔºåÂàôÂ∞ÜÂÖ∂Áî®‰Ωú <code>entrypoint</code> ÁöÑÂèÇÊï∞Ôºå‰ª•Êõø‰ª£ Docker ÈïúÂÉèÁöÑ <code>CMD</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">entrypoint:</span> <span class="string">/code/entrypoint.sh</span></span><br></pre></td></tr></table></figure>

<p>entrypoint ‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÂàóË°®ÔºåÊñπÂºèÁ±ª‰ºº‰∫é <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/#cmd" >Dockerfile<i class="fas fa-external-link-alt"></i></a>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">entrypoint:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">php</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">-d</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">zend_extension=/usr/local/lib/php/extensions/no-debug-non-zts-20100525/xdebug/so</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">-d</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">memory_limit=-1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">vendor/bin/phpunit</span></span><br></pre></td></tr></table></figure>

<h3 id="env-file"><a href="#env-file" class="headerlink" title="env_file"></a>env_file</h3><p>Ê†πÊçÆÊñá‰ª∂ÂÜÖÂÆπÂêëÂÆπÂô®Ê∑ªÂä†ÁéØÂ¢ÉÂèòÈáè</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env_file:</span> <span class="string">.env</span></span><br></pre></td></tr></table></figure>

<p><code>env_file</code> ‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÂàóË°®„ÄÇ ÂàóË°®‰∏≠ÁöÑÊñá‰ª∂ÂøÖÈ°ªËá™‰∏äËÄå‰∏ãÂ§ÑÁêÜ„ÄÇ ÂØπ‰∫é‰∏§‰∏™ env Êñá‰ª∂‰∏≠ÊåáÂÆöÁöÑÁõ∏ÂêåÂèòÈáèÔºåÂàóË°®‰∏≠ÊúÄÂêé‰∏Ä‰∏™Êñá‰ª∂ÁöÑÂÄºÂøÖÈ°ª‰øùÊåÅ‰∏çÂèò</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env_file:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">./a.env</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">./b.env</span></span><br></pre></td></tr></table></figure>

<p>ÂøÖÈ°ª‰ªé Compose Êñá‰ª∂ÁöÑÁà∂Êñá‰ª∂Â§πËß£ÊûêÁõ∏ÂØπË∑ØÂæÑ</p>
<p>Áî±‰∫éÁªùÂØπË∑ØÂæÑ‰ºöÈòªÊ≠¢ Compose Êñá‰ª∂ÁöÑÂèØÁßªÊ§çÊÄßÔºåÂõ†Ê≠§ Compose ÂÆûÁé∞Â∫îËØ•Âú®‰ΩøÁî®Ê≠§Á±ªË∑ØÂæÑËÆæÁΩÆ <code>env_file</code> Êó∂Ë≠¶ÂëäÁî®Êà∑</p>
<p>Âú® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#environment" >environment<i class="fas fa-external-link-alt"></i></a> ÈÉ®ÂàÜ‰∏≠Â£∞ÊòéÁöÑÁéØÂ¢ÉÂèòÈáèÂøÖÈ°ªË¶ÜÁõñËøô‰∫õÂÄº ‚Äî Âç≥‰ΩøËøô‰∫õÂÄº‰∏∫Á©∫ÊàñÊú™ÂÆö‰πâ‰πüÊòØÂ¶ÇÊ≠§</p>
<h4 id="Env-file-format"><a href="#Env-file-format" class="headerlink" title="Env_file format"></a>Env_file format</h4><p>env Êñá‰ª∂‰∏≠ÁöÑÊØè‰∏ÄË°åÂøÖÈ°ªÊòØ <code>VAR[=[VAL]]</code> Ê†ºÂºè</p>
<p>ÂøÖÈ°ªÂøΩÁï•‰ª• <code>#</code> ÂºÄÂ§¥ÁöÑË°å„ÄÇ Á©∫Ë°å‰πüÂøÖÈ°ªË¢´ÂøΩÁï•</p>
<p><code>VAL</code> ÁöÑÂÄºÁî®‰ΩúÂéüÂßãÂ≠óÁ¨¶‰∏≤Ôºå‰∏ç‰Ωú‰ªª‰Ωï‰øÆÊîπ„ÄÇ Â¶ÇÊûúÂÄºË¢´ÂºïÂè∑ÂåÖÂõ¥ÔºàËøôÈÄöÂ∏∏ÊòØ shell ÂèòÈáèÁöÑÊÉÖÂÜµÔºâÔºåÂºïÂè∑ÂøÖÈ°ªÂåÖÂê´Âú®‰º†ÈÄíÁªôÁî± Compose ÂÆûÁé∞ÂàõÂª∫ÁöÑÂÆπÂô®ÁöÑÂÄº‰∏≠</p>
<p><code>VAL</code> ÂèØ‰ª•ÁúÅÁï•ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂèòÈáèÂÄºÊòØÁ©∫Â≠óÁ¨¶‰∏≤„ÄÇ <code>=VAL</code> ÂèØ‰ª•ÁúÅÁï•ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂèòÈáèÊòØÊú™ËÆæÁΩÆ (unset) ÁöÑ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Set Rails/Rack environment</span></span><br><span class="line"><span class="string">RACK_ENV=development</span></span><br><span class="line"><span class="string">VAR=&quot;quoted&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="environment"><a href="#environment" class="headerlink" title="environment"></a>environment</h3><p>ÂÆö‰πâÂÆπÂô®‰∏≠ËÆæÁΩÆÁöÑÁéØÂ¢ÉÂèòÈáè</p>
<p><code>environment</code> ÂèØ‰ª•‰ΩøÁî®Êï∞ÁªÑÊàñ map„ÄÇ ‰ªª‰ΩïÂ∏ÉÂ∞îÂÄºÔºõ true, false, yes, no, Â∫îËØ•Áî®ÂºïÂè∑Êã¨Ëµ∑Êù•‰ª•Á°Æ‰øùÂÆÉ‰ª¨‰∏ç‰ºöË¢´ YAML Ëß£ÊûêÂô®ËΩ¨Êç¢‰∏∫ True Êàñ False</p>
<p><code>environment</code> ÂèØ‰ª•Áî±Âçï‰∏™ÈîÆÂ£∞ÊòéÔºàÁ≠âÂè∑Ê≤°ÊúâÂÄºÔºâ„ÄÇ Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåCompose ÂÆûÁé∞Â∫îËØ•‰æùËµñ‰∏Ä‰∫õÁî®Êà∑‰∫§‰∫íÊù•Ëß£ÊûêÂÄº„ÄÇ Â¶ÇÊûúÊ≤°ÊúâÔºåÂàôËØ•ÂèòÈáèÊú™ËÆæÁΩÆ (unset) Âπ∂Â∞Ü‰ªéÊúçÂä°ÂÆπÂô®ÁéØÂ¢É‰∏≠Âà†Èô§</p>
<p>Map ËØ≠Ê≥ï:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="attr">RACK_ENV:</span> <span class="string">development</span></span><br><span class="line">  <span class="attr">SHOW:</span> <span class="string">&quot;true&quot;</span></span><br><span class="line">  <span class="attr">USER_INPUT:</span></span><br></pre></td></tr></table></figure>

<p>Êï∞ÁªÑËØ≠Ê≥ï:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">RACK_ENV=development</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SHOW=true</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">USER_INPUT</span></span><br></pre></td></tr></table></figure>

<p>ÂΩì‰∏∫ÊúçÂä°ËÆæÁΩÆ <code>env_file</code> Âíå <code>environment</code> Êó∂ÔºåÁî± <code>environment</code> ËÆæÁΩÆÁöÑÂÄº‰ºòÂÖà</p>
<h3 id="expose"><a href="#expose" class="headerlink" title="expose"></a>expose</h3><p>ÂÆö‰πâ Compose ÂÆûÁé∞ÂøÖÈ°ª‰ªéÂÆπÂô®ÂÖ¨ÂºÄÁöÑÁ´ØÂè£„ÄÇ Ëøô‰∫õÁ´ØÂè£ÂøÖÈ°ªÂèØ‰æõÈìæÊé•ÁöÑÊúçÂä°ËÆøÈóÆÔºåÂπ∂‰∏î‰∏çÂ∫îÂèëÂ∏ÉÂà∞ÂÆø‰∏ªÊú∫„ÄÇ Âè™ËÉΩÊåáÂÆöÂÜÖÈÉ®ÂÆπÂô®Á´ØÂè£</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">expose:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;8000&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h3><p>Âú®ÂΩìÂâçÊñá‰ª∂ÊàñÂè¶‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÁªßÊâøÂè¶‰∏Ä‰∏™ÊúçÂä°ÔºåÂèØÈÄâÊã©Âú∞Ë¶ÜÁõñÈÖçÁΩÆ„ÄÇ ÊÇ®ÂèØ‰ª•Âú®‰ªª‰ΩïÊúçÂä°‰∏ä‰ΩøÁî® <code>extends</code> ‰ª•ÂèäÂÖ∂‰ªñÈÖçÁΩÆÈîÆ</p>
<p><code>extends</code> ÂÄºÂøÖÈ°ªÊòØ‰ΩøÁî®ÂøÖÈúÄ <code>service</code> ÂíåÂèØÈÄâÁöÑ <code>file</code> ÈîÆÂÆö‰πâÁöÑÊò†Â∞Ñ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">extends:</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">common.yml</span></span><br><span class="line">  <span class="attr">service:</span> <span class="string">webapp</span></span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÊîØÊåÅÁöÑ Compose ÂÆûÁé∞ÂøÖÈ°ª‰ª•‰∏ãÂàóÊñπÂºèÂ§ÑÁêÜ <code>extends</code>:</p>
<ul>
<li><code>service</code> ÂÆö‰πâ‰Ωú‰∏∫Âü∫Á°ÄÂºïÁî®ÁöÑÊúçÂä°ÁöÑÂêçÁß∞Ôºå‰æãÂ¶Ç <code>web</code> Êàñ <code>database</code></li>
<li><code>file</code> ÊòØÂÆö‰πâËØ•ÊúçÂä°ÁöÑ Compose ÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ</li>
</ul>
<h4 id="Restrictions"><a href="#Restrictions" class="headerlink" title="Restrictions"></a>Restrictions</h4><p>‰ª•‰∏ãÈôêÂà∂ÈÄÇÁî®‰∫éË¢´ÂºïÁî®ÁöÑÊúçÂä°:</p>
<ul>
<li>‰æùËµñ‰∫éÂÖ∂‰ªñÊúçÂä°ÁöÑÊúçÂä°‰∏çËÉΩ‰Ωú‰∏∫Âü∫Á°Ä„ÄÇ Âõ†Ê≠§Ôºå‰ªª‰ΩïÂºïÂÖ•ÂØπÂè¶‰∏Ä‰∏™ÊúçÂä°ÁöÑ‰æùËµñÁöÑÈîÆÈÉΩ‰∏é <code>extends</code> ‰∏çÂÖºÂÆπ; Ëøô‰∫õÈîÆÁöÑÈùûËØ¶Â∞ΩÂàóË°®ÊòØÔºö<code>links</code>„ÄÅ<code>volumes_from</code>„ÄÅ<code>container</code> Ê®°ÂºèÔºàÂú®<code>ipc</code>„ÄÅ<code>pid</code>„ÄÅ<code>network_mode</code>Âíå<code>net</code>‰∏≠Ôºâ„ÄÅ<code>service</code>Ê®°ÂºèÔºàÂú®<code>ipc</code>‰∏≠Ôºâ , <code>pid</code> Âíå <code>network_mode</code>), <code>depends_on</code></li>
<li>ÊúçÂä°‰∏çËÉΩÊúâÂ∏¶ <code>extends</code> ÁöÑÂæ™ÁéØÂºïÁî®</li>
</ul>
<p>Âú®ÊâÄÊúâËøô‰∫õÊÉÖÂÜµ‰∏ãÔºåCompose ÂÆûÁé∞ÂøÖÈ°ªËøîÂõûÈîôËØØ</p>
<h4 id="Finding-referenced-service"><a href="#Finding-referenced-service" class="headerlink" title="Finding referenced service"></a>Finding referenced service</h4><p><code>file</code> ÂÄºÂèØ‰ª•ÊòØ:</p>
<ul>
<li>‰∏çÂ≠òÂú®„ÄÇ ËøôË°®ÊòéÊ≠£Âú®ÂºïÁî®Âêå‰∏Ä Compose Êñá‰ª∂‰∏≠ÁöÑÂè¶‰∏Ä‰∏™ÊúçÂä°</li>
<li>Êñá‰ª∂Ë∑ØÂæÑÔºåÂèØ‰ª•ÊòØÔºö<ul>
<li>Áõ∏ÂØπË∑ØÂæÑ„ÄÇ Ê≠§Ë∑ØÂæÑË¢´ËÆ§‰∏∫ÊòØÁõ∏ÂØπ‰∫é‰∏ª Compose Êñá‰ª∂ÁöÑ‰ΩçÁΩÆ</li>
<li>ÁªùÂØπË∑ØÂæÑ</li>
</ul>
</li>
</ul>
<p>Áî± <code>service</code> Ë°®Á§∫ÁöÑÊúçÂä°ÂøÖÈ°ªÂ≠òÂú®‰∫éÊ†áËØÜÁöÑÂºïÁî® Compose Êñá‰ª∂‰∏≠. Compose ÂÆûÁé∞ÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™ÈîôËØØÔºåÂ¶ÇÊûú:</p>
<ul>
<li>Êú™ÊâæÂà∞Áî± <code>service</code> Ë°®Á§∫ÁöÑÊúçÂä°</li>
<li>Êâæ‰∏çÂà∞Áî±<code>file</code> Ë°®Á§∫ÁöÑ Compose Êñá‰ª∂</li>
</ul>
<h4 id="Merging-service-definitions"><a href="#Merging-service-definitions" class="headerlink" title="Merging service definitions"></a>Merging service definitions</h4><p>‰∏§‰∏™ÊúçÂä°ÂÆö‰πâÔºàÂΩìÂâç Compose Êñá‰ª∂‰∏≠ÁöÑ‰∏ªË¶Å‰∏Ä‰∏™ÂíåÁî± <code>extends</code> ÊåáÂÆöÁöÑÂºïÁî®‰∏Ä‰∏™ÔºâÂøÖÈ°ªÊåâ‰ª•‰∏ãÊñπÂºèÂêàÂπ∂:</p>
<ul>
<li>Êò†Â∞Ñ: ‰∏ªÊúçÂä°ÂÆö‰πâÊò†Â∞Ñ‰∏≠ÁöÑÈîÆË¶ÜÁõñÂºïÁî®ÊúçÂä°ÂÆö‰πâÊò†Â∞Ñ‰∏≠ÁöÑÈîÆ„ÄÇ Êú™Ë¶ÜÁõñÁöÑÈîÆÊåâÂéüÊ†∑ÂåÖÂê´Âú®ÂÜÖ</li>
<li>Â∫èÂàó: È°πÁõÆË¢´ÁªÑÂêàÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂ∫èÂàó„ÄÇ ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èË¢´‰øùÁïôÔºåÂºïÁî®ÁöÑÈ°πÁõÆÂú®ÂâçÔºå‰∏ªË¶ÅÈ°πÁõÆÂú®Âêé</li>
<li>Ê†áÈáè: ‰∏ªÊúçÂä°ÂÆö‰πâ‰∏≠ÁöÑÈîÆ‰ºòÂÖà‰∫éË¢´ÂºïÁî®ÁöÑÈîÆ</li>
</ul>
<h5 id="Mappings"><a href="#Mappings" class="headerlink" title="Mappings"></a>Mappings</h5><p>‰ª•‰∏ãÂÖ≥ÈîÆÂ≠óÂøÖÈ°ª‰Ωú‰∏∫Êò†Â∞ÑÁúãÂæÖ: <code>build.args</code>,<code>build.labels</code>,<code>build.extra_hosts</code>,<code>deploy.labels</code>,<code>deploy.update_config</code>,<code>deploy.rollback_config</code>,<code>deploy.restart_policy</code>,<code>deploy.resources.limits</code>,<code>environment</code>,<code>healthcheck</code>,<code>labels</code>,<code>logging.options</code>,<code>sysctls</code>,<code>storage_opt</code>,<code>extra_hosts</code>,<code>ulimits</code></p>
<p>ÈÄÇÁî®‰∫é <code>healthcheck</code> ÁöÑ‰∏Ä‰∏™‰æãÂ§ñÊòØ‰∏ªÊò†Â∞Ñ‰∏çËÉΩÊåáÂÆö <code>disable: true</code> Èô§ÈùûÂºïÁî®ÁöÑÊò†Â∞Ñ‰πüÊåáÂÆö <code>disable: true</code>. Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåCompose ÂÆûÁé∞ÂøÖÈ°ªËøîÂõûÈîôËØØ</p>
<p>‰æãÂ¶ÇÔºå‰∏ãÈù¢ÁöÑËæìÂÖ•:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sercice:</span></span><br><span class="line">  <span class="attr">common:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">utc</span></span><br><span class="line">      <span class="attr">PORT:</span> <span class="number">80</span></span><br><span class="line">  <span class="attr">cli:</span></span><br><span class="line">    <span class="attr">extends:</span></span><br><span class="line">      <span class="attr">service:</span> <span class="string">common</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">PORT:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>

<p>‰∏∫ <code>cli</code> ÊúçÂä°ÁîüÊàê‰ª•‰∏ãÈÖçÁΩÆ„ÄÇ Â¶ÇÊûú‰ΩøÁî®Êï∞ÁªÑËØ≠Ê≥ïÔºåÂàô‰ºö‰∫ßÁîüÁõ∏ÂêåÁöÑËæìÂá∫:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="attr">PORT:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">TZ:</span> <span class="string">utc</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">busybox</span></span><br></pre></td></tr></table></figure>

<p>Âú® <code>blkio_config.device_read_bps</code>,<code>blkio_config.device_read_iops</code>,<code>blkio_config.device_write_bps</code>,<code>blkio_config.device_write_iops</code>,<code>devices</code>,<code>volumes</code> ‰∏ãÈù¢ÁöÑ items ‰πüË¢´ËßÜ‰∏∫Êò†Â∞ÑÔºåÂÖ∂‰∏≠ key ÊòØÂÆπÂô®ÂÜÖÁöÑÁõÆÊ†áË∑ØÂæÑ</p>
<p>‰æãÂ¶ÇÔºå‰∏ãÈù¢ÁöÑËæìÂÖ•:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">common:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">common-volume:/var/lib/backup/data:rw</span></span><br><span class="line">  <span class="attr">cli:</span></span><br><span class="line">    <span class="attr">extends:</span></span><br><span class="line">      <span class="attr">service:</span> <span class="string">common</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">cli-volume:/var/lib/backup/data:ro</span></span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÂºïÁî®ÁöÑÊúçÂä°ÂÆö‰πâÂåÖÂê´ <code>extends</code> Êò†Â∞ÑÔºåÂàôÂÖ∂‰∏ãÁöÑÈ°πÁõÆÂ∞ÜÁÆÄÂçïÂú∞Â§çÂà∂Âà∞Êñ∞ÁöÑÂêàÂπ∂ÂÆö‰πâ‰∏≠„ÄÇ ÁÑ∂ÂêéÂÜçÊ¨°ÂêØÂä®ÂêàÂπ∂ËøáÁ®ãÔºåÁõ¥Âà∞Ê≤°Êúâ <code>extends</code> ÈîÆÂâ©‰Ωô</p>
<p>‰æãÂ¶ÇÔºå‰∏ãÈù¢ÁöÑËæìÂÖ•:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">base:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">common:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">extends:</span></span><br><span class="line">      <span class="attr">service:</span> <span class="string">base</span></span><br><span class="line">  <span class="attr">cli:</span></span><br><span class="line">    <span class="attr">extends:</span></span><br><span class="line">      <span class="attr">service:</span> <span class="string">common</span></span><br></pre></td></tr></table></figure>

<p>‰∏∫ <code>cli</code> ÊúçÂä°ÁîüÊàê‰ª•‰∏ãÈÖçÁΩÆ„ÄÇ Âú®ËøôÈáåÔºå<code>cli</code> ÊúçÂä°‰ªé <code>common</code> ÊúçÂä°‰∏≠Ëé∑Âèñ <code>user</code> ÈîÆÔºåËÄåÂêéËÄÖÂèà‰ªé <code>base</code> ÊúçÂä°‰∏≠Ëé∑ÂèñÈîÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line"><span class="attr">user:</span> <span class="string">root</span></span><br></pre></td></tr></table></figure>

<h5 id="Sequences"><a href="#Sequences" class="headerlink" title="Sequences"></a>Sequences</h5><p>‰ª•‰∏ãÈîÆÂ∫îË¢´ËßÜ‰∏∫Â∫èÂàóÔºö<code>cap_add</code>,<code>cap_drop</code>,<code>configs</code>,<code>deploy.placement.constraints</code>,<code>deploy.placement.preferences</code>,<code>deploy.reservations.generic_resources</code>,<code>device_cgroup_rules</code>,<code>expose</code>,<code>external_links</code>,<code>ports</code>,<code>secrets</code>,<code>security_opt</code>. Âà†Èô§ÂêàÂπ∂‰∫ßÁîüÁöÑ‰ªª‰ΩïÈáçÂ§çÈ°πÔºå‰ª•‰æøÂ∫èÂàó‰ªÖÂåÖÂê´ÂîØ‰∏ÄÂÖÉÁ¥†</p>
<p>‰æãÂ¶ÇÔºå‰∏ãÈù¢ÁöÑËæìÂÖ•:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">common:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">security_opt:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">label:role:ROLE</span></span><br><span class="line">  <span class="attr">cli:</span></span><br><span class="line">    <span class="attr">extends:</span></span><br><span class="line">      <span class="attr">service:</span> <span class="string">common</span></span><br><span class="line">    <span class="attr">security_opt:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">label:user:USER</span></span><br></pre></td></tr></table></figure>

<p>‰∏∫ <code>cli</code> ÊúçÂä°ÁîüÊàê‰ª•‰∏ãÈÖçÁΩÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line"><span class="attr">security_opt:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">label:role:ROLE</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">label:user:USER</span></span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûú‰ΩøÁî®ÂàóË°®ËØ≠Ê≥ïÔºåÂàô‰ª•‰∏ãÈîÆ‰πüÂ∫îËßÜ‰∏∫Â∫èÂàóÔºö<code>dns</code>,<code>dns_search</code>,<code>env_file</code>,<code>tmpfs</code>; ‰∏é‰∏äÈù¢ÊèêÂà∞ÁöÑÂ∫èÂàóÂ≠óÊÆµ‰∏çÂêåÔºåÂêàÂπ∂‰∫ßÁîüÁöÑÈáçÂ§çÈ°π‰∏ç‰ºöË¢´Âà†Èô§</p>
<h5 id="Scalars"><a href="#Scalars" class="headerlink" title="Scalars"></a>Scalars</h5><p>ÊúçÂä°ÂÆö‰πâ‰∏≠ÁöÑ‰ªª‰ΩïÂÖ∂‰ªñÂÖÅËÆ∏ÁöÑÈîÆÈÉΩÂ∫îËßÜ‰∏∫Ê†áÈáè</p>
<h3 id="external-links"><a href="#external-links" class="headerlink" title="external_links"></a>external_links</h3><p>Â∞ÜÊúçÂä°ÂÆπÂô®ÈìæÊé•Âà∞Âú®Ê≠§ Compose Â∫îÁî®Á®ãÂ∫è‰πãÂ§ñÁÆ°ÁêÜÁöÑÊúçÂä°</p>
<p><code>external_links</code> ÂÆö‰πâË¶Å‰ΩøÁî®Âπ≥Âè∞Êü•ÊâæÊú∫Âà∂Ê£ÄÁ¥¢ÁöÑÁé∞ÊúâÊúçÂä°ÁöÑÂêçÁß∞„ÄÇ ÂèØ‰ª•ÊåáÂÆö <code>SERVICE:ALIAS</code> ÂΩ¢ÂºèÁöÑÂà´Âêç</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">external_links:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">database:mysql</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">database:postgresql</span></span><br></pre></td></tr></table></figure>

<h3 id="extra-hosts"><a href="#extra-hosts" class="headerlink" title="extra_hosts"></a>extra_hosts</h3><p>Â∞Ü‰∏ªÊú∫ÂêçÊò†Â∞ÑÊ∑ªÂä†Âà∞ÂÆπÂô®ÁΩëÁªúÊé•Âè£ÈÖçÁΩÆÔºàLinux ÁöÑ <code>/etc/hosts</code>Ôºâ</p>
<p>ÂÄºÂøÖÈ°ª‰ª• <code>HOSTNAME:IP</code> ÁöÑÂΩ¢Âºè‰∏∫ÂÖ∂‰ªñ‰∏ªÊú∫ËÆæÁΩÆ‰∏ªÊú∫ÂêçÂíå IP Âú∞ÂùÄ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">extra_hosts:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;somehost:162.242.195.82&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;otherhost:50.31.209.229&quot;</span></span><br></pre></td></tr></table></figure>

<p>Compose ÂÆûÁé∞ÂøÖÈ°ªÂú®ÂÆπÂô®ÁöÑÁΩëÁªúÈÖçÁΩÆ‰∏≠ÂàõÂª∫‰∏é IP Âú∞ÂùÄÂíå‰∏ªÊú∫ÂêçÂåπÈÖçÁöÑÊù°ÁõÆÔºåËøôÊÑèÂë≥ÁùÄÂØπ‰∫é Linux <code>/etc/hosts</code> Â∞ÜËé∑ÂæóÈ¢ùÂ§ñÁöÑË°å:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">162.242.195.82  somehost</span><br><span class="line">50.31.209.229   otherhost</span><br></pre></td></tr></table></figure>

<h3 id="group-add"><a href="#group-add" class="headerlink" title="group_add"></a>group_add</h3><p>ÊåáÂÆöÂÆπÂô®ÂÜÖÁöÑÁî®Êà∑ÂøÖÈ°ªÊòØÈ¢ùÂ§ñÁöÑÁªÑÁöÑÊàêÂëòÔºàÊåâÂêçÁß∞ÊàñÁºñÂè∑Ôºâ</p>
<p>ËøôÂæàÊúâÁî®ÁöÑ‰∏Ä‰∏™‰æãÂ≠êÊòØ, ÂΩìÂ§ö‰∏™ÂÆπÂô®Ôºà‰Ωú‰∏∫‰∏çÂêåÁöÑÁî®Êà∑ËøêË°åÔºâÈúÄË¶ÅÂú®ÂÖ±‰∫´Âç∑‰∏äËØªÂèñÊàñÂÜôÂÖ•Áõ∏ÂêåÁöÑÊñá‰ª∂Êó∂. ËØ•Êñá‰ª∂ÂèØ‰ª•Áî±ÊâÄÊúâÂÆπÂô®ÂÖ±‰∫´ÁöÑÁªÑÊã•ÊúâÔºåÂπ∂Âú® <code>group_add</code> ‰∏≠ÊåáÂÆö</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">myservice:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">group_add:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mail</span></span><br></pre></td></tr></table></figure>

<p>Âú®ÂàõÂª∫ÁöÑÂÆπÂô®‰∏≠ËøêË°å <code>id</code> ÂøÖÈ°ªÊòæÁ§∫Áî®Êà∑Â±û‰∫é <code>mail</code> ÁªÑÔºåÂ¶ÇÊûúÊú™Â£∞Êòé <code>group_add</code> Âàô‰∏ç‰ºöÂá∫Áé∞ËøôÁßçÊÉÖÂÜµ</p>
<h3 id="healthcheck"><a href="#healthcheck" class="headerlink" title="healthcheck"></a>healthcheck</h3><p>Â£∞ÊòéËøêË°åÊ£ÄÊü•‰ª•Á°ÆÂÆöËØ•ÊúçÂä°ÁöÑÂÆπÂô®ÊòØÂê¶ ‚Äúhealthy‚Äù</p>
<p>Ëøô‰ºöË¶ÜÁõñÊúçÂä°ÁöÑ Docker Êò†ÂÉèËÆæÁΩÆÁöÑ <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/#healthcheck" >HEALTHCHECK Dockerfile instruction<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">healthcheck:</span></span><br><span class="line">  <span class="attr">test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost&quot;</span>]</span><br><span class="line">  <span class="attr">interval:</span> <span class="string">1m30s</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="string">10s</span></span><br><span class="line">  <span class="attr">retries:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">start_period:</span> <span class="string">40s</span></span><br></pre></td></tr></table></figure>

<p><code>interval</code>,<code>timeout</code>,<code>start_period</code> Ë¢´<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#specifying-durations" >ÂÆö‰πâ‰∏∫Êó∂Èó¥ÊÆµ<i class="fas fa-external-link-alt"></i></a></p>
<p><code>test</code> ÂÆö‰πâ‰∫Ü Compose ÂÆûÁé∞Â∞ÜËøêË°å‰ª•Ê£ÄÊü•ÂÆπÂô®ËøêË°åÁä∂ÂÜµÁöÑÂëΩ‰ª§„ÄÇ ÂÆÉÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤ÊàñÂàóË°®„ÄÇ Â¶ÇÊûúÊòØÂàóË°®ÔºåÁ¨¨‰∏ÄÈ°πÂøÖÈ°ªÊòØ <code>NONE</code>„ÄÅ<code>CMD</code> Êàñ <code>CMD-SHELL</code>„ÄÇ Â¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂàôÁõ∏ÂΩì‰∫éÊåáÂÆö <code>CMD-SHELL</code> ÂêéË∑üËØ•Â≠óÁ¨¶‰∏≤</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hit the local web app</span></span><br><span class="line"><span class="attr">test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>‰ΩøÁî® <code>CMD-SHELL</code> Â∞Ü‰ΩøÁî®ÂÆπÂô®ÁöÑÈªòËÆ§ shellÔºàLinux ÁöÑ<code>/bin/sh</code>ÔºâËøêË°åÈÖçÁΩÆ‰∏∫Â≠óÁ¨¶‰∏≤ÁöÑÂëΩ‰ª§„ÄÇ ‰∏ãÈù¢‰∏§ÁßçÂΩ¢ÂºèÊòØÁ≠â‰ª∑ÁöÑ:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">test:</span> [<span class="string">&quot;CMD-SHELL&quot;</span>, <span class="string">&quot;curl -f http://localhost || exit 1&quot;</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">test:</span> <span class="string">curl</span> <span class="string">-f</span> <span class="string">https://localhost</span> <span class="string">||</span> <span class="string">exit</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><code>NONE</code> Á¶ÅÁî®ÂÅ•Â∫∑Ê£ÄÊü•Ôºå‰∏ªË¶ÅÁî®‰∫éÁ¶ÅÁî®ÈÄöËøáÈïúÂÉèËÆæÁΩÆÁöÑÂÅ•Â∫∑Ê£ÄÊü•„ÄÇ ÊàñËÄÖÔºåÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ <code>disable: true</code> Êù•Á¶ÅÁî®ÈïúÂÉèËÆæÁΩÆÁöÑÂÅ•Â∫∑Ê£ÄÊü•:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">healthcheck:</span></span><br><span class="line">  <span class="attr">disable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="hostname"><a href="#hostname" class="headerlink" title="hostname"></a>hostname</h3><p>Â£∞ÊòéÁî®‰∫éÊúçÂä°ÂÆπÂô®ÁöÑËá™ÂÆö‰πâ‰∏ªÊú∫Âêç„ÄÇ ÂøÖÈ°ªÊòØÊúâÊïàÁöÑ RFC 1123 ‰∏ªÊú∫Âêç</p>
<h3 id="image"><a href="#image" class="headerlink" title="image"></a>image</h3><p>ÊåáÂÆöÂêØÂä®ÂÆπÂô®ÁöÑÈïúÂÉè„ÄÇ ÈïúÂÉèÂøÖÈ°ªÈÅµÂæ™ÂºÄÊîæÂÆπÂô®ËßÑËåÉ <a class="link"   target="_blank" rel="noopener" href="https://github.com/opencontainers/org/blob/master/docs/docs/introduction/digests.md" >addressable image format<i class="fas fa-external-link-alt"></i></a>ÔºåÂ¶Ç <code>[&lt;registry&gt;/][&lt;project&gt;/]&lt;image&gt;</code>[:<tag>|@<digest>]&#96;</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">redis:5</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">redis@sha256:0ed5d5928d4737458944eb604cc8509e245c3e19d02ad83935398bc4b991aac7</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">library/redis</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">docker.io/library/redis</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">my_private.registry:5000/redis</span></span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÂπ≥Âè∞‰∏ä‰∏çÂ≠òÂú®ËØ•ÈïúÂÉèÔºåCompose ÂÆûÁé∞ÂøÖÈ°ªÂ∞ùËØïÊ†πÊçÆ <code>pull_policy</code> ÊãâÂèñÂÆÉ</p>
<p>ÂÖ∑ÊúâÊûÑÂª∫ÊîØÊåÅÁöÑ Compose ÂÆûÁé∞ÂèØ‰ª•‰∏∫ÊúÄÁªàÁî®Êà∑Êèê‰æõÊõø‰ª£ÈÄâÈ°πÔºå‰ª•ÊéßÂà∂‰ªéÊ∫êÊûÑÂª∫ÈïúÂÉèÁöÑÊãâÂèñ‰ºòÂÖàÁ∫ßÔºå‰ΩÜÊòØÊãâÂèñÈïúÂÉèÂøÖÈ°ªÊòØÈªòËÆ§Ë°å‰∏∫</p>
<p>Âè™Ë¶ÅÂ£∞Êòé‰∫Ü <code>build</code> ÈÉ®ÂàÜÔºåÂ∞±ÂèØ‰ª•‰ªé Compose Êñá‰ª∂‰∏≠ÁúÅÁï• <code>image</code>„ÄÇ ÂΩì Compose Êñá‰ª∂‰∏≠Áº∫Â∞ë <code>image</code> Êó∂ÔºåÊ≤°ÊúâÊûÑÂª∫ÊîØÊåÅÁöÑ Compose ÂÆûÁé∞ÂøÖÈ°ªÂ§±Ë¥•</p>
<h3 id="init"><a href="#init" class="headerlink" title="init"></a>init</h3><p>Âú®ÂÆπÂô®ÂÜÖËøêË°å‰∏Ä‰∏™ init ËøõÁ®ã (PID 1) Êù•ËΩ¨Âèë‰ø°Âè∑Âπ∂Ëé∑ÂèñËøõÁ®ã. Â∞ÜÊ≠§ÈÄâÈ°πËÆæÁΩÆ‰∏∫ <code>true</code> ‰ª•‰∏∫ÊúçÂä°ÂêØÁî®Ê≠§ÂäüËÉΩ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine:latest</span></span><br><span class="line">    <span class="attr">init:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>‰ΩøÁî®ÁöÑ init ‰∫åËøõÂà∂Êñá‰ª∂ÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ</p>
<h3 id="ipc"><a href="#ipc" class="headerlink" title="ipc"></a>ipc</h3><p>ÈÖçÁΩÆÊúçÂä°ÂÆπÂô®ËÆæÁΩÆÁöÑ IPC ÈöîÁ¶ªÊ®°Âºè</p>
<p>ÂèØÁî®ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑÔºå‰ΩÜ Compose ËßÑËåÉÂÆö‰πâ‰∫ÜÁâπÂÆöÂÄºÔºåÂ¶ÇÊûúÊîØÊåÅÔºåÂàôÂøÖÈ°ªÊåâÁÖßÊèèËø∞ÂÆûÁé∞Ôºö</p>
<ul>
<li><code>shareable</code>: ÂÆÉ‰∏∫ÂÆπÂô®Êèê‰æõ‰∫ÜËá™Â∑±ÁöÑÁßÅÊúâ IPC ÂëΩÂêçÁ©∫Èó¥ÔºåÂèØ‰ª•‰∏éÂÖ∂‰ªñÂÆπÂô®ÂÖ±‰∫´ÂÆÉ</li>
<li><code>service:&#123;name&#125;</code>: Ëøô‰ΩøÂæóÂÆπÂô®Âä†ÂÖ•Âè¶‰∏Ä‰∏™Ôºà<code>shareable</code>ÔºâÂÆπÂô®ÁöÑ IPC ÂëΩÂêçÁ©∫Èó¥</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ipc:</span> <span class="string">&quot;shareable&quot;</span></span><br><span class="line"><span class="attr">ipc:</span> <span class="string">&quot;service:[service name]&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="isolation"><a href="#isolation" class="headerlink" title="isolation"></a>isolation</h3><p>ÊåáÂÆöÂÆπÂô®ÁöÑÈöîÁ¶ªÊäÄÊúØ„ÄÇ ÊîØÊåÅÁöÑÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ</p>
<h3 id="labels"><a href="#labels" class="headerlink" title="labels"></a>labels</h3><p>Â∞ÜÂÖÉÊï∞ÊçÆÊ∑ªÂä†Âà∞ÂÆπÂô®„ÄÇ ÊÇ®ÂèØ‰ª•‰ΩøÁî®Êï∞ÁªÑÊàñ map</p>
<p>Âª∫ËÆÆÊÇ®‰ΩøÁî®ÂèçÂêë DNS Ë°®Á§∫Ê≥ïÔºå‰ª•Èò≤Ê≠¢ÊÇ®ÁöÑÊ†áÁ≠æ‰∏éÂÖ∂‰ªñËΩØ‰ª∂‰ΩøÁî®ÁöÑÊ†áÁ≠æÂÜ≤Á™Å</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labels:</span></span><br><span class="line">  <span class="attr">com.example.description:</span> <span class="string">&quot;Accounting webapp&quot;</span></span><br><span class="line">  <span class="attr">com.example.department:</span> <span class="string">&quot;Finance&quot;</span></span><br><span class="line">  <span class="attr">com.example.label-with-empty-value:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labels:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.description=Accounting webapp&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.department=Finance&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.label-with-empty-value&quot;</span></span><br></pre></td></tr></table></figure>

<p>Compose ÂÆûÁé∞ÂøÖÈ°ªÂàõÂª∫Â∏¶ÊúâËßÑËåÉÊ†áÁ≠æÁöÑÂÆπÂô®Ôºö</p>
<ul>
<li><code>com.docker.compose.project</code> Â∞Ü Compose ÂÆûÁé∞ÂàõÂª∫ÁöÑÊâÄÊúâËµÑÊ∫êËÆæÁΩÆ‰∏∫Áî®Êà∑È°πÁõÆÂêçÁß∞</li>
<li><code>com.docker.compose.service</code> ‰ΩøÁî® Compose Êñá‰ª∂‰∏≠ÂÆö‰πâÁöÑÊúçÂä°ÂêçÁß∞Âú®ÊúçÂä°ÂÆπÂô®‰∏äËÆæÁΩÆ</li>
</ul>
<p><code>com.docker.compose</code> Ê†áÁ≠æÂâçÁºÄÊòØ‰øùÁïôÁöÑ„ÄÇ Âú® Compose Êñá‰ª∂‰∏≠ÊåáÂÆöÂ∏¶ÊúâÊ≠§ÂâçÁºÄÁöÑÊ†áÁ≠æÂøÖÈ°ªÂØºËá¥ËøêË°åÊó∂ÈîôËØØ</p>
<h3 id="links"><a href="#links" class="headerlink" title="links"></a>links</h3><p>ÂÆö‰πâÂè¶‰∏Ä‰∏™ÊúçÂä°‰∏≠ÂÆπÂô®ÁöÑÁΩëÁªúÈìæÊé•</p>
<p>Ë¶Å‰πàÊåáÂÆöÊúçÂä°ÂêçÁß∞ÂíåÈìæÊé•Âà´ÂêçÔºà<code>SERVICE:ALIAS</code>ÔºâÔºåË¶Å‰πàÂè™ÊåáÂÆöÊúçÂä°ÂêçÁß∞</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">web:</span></span><br><span class="line">  <span class="attr">links:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">db:database</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">redis</span></span><br></pre></td></tr></table></figure>

<p>ÈìæÊé•ÊúçÂä°ÁöÑÂÆπÂô®ÂøÖÈ°ªÂèØ‰ª•ÈÄöËøá‰∏éÂà´ÂêçÁõ∏ÂêåÁöÑ‰∏ªÊú∫ÂêçËÆøÈóÆÔºåÊàñËÄÖÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÂà´ÂêçÔºåÂàô‰ΩøÁî®ÊúçÂä°Âêç</p>
<p>ÂêØÁî®ÊúçÂä°ËøõË°åÈÄö‰ø°‰∏çÈúÄË¶ÅÈìæÊé• - ÂΩìÊ≤°ÊúâËÆæÁΩÆÁâπÂÆöÁöÑÁΩëÁªúÈÖçÁΩÆÊó∂Ôºå‰ªª‰ΩïÊúçÂä°ÂøÖÈ°ªËÉΩÂ§üÂú® <code>default</code> ÁΩëÁªú‰∏ä‰ª•ËØ•ÊúçÂä°ÁöÑÂêçÁß∞ËÆøÈóÆ‰ªª‰ΩïÂÖ∂‰ªñÊúçÂä°</p>
<p>Â¶ÇÊûúÊúçÂä°Á°ÆÂÆûÂ£∞Êòé‰∫ÜÂÆÉ‰ª¨ÊâÄËøûÊé•ÁöÑÁΩëÁªúÔºåÂàô <code>link</code> ‰∏çÂ∫îËØ•Ë¶ÜÁõñÁΩëÁªúÈÖçÁΩÆÔºåÂπ∂‰∏îÊú™ËøûÊé•Âà∞ÂÖ±‰∫´ÁΩëÁªúÁöÑÊúçÂä°‰∏çÂ∫îËØ•ËÉΩÂ§üÈÄö‰ø°</p>
<p>Compose ÂÆûÁé∞ÂèØËÉΩ‰∏ç‰ºöË≠¶ÂëäÁî®Êà∑Ê≠§ÈÖçÁΩÆ‰∏çÂåπÈÖç</p>
<p>ÈìæÊé•‰πüÂÉè <code>depends_on</code> ‰∏ÄÊ†∑Ë°®ËææÊúçÂä°‰πãÈó¥ÁöÑÈöêÂê´‰æùËµñÂÖ≥Á≥ªÔºåÂõ†Ê≠§ÂÆÉ‰ª¨ÂÜ≥ÂÆö‰∫ÜÊúçÂä°ÂêØÂä®ÁöÑÈ°∫Â∫è</p>
<h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><p>ÂÆö‰πâÊúçÂä°ÁöÑÊó•ÂøóÈÖçÁΩÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">driver:</span> <span class="string">syslog</span></span><br><span class="line">  <span class="attr">options:</span></span><br><span class="line">    <span class="attr">syslog-address:</span> <span class="string">&quot;tcp://192.168.0.42:123&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>driver</code> ÂêçÁß∞ÊåáÂÆöÊúçÂä°ÂÆπÂô®ÁöÑÊó•ÂøóËÆ∞ÂΩïÈ©±Âä®Á®ãÂ∫è„ÄÇ ÈªòËÆ§ÂÄºÂíåÂèØÁî®ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ„ÄÇ ÂèØ‰ª•‰ΩøÁî® <code>options</code> ‰Ωú‰∏∫ÈîÆÂÄºÂØπÊù•ËÆæÁΩÆÈ©±Âä®Á®ãÂ∫èÁâπÂÆöÁöÑÈÄâÈ°π</p>
<h3 id="network-mode"><a href="#network-mode" class="headerlink" title="network_mode"></a>network_mode</h3><p>ËÆæÁΩÆÊúçÂä°ÂÆπÂô®ÁΩëÁªúÊ®°Âºè</p>
<p>ÂèØÁî®ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑÔºå‰ΩÜ Compose ËßÑËåÉÂÆö‰πâ‰∫ÜÁâπÂÆöÂÄºÔºåÂ¶ÇÊûúÊîØÊåÅÔºåÂàôÂøÖÈ°ªÊåâÁÖßÊèèËø∞ÂÆûÁé∞:</p>
<ul>
<li><code>none</code> Á¶ÅÁî®ÊâÄÊúâÂÆπÂô®ÁΩëÁªú</li>
<li><code>host</code> ‰∏∫ÂÆπÂô®Êèê‰æõÂØπ‰∏ªÊú∫ÁΩëÁªúÊé•Âè£ÁöÑÂéüÂßãËÆøÈóÆÊùÉÈôê</li>
<li><code>service:&#123;name&#125;</code> Âè™ÂÖÅËÆ∏ÂÆπÂô®ËÆøÈóÆÊåáÂÆöÁöÑÊúçÂä°</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;host&quot;</span></span><br><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;none&quot;</span></span><br><span class="line"><span class="attr">network_mode:</span> <span class="string">&quot;service: [service name]&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="networks"><a href="#networks" class="headerlink" title="networks"></a>networks</h3><p>ÂÆö‰πâÊúçÂä°ÂÆπÂô®ÈôÑÂä†Âà∞ÁöÑÁΩëÁªúÔºåÂºïÁî® <code>top-level</code> ÁΩëÁªú <code>key</code> ‰∏ãÁöÑÊù°ÁõÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">some-service:</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">some-network</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">other-network</span></span><br></pre></td></tr></table></figure>

<h4 id="aliases"><a href="#aliases" class="headerlink" title="aliases"></a>aliases</h4><p>Âú®ÁΩëÁªú‰∏äÂ£∞ÊòéÊ≠§ÊúçÂä°ÁöÑÂ§áÁî®‰∏ªÊú∫Âêç</p>
<p>Âêå‰∏ÄÁΩëÁªú‰∏äÁöÑÂÖ∂‰ªñÂÆπÂô®ÂèØ‰ª•‰ΩøÁî®ÊúçÂä°ÂêçÁß∞ÊàñÊ≠§Âà´ÂêçËøûÊé•Âà∞ÊúçÂä°ÁöÑÂÆπÂô®‰πã‰∏Ä</p>
<p>Áî±‰∫é <code>aliases</code> ÊòØÁΩëÁªúËåÉÂõ¥ÁöÑÔºåÁõ∏ÂêåÁöÑÊúçÂä°Âú®‰∏çÂêåÁöÑÁΩëÁªú‰∏äÂèØ‰ª•Êúâ‰∏çÂêåÁöÑÂà´Âêç</p>
<p>Ê≥®ÊÑè: ÁΩëÁªúËåÉÂõ¥ÁöÑÂà´ÂêçÂèØ‰ª•Ë¢´Â§ö‰∏™ÂÆπÂô®ÂÖ±‰∫´ÔºåÁîöËá≥ÂèØ‰ª•Ë¢´Â§ö‰∏™ÊúçÂä°ÂÖ±‰∫´„ÄÇ Â¶ÇÊûúÊòØÔºåÂàôÊó†Ê≥ï‰øùËØÅÂêçÁß∞Ëß£Êûê‰∏∫Âì™‰∏™ÂÆπÂô®</p>
<p>‰∏ÄËà¨Ê†ºÂºèÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">some-service:</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">some-network:</span></span><br><span class="line">        <span class="attr">aliases:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">alias1</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">alias3</span></span><br><span class="line">      <span class="attr">other-network:</span></span><br><span class="line">        <span class="attr">aliases:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">alias2</span></span><br></pre></td></tr></table></figure>

<p>Âú®‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåÊúçÂä° <code>frontend</code> Â∞ÜËÉΩÂ§üËÆøÈóÆ <code>back-tier</code> ÁΩëÁªú‰∏ä‰∏ªÊú∫Âêç <code>backend</code> Êàñ <code>database</code> ‰∏≠ÁöÑ <code>backend</code> ÊúçÂä°ÔºåÂπ∂‰∏îÊúçÂä° <code>monitoring</code> Â∞ÜËÉΩÂ§üÂú® <code>admin</code> ÁΩëÁªú‰∏äÁöÑ <code>db</code> Êàñ <code>mysql</code> ËÆøÈóÆÁõ∏ÂêåÁöÑ <code>backend</code> ÊúçÂä°</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">frontent:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">front-tier</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">back-tier</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">monitoring:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/monitoring</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">admin</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/backend</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">back-tier:</span></span><br><span class="line">        <span class="attr">aliases:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">database</span></span><br><span class="line">      <span class="attr">admin:</span></span><br><span class="line">        <span class="attr">aliases:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">mysql</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">front-tier:</span></span><br><span class="line">  <span class="attr">back-tier:</span></span><br><span class="line">  <span class="attr">admin:</span>          </span><br></pre></td></tr></table></figure>

<h4 id="ipv4-address-ipv6-address"><a href="#ipv4-address-ipv6-address" class="headerlink" title="ipv4_address, ipv6_address"></a>ipv4_address, ipv6_address</h4><p>Âä†ÂÖ•ÁΩëÁªúÊó∂Ôºå‰∏∫Ê≠§ÊúçÂä°ÁöÑÂÆπÂô®ÊåáÂÆöÈùôÊÄÅ IP Âú∞ÂùÄ</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#networks" >È°∂Á∫ßÁΩëÁªúÁ´†ËäÇ<i class="fas fa-external-link-alt"></i></a>‰∏≠ÁöÑÁõ∏Â∫îÁΩëÁªúÈÖçÁΩÆÂøÖÈ°ªÊúâ‰∏Ä‰∏™ <code>ipam</code> ÂùóÔºåÂÖ∂‰∏≠Â≠êÁΩëÈÖçÁΩÆË¶ÜÁõñÊØè‰∏™ÈùôÊÄÅÂú∞ÂùÄ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">frontend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">front-tier:</span></span><br><span class="line">        <span class="attr">ipv4_address:</span> <span class="number">172.16</span><span class="number">.238</span><span class="number">.10</span></span><br><span class="line">        <span class="attr">ipv6_address:</span> <span class="number">2001</span><span class="string">:3984:3989::10</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">front-tier:</span></span><br><span class="line">    <span class="attr">ipam:</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">subnet:</span> <span class="string">&quot;172.16.238.0/24&quot;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">subnet:</span> <span class="string">&quot;2001:3984:3989::/64&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="link-local-ips"><a href="#link-local-ips" class="headerlink" title="link_local_ips"></a>link_local_ips</h4><p>ÊåáÂÆöÈìæÊé•Êú¨Âú∞ IP ÂàóË°®</p>
<p>Link-local IP ÊòØÂ±û‰∫é‰ºóÊâÄÂë®Áü•ÁöÑÂ≠êÁΩëÁöÑÁâπÊÆä IPÔºåÂÆåÂÖ®Áî±ËøêËê•ÂïÜÁÆ°ÁêÜÔºåÈÄöÂ∏∏ÂèñÂÜ≥‰∫éÂÆÉ‰ª¨ÈÉ®ÁΩ≤Âú®Âì™ÈáåÁöÑÊû∂ÊûÑ. ÂÆûÁé∞ÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">top</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">app_net:</span></span><br><span class="line">        <span class="attr">link_local_ips:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="number">57.123</span><span class="number">.22</span><span class="number">.11</span></span><br><span class="line">          <span class="bullet">-</span> <span class="number">57.123</span><span class="number">.22</span><span class="number">.13</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">app_net:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure>

<h4 id="priority"><a href="#priority" class="headerlink" title="priority"></a>priority</h4><p>ÊåáÁ§∫ Compose ÂÆûÁé∞Â∫îËØ•‰ª•‰ΩïÁßçÈ°∫Â∫èÂ∞ÜÊúçÂä°ÁöÑÂÆπÂô®ËøûÊé•Âà∞ÂÖ∂ÁΩëÁªú. Â¶ÇÊûúÊú™ÊåáÂÆöÔºåÂàôÈªòËÆ§ÂÄº‰∏∫ 0</p>
<p>Âú®‰ª•‰∏ãÁ§∫‰æã‰∏≠ÔºåÂ∫îÁî®ÊúçÂä°È¶ñÂÖàËøûÊé•Âà∞ app_net_1ÔºåÂõ†‰∏∫ÂÆÉÂÖ∑ÊúâÊúÄÈ´ò‰ºòÂÖàÁ∫ß</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">top</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">app_net_1:</span></span><br><span class="line">        <span class="attr">priority:</span> <span class="number">1000</span></span><br><span class="line">      <span class="attr">app_net_2:</span></span><br><span class="line">      <span class="attr">app_net_3:</span></span><br><span class="line">        <span class="attr">priority:</span> <span class="number">100</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">app_net_1:</span></span><br><span class="line">  <span class="attr">app_net_2:</span></span><br><span class="line">  <span class="attr">app_net_3:</span></span><br></pre></td></tr></table></figure>

<h3 id="mac-address"><a href="#mac-address" class="headerlink" title="mac_address"></a>mac_address</h3><p>‰∏∫ÊúçÂä°ÂÆπÂô®ËÆæÁΩÆ MAC Âú∞ÂùÄ</p>
<h3 id="mem-limit"><a href="#mem-limit" class="headerlink" title="mem_limit"></a>mem_limit</h3><p>Â∑≤Â∫üÂºÉ. ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/deploy/#memory" >deploy.limits.memory<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="mem-reservation"><a href="#mem-reservation" class="headerlink" title="mem_reservation"></a>mem_reservation</h3><p>Â∑≤Â∫üÂºÉ. ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/deploy/#memory" >deploy.reservations.memory<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="mem-swappiness"><a href="#mem-swappiness" class="headerlink" title="mem_swappiness"></a>mem_swappiness</h3><p><code>mem_swappiness</code> ÂÆö‰πâ‰∏ªÊú∫ÂÜÖÊ†∏‰∫§Êç¢ÂÆπÂô®‰ΩøÁî®ÁöÑÂåøÂêçÂÜÖÂ≠òÈ°µÁöÑÁôæÂàÜÊØîÔºà0Âà∞100‰πãÈó¥ÁöÑÂÄºÔºâ</p>
<ul>
<li>ÂÄº 0 ÂÖ≥Èó≠ÂåøÂêçÈ°µÈù¢‰∫§Êç¢</li>
<li>ÂÄº 100 Â∞ÜÊâÄÊúâÂåøÂêçÈ°µÈù¢ËÆæÁΩÆ‰∏∫ÂèØ‰∫§Êç¢</li>
</ul>
<p>ÈªòËÆ§ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ</p>
<h3 id="memswap-limit"><a href="#memswap-limit" class="headerlink" title="memswap_limit"></a>memswap_limit</h3><p><code>memswap_limit</code> ÂÆö‰πâ‰∫ÜÂÆπÂô®ÂÖÅËÆ∏ÁöÑ‰∫§Êç¢Âà∞Á£ÅÁõòÁöÑÂÜÖÂ≠òÊï∞Èáè</p>
<p>ËøôÊòØ‰∏Ä‰∏™‰øÆÈ•∞Á¨¶Â±ûÊÄßÔºåÂè™ÊúâÂú®‰πüËÆæÁΩÆ‰∫Ü <code>memory</code> Êó∂ÊâçÊúâÊÑè‰πâ</p>
<p>‰ΩøÁî®‰∫§Êç¢ÂÖÅËÆ∏ÂÆπÂô®Âú®ÂÆπÂô®ËÄóÂ∞ΩÊâÄÊúâÂèØÁî®ÂÜÖÂ≠òÊó∂Â∞ÜËøáÈáèÁöÑÂÜÖÂ≠òÈúÄÊ±ÇÂÜôÂÖ•Á£ÅÁõò</p>
<p>ÁªèÂ∏∏Â∞ÜÂÜÖÂ≠ò‰∫§Êç¢Âà∞Á£ÅÁõòÁöÑÂ∫îÁî®Á®ãÂ∫è‰ºöÈôç‰ΩéÊÄßËÉΩ</p>
<ul>
<li>Â¶ÇÊûú <code>memswap_limit</code> ËÆæÁΩÆ‰∏∫Ê≠£Êï¥Êï∞ÔºåÂàôÂøÖÈ°ªÂêåÊó∂ËÆæÁΩÆ <code>memory</code> Âíå <code>memswap_limit</code>. <code>memswap_limit</code> Ë°®Á§∫ÂèØ‰ª•‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂíå swap ÁöÑÊÄªÈáèÔºå<code>memory</code> ÊéßÂà∂Èùû swap ÂÜÖÂ≠òÁöÑ‰ΩøÁî®Èáè. ÊâÄ‰ª•Â¶ÇÊûú <code>memory</code> &#x3D;‚Äù300m‚ÄùÂíå<code>memswap_limit</code>&#x3D;‚Äù1g‚ÄùÔºåÂÆπÂô®ÂèØ‰ª•‰ΩøÁî® 300m ÁöÑÂÜÖÂ≠òÂíå 700mÔºà1g - 300mÔºâÁöÑ swap</li>
<li>Â¶ÇÊûú <code>memswap_limit</code> ËÆæÁΩÆ‰∏∫ 0ÔºåÂàôÂøÖÈ°ªÂøΩÁï•ËØ•ËÆæÁΩÆÔºåÂπ∂Â∞ÜËØ•ÂÄºËßÜ‰∏∫Êú™ËÆæÁΩÆ</li>
<li>Â¶ÇÊûú <code>memswap_limit</code> ËÆæÁΩÆ‰∏∫‰∏é <code>memory</code> Áõ∏ÂêåÁöÑÂÄºÔºåÂπ∂‰∏î <code>memory</code> ËÆæÁΩÆ‰∏∫Ê≠£Êï¥Êï∞ÔºåÂàôÂÆπÂô®Êó†ÊùÉËÆøÈóÆ swap</li>
<li>Â¶ÇÊûú <code>memswap_limit</code> Êú™ËÆæÁΩÆÔºåÂπ∂‰∏î <code>memory</code> ËÆæÁΩÆÔºåÂÆπÂô®ÂèØ‰ª•‰ΩøÁî®‰∏é <code>memory</code> ËÆæÁΩÆ‰∏ÄÊ†∑Â§öÁöÑ swapÔºåÂ¶ÇÊûú‰∏ªÊú∫ÂÆπÂô®ÈÖçÁΩÆ‰∫Ü swap ÂÜÖÂ≠ò</li>
<li>‰æãÂ¶ÇÔºåÂ¶ÇÊûú <code>memory</code> &#x3D;‚Äù300m‚ÄùÂπ∂‰∏îÊ≤°ÊúâËÆæÁΩÆ <code>memswap_limit</code>ÔºåÂÆπÂô®ÊÄªÂÖ±ÂèØ‰ª•‰ΩøÁî® 600m ÁöÑÂÜÖÂ≠òÂíå swap</li>
<li>Â¶ÇÊûú <code>memswap_limit</code> ÊòæÂºèËÆæÁΩÆ‰∏∫ -1ÔºåÂàôÂÖÅËÆ∏ÂÆπÂô®‰ΩøÁî®Êó†Èôê swapÔºåÊúÄÂ§ö‰∏∫‰∏ªÊú∫Á≥ªÁªü‰∏äÂèØÁî®ÁöÑÊï∞Èáè</li>
</ul>
<h3 id="oom-kill-disable"><a href="#oom-kill-disable" class="headerlink" title="oom_kill_disable"></a>oom_kill_disable</h3><p>Â¶ÇÊûúËÆæÁΩÆ‰∫Ü <code>oom_kill_disable</code>ÔºåÂàô Compose ÂÆûÁé∞ÂøÖÈ°ªÈÖçÁΩÆÂπ≥Âè∞Ôºå‰ª•‰æøÂú®ÂÜÖÂ≠ò‰∏çË∂≥ÁöÑÊÉÖÂÜµ‰∏ã‰∏ç‰ºöÊùÄÊ≠ªÂÆπÂô®</p>
<h3 id="oom-score-adj"><a href="#oom-score-adj" class="headerlink" title="oom_score_adj"></a>oom_score_adj</h3><p><code>oom_score_adj</code> Ë∞ÉÊï¥ÂÆπÂô®Âú®ÂÜÖÂ≠ò‰∏çË∂≥ÁöÑÊÉÖÂÜµ‰∏ãË¢´Âπ≥Âè∞ kill ÁöÑÂÅèÂ•Ω„ÄÇ ÂÄºÂøÖÈ°ªÂú® <code>[-1000,1000]</code> ËåÉÂõ¥ÂÜÖ</p>
<h3 id="pid"><a href="#pid" class="headerlink" title="pid"></a>pid</h3><p>‰∏∫ Compose ÂÆûÁé∞ÂàõÂª∫ÁöÑÂÆπÂô®ËÆæÁΩÆ PID Ê®°Âºè„ÄÇ ÊîØÊåÅÁöÑÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ</p>
<h3 id="pids-limit"><a href="#pids-limit" class="headerlink" title="pids_limit"></a>pids_limit</h3><p>Â∑≤Â∫üÂºÉ: ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/deploy/#pids" >deploy.reservations.pids<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="platform"><a href="#platform" class="headerlink" title="platform"></a>platform</h3><p><code>platform</code> ‰ΩøÁî® <code>os[/arch[/variant]]</code> ËØ≠Ê≥ïÂÆö‰πâ‰∫ÜÊ≠§ÊúçÂä°Â∞ÜËøêË°åÁöÑÁõÆÊ†áÂπ≥Âè∞ÂÆπÂô®</p>
<p>Compose ÂÆûÁé∞ÂøÖÈ°ªÂú®Â£∞ÊòéÊó∂‰ΩøÁî®Ê≠§Â±ûÊÄßÊù•Á°ÆÂÆöÂ∞ÜÊèêÂèñÂì™‰∏™ÁâàÊú¨ÁöÑÈïúÂÉè Âíå&#x2F;Êàñ Â∞ÜÂú®Âì™‰∏™Âπ≥Âè∞‰∏äÊâßË°åÊúçÂä°ÁöÑÊûÑÂª∫</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">platform:</span> <span class="string">osx</span></span><br><span class="line"><span class="attr">platform:</span> <span class="string">windows/amd64</span></span><br><span class="line"><span class="attr">platform:</span> <span class="string">linux/arm64/v8</span></span><br></pre></td></tr></table></figure>

<h3 id="ports"><a href="#ports" class="headerlink" title="ports"></a>ports</h3><p>Êö¥Èú≤ÂÆπÂô®Á´ØÂè£. Á´ØÂè£Êò†Â∞Ñ‰∏çÂæó‰∏é <code>network_mode: host</code> ‰∏ÄËµ∑‰ΩøÁî®ÔºåËøôÊ†∑ÂÅöÂøÖÈ°ªÂØºËá¥ËøêË°åÊó∂ÈîôËØØ</p>
<h4 id="Short-syntax-2"><a href="#Short-syntax-2" class="headerlink" title="Short syntax"></a>Short syntax</h4><p>ÁÆÄÁü≠ËØ≠Ê≥ïÊòØ‰∏Ä‰∏™ÂÜíÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁî®‰∫éËÆæÁΩÆ‰∏ªÊú∫ IP„ÄÅ‰∏ªÊú∫Á´ØÂè£ÂíåÂÆπÂô®Á´ØÂè£ÔºåÂΩ¢Âºè‰∏∫:</p>
<p><code>[HOST:]CONTAINER[/PROTOCOL]</code>:</p>
<ul>
<li><code>HOST</code> ÊòØ <code>[IP:](port | range)</code></li>
<li><code>CONTAINER</code> ÊòØ <code>port | range</code></li>
<li><code>PROTOCOL</code> Â∞ÜÁ´ØÂè£ÈôêÂà∂‰∏∫ÊåáÂÆöÁöÑÂçèËÆÆ„ÄÇ <code>tcp</code> Âíå <code>udp</code> ÂÄºÁî±ËßÑËåÉÂÆö‰πâÔºåCompose ÂÆûÁé∞ÂèØ‰ª•Êèê‰æõÂØπÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑÂçèËÆÆÂêçÁß∞ÁöÑÊîØÊåÅ</li>
</ul>
<p>Host IPÔºåÂ¶ÇÊûúÊú™ËÆæÁΩÆÔºåÂøÖÈ°ªÁªëÂÆöÂà∞ÊâÄÊúâÁΩëÁªúÊé•Âè£</p>
<p>PORT ÂèØ‰ª•ÊòØÂçï‰∏™ÂÄºÊàñËåÉÂõ¥</p>
<p>‰∏ªÊú∫ÂíåÂÆπÂô®ÂøÖÈ°ª‰ΩøÁî®Á≠âÊïàËåÉÂõ¥</p>
<p>Ë¶Å‰πàÊåáÂÆö‰∏§‰∏™Á´ØÂè£Ôºà<code>HOST:CONTAINER</code>ÔºâÔºåË¶Å‰πàÂè™ÊåáÂÆöÂÆπÂô®Á´ØÂè£. Âú®Âêé‰∏ÄÁßçÊÉÖÂÜµ‰∏ãÔºåCompose ÂÆûÁé∞Â∫îËØ•Ëá™Âä®ÂàÜÈÖç‰ªª‰ΩïÊú™ÂàÜÈÖçÁöÑ‰∏ªÊú∫Á´ØÂè£</p>
<p><code>HOST:CONTAINER</code> Â∫îÂßãÁªàÊåáÂÆö‰∏∫ÔºàÂ∏¶ÂºïÂè∑ÁöÑÔºâÂ≠óÁ¨¶‰∏≤Ôºå‰ª•ÈÅøÂÖç‰∏é <a class="link"   target="_blank" rel="noopener" href="https://yaml.org/type/float.html" >yaml base-60 float<i class="fas fa-external-link-alt"></i></a> ÂÜ≤Á™Å</p>
<p>‰æãÂ≠ê:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;3000-3005&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;8000:8000&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;9090-9091:8080-8081&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;49100:22&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;127.0.0.1:8001:8001&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;127.0.0.1:5000-5010:5000-5010&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;6060:6060/udp&quot;</span></span><br></pre></td></tr></table></figure>

<p>Ê≥®ÊÑè: Âπ≥Âè∞ÂèØËÉΩ‰∏çÊîØÊåÅ Host IP Êò†Â∞ÑÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ã Compose ÂÆûÁé∞Â∫îËØ•ÊãíÁªù Compose Êñá‰ª∂Âπ∂‰∏îÂøÖÈ°ªÈÄöÁü•Áî®Êà∑‰ªñ‰ª¨Â∞ÜÂøΩÁï•ÊåáÂÆöÁöÑ Host IP</p>
<h4 id="Long-syntax-2"><a href="#Long-syntax-2" class="headerlink" title="Long syntax"></a>Long syntax</h4><p>ÈïøÊ†ºÂºèËØ≠Ê≥ïÂÖÅËÆ∏ÈÖçÁΩÆ Êó†Ê≥ï‰ª•Áü≠Ê†ºÂºèË°®Á§∫ÁöÑ ÈôÑÂä†Â≠óÊÆµ</p>
<ul>
<li><code>target</code>: ÂÆπÂô®Á´ØÂè£</li>
<li><code>published</code>: ÂÖ¨ÂºÄÁöÑÁ´ØÂè£„ÄÇ ÂèØ‰ª•‰ΩøÁî®ËØ≠Ê≥ï <code>start-end</code> ËÆæÁΩÆ‰∏∫‰∏Ä‰∏™ËåÉÂõ¥ÔºåÁÑ∂ÂêéÂ∫îËØ•Ê†πÊçÆÂèØÁî®Á´ØÂè£Âú®Ê≠§ËåÉÂõ¥ÂÜÖÂàÜÈÖçÂÆûÈôÖÁ´ØÂè£</li>
<li><code>host_ip</code>: Host IP Êò†Â∞ÑÔºåÊú™ÊåáÂÆöË°®Á§∫ÊâÄÊúâÁΩëÁªúÊé•Âè£ (<code>0.0.0.0</code>)</li>
<li><code>protocol</code>: Á´ØÂè£ÂçèËÆÆÔºà<code>tcp</code>Êàñ<code>udp</code>ÔºâÔºåÊú™ÊåáÂÆöË°®Á§∫‰ªª‰ΩïÂçèËÆÆ</li>
<li><code>mode</code>: <code>host</code> Áî®‰∫éÂú®ÊØè‰∏™ËäÇÁÇπ‰∏äÂèëÂ∏É‰∏ªÊú∫Á´ØÂè£ÔºåÊàñ <code>ingress</code> Áî®‰∫éË¶ÅË¥üËΩΩÂπ≥Ë°°ÁöÑÁ´ØÂè£</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">target:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">host_ip:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">published:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">tcp</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">host</span></span><br><span class="line"></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">target:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">host_ip:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">published:</span> <span class="number">8000</span><span class="number">-9000</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">tcp</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">host</span></span><br></pre></td></tr></table></figure>

<h3 id="privileged"><a href="#privileged" class="headerlink" title="privileged"></a>privileged</h3><p><code>privileged</code> Â∞ÜÊúçÂä°ÂÆπÂô®ÈÖçÁΩÆ‰∏∫‰ª•ÊèêÂçáÁöÑÊùÉÈôêËøêË°å„ÄÇ ÊîØÊåÅÂíåÂÆûÈôÖÂΩ±ÂìçÂõ†Âπ≥Âè∞ËÄåÂºÇ</p>
<h3 id="profiles"><a href="#profiles" class="headerlink" title="profiles"></a>profiles</h3><p><code>profiles</code> ÂÆö‰πâ‰∫ÜË¶ÅÂêØÁî®ÁöÑÊúçÂä°ÁöÑÂëΩÂêçÈÖçÁΩÆÊñá‰ª∂ÂàóË°®„ÄÇ Êú™ËÆæÁΩÆÊó∂ÔºåÊúçÂä°ÂßãÁªàÂêØÁî®</p>
<p>Â¶ÇÊûúÂ≠òÂú®Ôºå<code>profiles</code> Â∫îËØ•ÈÅµÂæ™ <code>[a-zA-Z0-9][a-zA-Z0-9_.-]+</code> ÁöÑÊ≠£ÂàôË°®ËææÂºèÊ†ºÂºè</p>
<h3 id="pull-policy"><a href="#pull-policy" class="headerlink" title="pull_policy"></a>pull_policy</h3><p><code>pull_policy</code> ÂÆö‰πâ Compose ÂÆûÁé∞Âú®ÂºÄÂßãÊãâÂèñÈïúÂÉèÊó∂Â∞ÜÂÅöÂá∫ÁöÑÂÜ≥ÂÆö. ÂèØËÉΩÁöÑÂÄºÊòØ:</p>
<ul>
<li><code>always</code>: Compose ÂÆûÁé∞Â∫îËØ•ÊÄªÊòØ‰ªé registry ‰∏≠ÊãâÂèñÈïúÂÉè</li>
<li><code>never</code>: Compose ÂÆûÁé∞‰∏çÂ∫îËØ•‰ªé registry ‰∏≠ÊèêÂèñÈïúÂÉèÔºåÂπ∂‰∏îÂ∫îËØ•‰æùËµñ‰∫éÂπ≥Âè∞ÁºìÂ≠òÁöÑÈïúÂÉè„ÄÇ Â¶ÇÊûúÊ≤°ÊúâÁºìÂ≠òÈïúÂÉèÔºåÂàôÂøÖÈ°ªÊä•ÂëäÂ§±Ë¥•</li>
<li><code>missing</code>: ‰ªÖÂΩìÂπ≥Âè∞ÁºìÂ≠ò‰∏≠‰∏çÂèØÁî®Êó∂ÔºåCompose ÂÆûÁé∞ÊâçÂ∫îËØ•ÊãâÂèñÈïúÂÉè„ÄÇ ËøôÂ∫îËØ•ÊòØÊ≤°ÊúâÊûÑÂª∫ÊîØÊåÅÁöÑ Compose ÂÆûÁé∞ÁöÑÈªòËÆ§ÈÄâÈ°π. <code>if_not_present</code> Â∫îËØ•Ë¢´ËßÜ‰∏∫Ê≠§ÂÄºÁöÑÂà´ÂêçÔºå‰ª•ÂÆûÁé∞ÂêëÂêéÂÖºÂÆπÊÄß</li>
<li><code>build</code>: Compose ÂÆûÁé∞Â∫îËØ•ÊûÑÂª∫ÈïúÂÉè„ÄÇ Â¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®ÔºåCompose ÂÆûÁé∞Â∫îËØ•ÈáçÂª∫ÈïúÂÉè</li>
</ul>
<p>Â¶ÇÊûú <code>pull_policy</code> Âíå <code>build</code> ÈÉΩÂ≠òÂú®Ôºå Compose ÂÆûÁé∞Â∫îËØ•ÈªòËÆ§ÊûÑÂª∫ÈïúÂÉè„ÄÇ Compose ÂÆûÁé∞ÂèØ‰ª•Ë¶ÜÁõñÂ∑•ÂÖ∑Èìæ‰∏≠ÁöÑËøôÁßçË°å‰∏∫</p>
<h3 id="read-only"><a href="#read-only" class="headerlink" title="read_only"></a>read_only</h3><p><code>read_only</code> Â∞ÜÊúçÂä°ÂÆπÂô®ÈÖçÁΩÆ‰∏∫‰ΩøÁî®Âè™ËØªÊñá‰ª∂Á≥ªÁªüÂàõÂª∫</p>
<h3 id="restart"><a href="#restart" class="headerlink" title="restart"></a>restart</h3><p><code>restart</code> ÂÆö‰πâ‰∫ÜÂπ≥Âè∞Â∞ÜÂú®ÂÆπÂô®ÁªàÊ≠¢Êó∂Â∫îÁî®ÁöÑÁ≠ñÁï•</p>
<ul>
<li><code>no</code>: ÈªòËÆ§ÈáçÂêØÁ≠ñÁï•„ÄÇ Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÈÉΩ‰∏çÈáçÂêØÂÆπÂô®</li>
<li><code>always</code>: ËØ•Á≠ñÁï•ÂßãÁªà‰ºöÈáçÊñ∞ÂêØÂä®ÂÆπÂô®ÔºåÁõ¥Âà∞Â∞ÜÂÖ∂Âà†Èô§</li>
<li><code>on-failure</code>: Â¶ÇÊûúÈÄÄÂá∫‰ª£Á†ÅÊåáÁ§∫ÈîôËØØÔºåËØ•Á≠ñÁï•‰ºöÈáçÊñ∞ÂêØÂä®ÂÆπÂô®</li>
<li><code>unless-stopped</code>: Êó†ËÆ∫ÈÄÄÂá∫‰ª£Á†ÅÂ¶Ç‰ΩïÔºåËØ•Á≠ñÁï•ÈÉΩ‰ºöÈáçÊñ∞ÂêØÂä®ÂÆπÂô®Ôºå‰ΩÜ‰ºöÂú®ÊúçÂä°ÂÅúÊ≠¢ÊàñÂà†Èô§Êó∂ÂÅúÊ≠¢ÈáçÊñ∞ÂêØÂä®</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">restart:</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">restart:</span> <span class="string">on-failure</span></span><br><span class="line"><span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br></pre></td></tr></table></figure>

<h3 id="runtime"><a href="#runtime" class="headerlink" title="runtime"></a>runtime</h3><p><code>runtime</code> ÊåáÂÆöÁî®‰∫éÊúçÂä°ÂÆπÂô®ÁöÑËøêË°åÊó∂</p>
<p><code>runtime</code> ÁöÑÂÄºÊòØÁâπÂÆö‰∫éÂÆûÁé∞ÁöÑ. ‰æãÂ¶Ç, <code>runtime</code> ÂèØ‰ª•ÊòØ <a class="link"   target="_blank" rel="noopener" href="https://github.com/opencontainers/runtime-spec/blob/master/implementations.md" >OCI Runtime Spec ÁöÑÂÆûÁé∞<i class="fas fa-external-link-alt"></i></a> ÁöÑÂêçÁß∞Ôºå‰æãÂ¶Ç‚Äúrunc‚Äù</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">web:</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">busybox:latest</span></span><br><span class="line">  <span class="attr">command:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">runtime:</span> <span class="string">runc</span></span><br></pre></td></tr></table></figure>

<h3 id="scale"><a href="#scale" class="headerlink" title="scale"></a>scale</h3><p>Â∑≤Â∫üÂºÉ. ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/deploy/#replicas" >deploy&#x2F;replicas<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="secrets"><a href="#secrets" class="headerlink" title="secrets"></a>secrets</h3><p><code>secrets</code> Êéà‰∫à ÂØπÂü∫‰∫éÊØè‰∏™ÊúçÂä°ÁöÑ <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#secrets" >secrets<i class="fas fa-external-link-alt"></i></a> ÂÆö‰πâÁöÑ ÊïèÊÑüÊï∞ÊçÆÁöÑËÆøÈóÆÊùÉÈôê. ÊîØÊåÅ‰∏§Áßç‰∏çÂêåÁöÑËØ≠Ê≥ïÂèò‰ΩìÔºöÁü≠ËØ≠Ê≥ïÂíåÈïøËØ≠Ê≥ï</p>
<p>Â¶ÇÊûú secret Âú®Âπ≥Âè∞‰∏ä‰∏çÂ≠òÂú®ÊàñÊú™Âú®Ê≠§ Compose Êñá‰ª∂ÁöÑ <code>secrets</code> ÈÉ®ÂàÜ‰∏≠ÂÆö‰πâÔºåÂàô Compose ÂÆûÁé∞ÂøÖÈ°ªÊä•ÂëäÈîôËØØ</p>
<h4 id="Short-syntax-3"><a href="#Short-syntax-3" class="headerlink" title="Short syntax"></a>Short syntax</h4><p>Áü≠ËØ≠Ê≥ïÂèò‰Ωì‰ªÖÊåáÂÆö secret ÂêçÁß∞. ËøôÂ∞ÜÊéà‰∫àÂÆπÂô®ÂØπ secret ÁöÑËÆøÈóÆÊùÉÈôêÔºåÂπ∂Â∞ÜÂÖ∂‰ª•Âè™ËØªÊñπÂºèÊåÇËΩΩÂà∞ÂÆπÂô®ÂÜÖÁöÑ <code>/run/secrets/&lt;secret_name&gt;</code>. Ê∫êÂêçÁß∞ÂíåÁõÆÊ†áÊåÇËΩΩÁÇπÈÉΩËÆæÁΩÆ‰∏∫ secret ÂêçÁß∞</p>
<p>‰ª•‰∏ãÁ§∫‰æã‰ΩøÁî®ÁÆÄÁü≠ËØ≠Ê≥ïÊéà‰∫à <code>frontend</code> ÊúçÂä°ËÆøÈóÆ <code>server-certificate</code> ÂØÜÈí•ÁöÑÊùÉÈôê</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">frontend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">secrets:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">server-certificate</span></span><br><span class="line"><span class="attr">secrets:</span></span><br><span class="line">  <span class="attr">servce-certificate:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">./server.cert</span></span><br></pre></td></tr></table></figure>

<h4 id="Long-syntax-3"><a href="#Long-syntax-3" class="headerlink" title="Long syntax"></a>Long syntax</h4><p>ÈïøËØ≠Ê≥ï‰∏∫Â¶Ç‰ΩïÂú®ÊúçÂä°ÁöÑÂÆπÂô®‰∏≠ÂàõÂª∫ secret Êèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÁ≤íÂ∫¶</p>
<ul>
<li><code>source</code>: Âπ≥Âè∞‰∏äÂ≠òÂú®ÁöÑ secret ÂêçÁß∞</li>
<li><code>target</code>: Ë¶ÅÊåÇËΩΩÂú®ÊúçÂä°‰ªªÂä°ÂÆπÂô®‰∏≠ÁöÑ <code>/run/secrets/</code> ‰∏≠ÁöÑÊñá‰ª∂ÁöÑÂêçÁß∞„ÄÇ Â¶ÇÊûúÊú™ÊåáÂÆöÔºåÂàôÈªòËÆ§‰∏∫ <code>source</code></li>
<li><code>uid</code> Âíå <code>gid</code>: Êã•ÊúâÊúçÂä°‰ªªÂä°ÂÆπÂô®‰∏≠ <code>/run/secrets/</code> ‰∏≠Êñá‰ª∂ÁöÑÊï∞Â≠ó UID Êàñ GID„ÄÇ ÈªòËÆ§ÂÄº‰∏∫ËøêË°åÂÆπÂô®ÁöÑ USER</li>
<li><code>mode</code>: Âú®ÊúçÂä°ÁöÑ‰ªªÂä°ÂÆπÂô®‰∏≠ÁöÑ <code>/run/secrets/</code> ‰∏≠ÊåÇËΩΩÊñá‰ª∂ÁöÑ<a class="link"   target="_blank" rel="noopener" href="http://permissions-calculator.org/" >ÊùÉÈôê<i class="fas fa-external-link-alt"></i></a>Ôºå‰ª•ÂÖ´ËøõÂà∂Ë°®Á§∫„ÄÇ ÈªòËÆ§ÂÄº‰∏∫ÂÖ®Â±ÄÂèØËØªÊùÉÈôêÔºàÊ®°Âºè 0444Ôºâ„ÄÇ Â¶ÇÊûúËÆæÁΩÆ‰∫ÜÂèØÂÜô‰ΩçÔºåÂàôÂøÖÈ°ªÂøΩÁï•„ÄÇ ÂèØÊâßË°å‰ΩçÂèØ‰ª•ËÆæÁΩÆ</li>
</ul>
<p>‰ª•‰∏ãÁ§∫‰æãÂ∞ÜÂÆπÂô®ÂÜÖÁöÑ <code>server-certificate</code> secret Êñá‰ª∂ÁöÑÂêçÁß∞ËÆæÁΩÆ‰∏∫ <code>server.crt</code>ÔºåÂ∞ÜÊ®°ÂºèËÆæÁΩÆ‰∏∫ <code>0440</code>ÔºàÁªÑÂèØËØªÔºâÂπ∂Â∞ÜÁî®Êà∑ÂíåÁªÑËÆæÁΩÆ‰∏∫ <code>103</code><br>s</p>
<p><code>server-certificate</code> secret ÁöÑÂÄºÁî±Âπ≥Âè∞ÈÄöËøáÊü•ÊâæÊèê‰æõÔºåÂπ∂‰∏î secret ÁîüÂëΩÂë®Êúü‰∏çÁî± Compose ÂÆûÁé∞Áõ¥Êé•ÁÆ°ÁêÜ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">frontent:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">secrets:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">source:</span> <span class="string">server-certificate</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">server.cert</span></span><br><span class="line">        <span class="attr">uid:</span> <span class="string">&quot;103&quot;</span></span><br><span class="line">        <span class="attr">gid:</span> <span class="string">&quot;103&quot;</span></span><br><span class="line">        <span class="attr">mode:</span> <span class="number">0440</span></span><br><span class="line"><span class="attr">secrets:</span></span><br><span class="line">  <span class="attr">server-certificate:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ÊúçÂä°ÂèØ‰ª•Ë¢´Êéà‰∫àËÆøÈóÆÂ§ö‰∏™ secret ÁöÑÊùÉÈôê„ÄÇ ÂèØ‰ª•Âú®Âêå‰∏Ä‰∏™ Compose Êñá‰ª∂‰∏≠‰ΩøÁî® secrets ÁöÑÈïøËØ≠Ê≥ïÂíåÁü≠ËØ≠Ê≥ï„ÄÇ Âú®È°∂Á∫ß <code>secrets</code> ‰∏≠ÂÆö‰πâ‰∏Ä‰∏™ secret Áªù‰∏çËÉΩÊöóÁ§∫Êéà‰∫à‰ªª‰ΩïÊúçÂä°ÂØπÂÖ∂ÁöÑËÆøÈóÆÊùÉÈôê„ÄÇ Ê≠§Á±ªÊéàÊùÉÂøÖÈ°ªÂú®ÊúçÂä°ËßÑËåÉ‰∏≠ÊòéÁ°Æ‰Ωú‰∏∫ <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#secrets" >secrets<i class="fas fa-external-link-alt"></i></a> ÊúçÂä°ÂÖÉÁ¥†</p>
<h3 id="security-opt"><a href="#security-opt" class="headerlink" title="security_opt"></a>security_opt</h3><p><code>security_opt</code> Ë¶ÜÁõñÊØè‰∏™ÂÆπÂô®ÁöÑÈªòËÆ§Ê†áÁ≠æÊñπÊ°à</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">security_opt:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">label:user:USER</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">label:role:ROLE</span></span><br></pre></td></tr></table></figure>

<h3 id="shm-size"><a href="#shm-size" class="headerlink" title="shm_size"></a>shm_size</h3><p><code>shm_size</code> ÈÖçÁΩÆÊúçÂä°ÂÆπÂô®ÂÖÅËÆ∏ÁöÑÂÖ±‰∫´ÂÜÖÂ≠òÔºàLinux ‰∏äÁöÑ<code>/dev/shm</code> ÂàÜÂå∫ÔºâÁöÑÂ§ßÂ∞è„ÄÇ ÊåáÂÆö‰∏∫<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#specifying-byte-values" >Â≠óËäÇÂÄº<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="stdin-open"><a href="#stdin-open" class="headerlink" title="stdin_open"></a>stdin_open</h3><p><code>stdin_open</code> Â∞ÜÊúçÂä°ÂÆπÂô®ÈÖçÁΩÆ‰∏∫‰ΩøÁî®ÂàÜÈÖçÁöÑÊ†áÂáÜËæìÂÖ•ËøêË°å</p>
<h3 id="stop-grace-period"><a href="#stop-grace-period" class="headerlink" title="stop_grace_period"></a>stop_grace_period</h3><p><code>stop_grace_period</code> ÊåáÂÆö Compose ÂÆûÁé∞Âú®Â∞ùËØïÂÅúÊ≠¢ÂÆπÂô®Êó∂ÂøÖÈ°ªÁ≠âÂæÖÂ§öÈïøÊó∂Èó¥ÔºåÂ¶ÇÊûúÂÆÉ‰∏çÂ§ÑÁêÜ SIGTERMÔºàÊàñ‰ΩøÁî® <code>stop_signal</code> ÊåáÂÆöÁöÑ‰ªª‰ΩïÂÅúÊ≠¢‰ø°Âè∑ÔºâÔºåÁÑ∂ÂêéÂÜçÂèëÈÄÅ SIGKILL„ÄÇ ÊåáÂÆö‰∏∫<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#specifying-durations" >ÊåÅÁª≠Êó∂Èó¥<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">stop_grace_period:</span> <span class="string">1s</span></span><br><span class="line"><span class="attr">stop_grace_period:</span> <span class="string">1m30s</span></span><br></pre></td></tr></table></figure>

<p>ÈªòËÆ§ÂÄºÊòØÂÆπÂô®Âú®ÂèëÈÄÅ SIGKILL ‰πãÂâçÈÄÄÂá∫ÁöÑ 10 Áßí</p>
<h3 id="stop-signal"><a href="#stop-signal" class="headerlink" title="stop_signal"></a>stop_signal</h3><p><code>stop_signal</code> ÂÆö‰πâ‰∫Ü Compose ÂÆûÁé∞ÂøÖÈ°ªÁî®Êù•ÂÅúÊ≠¢ÊúçÂä°ÂÆπÂô®ÁöÑ‰ø°Âè∑„ÄÇ Â¶ÇÊûúÊú™ËÆæÁΩÆÁöÑÂÆπÂô®Ë¢´ Compose ÂÆûÁé∞ÈÄöËøáÂèëÈÄÅ <code>SIGTERM</code> ÂÅúÊ≠¢</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">stop_signal:</span> <span class="string">SIGUSER1</span></span><br></pre></td></tr></table></figure>

<h3 id="storage-opt"><a href="#storage-opt" class="headerlink" title="storage_opt"></a>storage_opt</h3><p><code>storage_opt</code> ÂÆö‰πâÊúçÂä°ÁöÑÂ≠òÂÇ®È©±Âä®Á®ãÂ∫èÈÄâÈ°π</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">storage_opt:</span></span><br><span class="line">  <span class="attr">size:</span> <span class="string">&#x27;1G&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="sysctls"><a href="#sysctls" class="headerlink" title="sysctls"></a>sysctls</h3><p><code>sysctls</code> ÂÆö‰πâË¶ÅÂú®ÂÆπÂô®‰∏≠ËÆæÁΩÆÁöÑÂÜÖÊ†∏ÂèÇÊï∞„ÄÇ <code>sysctls</code> ÂèØ‰ª•‰ΩøÁî®Êï∞ÁªÑÊàñÊò†Â∞Ñ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sysctls:</span></span><br><span class="line">  <span class="attr">net.core.somaxconn:</span> <span class="number">1024</span></span><br><span class="line">  <span class="attr">net.ipv4.tcp_syncookies:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sysctls:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">net.core.somaxconn=1024</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">net.ipv4.tcp_syncookies=0</span></span><br></pre></td></tr></table></figure>

<p>ÊÇ®Âè™ËÉΩ‰ΩøÁî®Âú®ÂÜÖÊ†∏‰∏≠ÂëΩÂêçÁ©∫Èó¥ÁöÑ sysctl„ÄÇ Docker ‰∏çÊîØÊåÅÊõ¥ÊîπÂÆπÂô®ÂÜÖÁöÑ sysctls Âõ†‰∏∫Ëøô‰πü‰ºö‰øÆÊîπ‰∏ªÊú∫Á≥ªÁªü</p>
<p>ÊúâÂÖ≥ÊîØÊåÅÁöÑ sysctls ÁöÑÊ¶ÇËø∞ÔºåËØ∑ÂèÇÈòÖ<a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/run/#configure-namespaced-kernel-parameters-sysctls-at-runtime" >Âú®ËøêË°åÊó∂ÈÖçÁΩÆÂëΩÂêçÁ©∫Èó¥ÂÜÖÊ†∏ÂèÇÊï∞ (sysctls)<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="tmpfs"><a href="#tmpfs" class="headerlink" title="tmpfs"></a>tmpfs</h3><p><code>tmpfs</code> Âú®ÂÆπÂô®ÂÜÖÊåÇËΩΩ‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü„ÄÇ ÂèØ‰ª•ÊòØÂçï‰∏™ÂÄºÊàñÂàóË°®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tmpfs:</span> <span class="string">/run</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tmpfs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/run</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/tmp</span></span><br></pre></td></tr></table></figure>

<h3 id="tty"><a href="#tty" class="headerlink" title="tty"></a>tty</h3><p><code>tty</code> ÈÖçÁΩÆÊúçÂä°ÂÆπÂô®‰ª•‰ΩøÁî® TTY ËøêË°å</p>
<h3 id="ulimits"><a href="#ulimits" class="headerlink" title="ulimits"></a>ulimits</h3><p><code>ulimits</code> Ë¶ÜÁõñÂÆπÂô®ÁöÑÈªòËÆ§ ulimits„ÄÇ Ë¶Å‰πàÂ∞ÜÂçï‰∏™ÈôêÂà∂ÊåáÂÆö‰∏∫Êï¥Êï∞ÔºåË¶Å‰πàÂ∞ÜËΩØ&#x2F;Á°¨ÈôêÂà∂ÊåáÂÆö‰∏∫Êò†Â∞Ñ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ulimits:</span></span><br><span class="line">  <span class="attr">nproc:</span> <span class="number">65535</span></span><br><span class="line">  <span class="attr">nofile:</span></span><br><span class="line">    <span class="attr">soft:</span> <span class="number">20000</span></span><br><span class="line">    <span class="attr">hard:</span> <span class="number">40000</span></span><br></pre></td></tr></table></figure>

<h3 id="user"><a href="#user" class="headerlink" title="user"></a>user</h3><p><code>user</code> Ë¶ÜÁõñÁî®‰∫éËøêË°åÂÆπÂô®ËøõÁ®ãÁöÑÁî®Êà∑„ÄÇ ÈªòËÆ§ÊòØÁî±ÈïúÂÉèËÆæÁΩÆÁöÑÔºàÂç≥ Dockerfile <code>USER</code>ÔºâÔºåÂ¶ÇÊûúÊú™ËÆæÁΩÆÔºåÂàô‰∏∫ <code>root</code></p>
<h3 id="userns-mode"><a href="#userns-mode" class="headerlink" title="userns_mode"></a>userns_mode</h3><p><code>userns_mode</code> ËÆæÁΩÆÊúçÂä°ÁöÑÁî®Êà∑ÂëΩÂêçÁ©∫Èó¥„ÄÇ ÊîØÊåÅÁöÑÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑÔºåÂèØËÉΩÂèñÂÜ≥‰∫éÂπ≥Âè∞ÈÖçÁΩÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">userns_mode:</span> <span class="string">&quot;host&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="volumes"><a href="#volumes" class="headerlink" title="volumes"></a>volumes</h3><p><code>volumes</code> ÂÆö‰πâ‰∫ÜÊúçÂä°ÂÆπÂô®ÂøÖÈ°ªÂèØ‰ª•ËÆøÈóÆÁöÑÊåÇËΩΩÂÆø‰∏ªÊú∫Ë∑ØÂæÑÊàñÂëΩÂêçÂç∑</p>
<p>Â¶ÇÊûúÊåÇËΩΩÊòØÂÆø‰∏ªÊú∫Ë∑ØÂæÑÂπ∂‰∏î‰ªÖÁî±Âçï‰∏™ÊúçÂä°‰ΩøÁî®ÔºåÂàôÂèØ‰ª•Â∞ÜÂÖ∂Â£∞Êòé‰∏∫ÊúçÂä°ÂÆö‰πâÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËÄå‰∏çÊòØÈ°∂Á∫ß <code>volumes</code> ÈîÆ</p>
<p>Ë¶ÅË∑®Â§ö‰∏™ÊúçÂä°ÈáçÁî®‰∏Ä‰∏™Âç∑ÔºåÂøÖÈ°ªÂú® <a target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#volumes-top-level-element">È°∂Â±Ç<code>volumes</code>ÈîÆ</a> ‰∏≠Â£∞Êòé‰∏Ä‰∏™ÂëΩÂêçÂç∑</p>
<p>Ê≠§Á§∫‰æãÊòæÁ§∫‰∫Ü <code>backend</code> ÊúçÂä°‰ΩøÁî®ÁöÑÂëΩÂêçÂç∑Ôºà<code>db-data</code>ÔºâÔºå‰ª•Âèä‰∏∫Âçï‰∏™ÊúçÂä°ÂÆö‰πâÁöÑÁªëÂÆöÊåÇËΩΩ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/backend</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">volume</span></span><br><span class="line">        <span class="attr">source:</span> <span class="string">db-data</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/data</span></span><br><span class="line">        <span class="attr">volume:</span></span><br><span class="line">          <span class="attr">nocopy:</span> <span class="literal">true</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">build</span></span><br><span class="line">        <span class="attr">source:</span> <span class="string">/var/run/postgres/postgres.sock</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/var/run/postgres/postgres.sock</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span></span><br></pre></td></tr></table></figure>

<h4 id="Short-syntax-4"><a href="#Short-syntax-4" class="headerlink" title="Short syntax"></a>Short syntax</h4><p>ÁÆÄÁü≠ËØ≠Ê≥ï‰ΩøÁî®Â∏¶ÊúâÂÜíÂè∑ÂàÜÈöîÂÄºÁöÑÂçï‰∏™Â≠óÁ¨¶‰∏≤Êù•ÊåáÂÆöÂç∑ÊåÇËΩΩ (<code>VOLUME:CONTAINER_PATH</code>) ÊàñËÆøÈóÆÊ®°Âºè (<code>VOLUME:CONTAINER_PATH:ACCESS_MODE</code>)</p>
<ul>
<li><code>VOLUME</code>: ÂèØ‰ª•ÊòØÊâòÁÆ°ÂÆπÂô®ÁöÑÂπ≥Âè∞‰∏äÁöÑ‰∏ªÊú∫Ë∑ØÂæÑÔºàÁªëÂÆöÊåÇËΩΩÔºâÊàñÂç∑Âêç</li>
<li><code>CONTAINER_PATH</code>: ÂÆπÂô®‰∏≠ÊåÇËΩΩÂç∑ÁöÑË∑ØÂæÑ</li>
<li><code>ACCESS_MODE</code>: ÊòØ‰∏Ä‰∏™ÈÄóÂè∑ÂàÜÈöî <code>,</code> ÁöÑÈÄâÈ°πÂàóË°®ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏∫:<ul>
<li><code>rw</code>: ËØªÂÜôËÆøÈóÆ (ÈªòËÆ§)</li>
<li><code>ro</code>: Âè™ËØªËÆøÈóÆ</li>
<li><code>z</code>: SELinux ÈÄâÈ°π, Ë°®Á§∫ÁªëÂÆöÊåÇËΩΩ‰∏ªÊú∫ÂÜÖÂÆπÊòØÂú®Â§ö‰∏™ÂÆπÂô®‰πãÈó¥ÂÖ±‰∫´</li>
<li><code>Z</code>: SELinux ÈÄâÈ°π, Ë°®Á§∫ÁªëÂÆöÊåÇËΩΩ‰∏ªÊú∫ÂÜÖÂÆπÊòØÁßÅÊúâÁöÑÔºåÂØπÂÖ∂‰ªñÂÆπÂô®‰∏çÂÖ±‰∫´</li>
</ul>
</li>
</ul>
<p>Ê≥®ÊÑè: SELinux re-labeling ÁªëÂÆöÊåÇËΩΩÈÄâÈ°πÂú®Ê≤°Êúâ SELinux ÁöÑÂπ≥Âè∞‰∏äË¢´ÂøΩÁï•</p>
<p>Ê≥®ÊÑè: Áõ∏ÂØπ‰∏ªÊú∫ÁöÑË∑ØÂæÑÂøÖÈ°ª‰ªÖÁî±ÈÉ®ÁΩ≤Âà∞Êú¨Âú∞ÂÆπÂô®ËøêË°åÊó∂ÁöÑ Compose ÂÆûÁé∞ÊîØÊåÅ„ÄÇ ËøôÊòØÂõ†‰∏∫Áõ∏ÂØπË∑ØÂæÑÊòØ‰ªé Compose Êñá‰ª∂ÁöÑÁà∂ÁõÆÂΩïËß£ÊûêÁöÑÔºåËØ•Áà∂ÁõÆÂΩï‰ªÖÈÄÇÁî®‰∫éÊú¨Âú∞ÊÉÖÂÜµ„ÄÇ ÈÉ®ÁΩ≤Âà∞ÈùûÊú¨Âú∞Âπ≥Âè∞ÁöÑ Compose ÂÆûÁé∞ÂøÖÈ°ªÊãíÁªù‰ΩøÁî®Áõ∏ÂØπ‰∏ªÊú∫Ë∑ØÂæÑÂπ∂Âá∫Áé∞ÈîôËØØÁöÑ Compose Êñá‰ª∂„ÄÇ‰∏∫ÈÅøÂÖçÂëΩÂêçÂç∑ÁöÑÊ≠ß‰πâÔºåÁõ∏ÂØπË∑ØÂæÑÂ∫îÂßãÁªà‰ª• <code>.</code> Êàñ <code>..</code> ÂºÄÂ§¥</p>
<h4 id="Long-syntax-4"><a href="#Long-syntax-4" class="headerlink" title="Long syntax"></a>Long syntax</h4><p>ÈïøÊ†ºÂºèËØ≠Ê≥ïÂÖÅËÆ∏ÈÖçÁΩÆÊó†Ê≥ï‰ª•Áü≠Ê†ºÂºèË°®Á§∫ÁöÑÈôÑÂä†Â≠óÊÆµ</p>
<ul>
<li><code>type</code>: ÊåÇËΩΩÁ±ªÂûã <code>volume</code>,<code>bind</code>,<code>tmpfs</code>,<code>npipe</code></li>
<li><code>source</code>: ÊåÇËΩΩÁöÑÊ∫ê„ÄÅ‰∏ªÊú∫‰∏äÁî®‰∫éÁªëÂÆöÊåÇËΩΩÁöÑË∑ØÂæÑÊàñÂú®<a target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#volumes-top-level-element">È°∂Â±Ç <code>volumes</code> ÈîÆ</a>‰∏≠ÂÆö‰πâÁöÑÂç∑ÁöÑÂêçÁß∞„ÄÇ ‰∏çÈÄÇÁî®‰∫é tmpfs ÊåÇËΩΩ</li>
<li><code>target</code>: ÂÆπÂô®‰∏≠ÊåÇËΩΩÂç∑ÁöÑË∑ØÂæÑ</li>
<li><code>read_only</code>: Â∞ÜÂç∑ËÆæÁΩÆ‰∏∫Âè™ËØªÁöÑÊ†áÂøó</li>
<li><code>bind</code>: ÈÖçÁΩÆÈ¢ùÂ§ñÁöÑÁªëÂÆöÈÄâÈ°π<ul>
<li><code>propagation</code>: Áî®‰∫éÁªëÂÆöÁöÑ‰º†Êí≠Ê®°Âºè</li>
<li><code>create_host_path</code>: Â¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïÂÜÖÂÆπÔºåËØ∑Âú®‰∏ªÊú∫‰∏äÁöÑÊ∫êË∑ØÂæÑÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩï„ÄÇ Â¶ÇÊûúË∑ØÂæÑ‰∏äÊúâ‰∏úË•øÔºå‰ªÄ‰πà‰πü‰∏çÂÅö„ÄÇ ‰∏∫‰∫ÜÂêëÂêéÂÖºÂÆπ docker-compose legacy ÁöÑÁü≠ËØ≠Ê≥ïËá™Âä®ÊöóÁ§∫‰∫ÜËøô‰∏ÄÁÇπ</li>
<li><code>selinux</code>: SELinux re-labeling ÈÄâÈ°π <code>z</code> (ÂÖ±‰∫´) Êàñ <code>Z</code> (ÁßÅÊúâ)</li>
</ul>
</li>
<li><code>volume</code>: ÈÖçÁΩÆÈ¢ùÂ§ñÁöÑÂç∑ÈÄâÈ°π<ul>
<li><code>nocopy</code>: ÂàõÂª∫Âç∑Êó∂ÂÅúÊ≠¢‰ªéÂÆπÂô®Â§çÂà∂Êï∞ÊçÆÁöÑÊ†áÂøó</li>
</ul>
</li>
<li><code>tmpfs</code>: ÈÖçÁΩÆÈ¢ùÂ§ñÁöÑ tmpfs ÈÄâÈ°π<ul>
<li><code>size</code>: tmpfs ÊåÇËΩΩÁöÑÂ§ßÂ∞èÔºà‰ª•Â≠óËäÇ‰∏∫Âçï‰ΩçÔºâÔºàÊï∞Â≠óÊàñÂ≠óËäÇÂçï‰ΩçÔºâ</li>
</ul>
</li>
<li><code>consistency</code>: ÊåÇËΩΩÁöÑ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç„ÄÇ ÂèØÁî®ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ</li>
</ul>
<h3 id="volumes-from"><a href="#volumes-from" class="headerlink" title="volumes_from"></a>volumes_from</h3><p><code>volumes_from</code> ÊåÇËΩΩÊù•Ëá™Âè¶‰∏Ä‰∏™ÊúçÂä°ÊàñÂÆπÂô®ÁöÑÊâÄÊúâÂç∑ÔºåÂèØÈÄâÊã©ÊåáÂÆöÂè™ËØªËÆøÈóÆ (ro) ÊàñËØªÂÜô (rw)„ÄÇ Â¶ÇÊûúÊú™ÊåáÂÆöËÆøÈóÆÁ∫ßÂà´ÔºåÂàôÂøÖÈ°ª‰ΩøÁî®ËØªÂÜô</p>
<p>Â≠óÁ¨¶‰∏≤ÂÄºÂÆö‰πâ‰∫Ü Compose Â∫îÁî®Á®ãÂ∫èÊ®°Âûã‰∏≠ÁöÑÂè¶‰∏Ä‰∏™ÊúçÂä°Êù•ÊåÇËΩΩÂç∑. <code>container:</code> ÂâçÁºÄÔºàÂ¶ÇÊûúÊîØÊåÅÔºâÂÖÅËÆ∏‰ªé‰∏çÂèó Compose ÂÆûÁé∞ÁÆ°ÁêÜÁöÑÂÆπÂô®‰∏≠ÊåÇËΩΩÂç∑</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes_from:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">service_name</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">service_name:ro</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">container:container_name</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">container:container_name:rw</span></span><br></pre></td></tr></table></figure>

<h3 id="working-dir"><a href="#working-dir" class="headerlink" title="working_dir"></a>working_dir</h3><p><code>working_dir</code> Ë¶ÜÁõñ‰∫ÜÈïúÂÉèÊåáÂÆöÁöÑÂÆπÂô®Â∑•‰ΩúÁõÆÂΩïÔºàÂç≥ Dockerfile <code>WORKDIR</code>Ôºâ</p>
<h2 id="Networks-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-networks"><a href="#Networks-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-networks" class="headerlink" title="Networks top-level element (È°∂Á∫ßÂÖÉÁ¥† networks)"></a>Networks top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>networks</code>)</h2><p>ÁΩëÁªúÊòØÂÖÅËÆ∏ÊúçÂä°Áõ∏‰∫íÈÄö‰ø°ÁöÑÂ±Ç„ÄÇ ÂêëÊúçÂä°ÂÖ¨ÂºÄÁöÑÁΩëÁªúÊ®°Âûã‰ªÖÈôê‰∫é‰∏éÁõÆÊ†áÊúçÂä°ÂíåÂ§ñÈÉ®ËµÑÊ∫êÁöÑÁÆÄÂçï IP ËøûÊé•ÔºåËÄåÁΩëÁªúÂÆö‰πâÂÖÅËÆ∏ÂæÆË∞ÉÂπ≥Âè∞Êèê‰æõÁöÑÂÆûÈôÖÂÆûÁé∞</p>
<p>ÂèØ‰ª•ÈÄöËøáÂú®È°∂Â±Ç <code>networks</code> ÈÉ®ÂàÜ‰∏ãÊåáÂÆöÁΩëÁªúÂêçÁß∞Êù•ÂàõÂª∫ÁΩëÁªú„ÄÇ ÊúçÂä°ÂèØ‰ª•ÈÄöËøáÂú®ÊúçÂä° <code>networks</code> Â∞èËäÇ‰∏ãÊåáÂÆöÁΩëÁªúÂêçÁß∞Êù•ËøûÊé•Âà∞ÁΩëÁªú</p>
<p>Âú®‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåÂú®ËøêË°åÊó∂ÔºåÂ∞ÜÂàõÂª∫ÁΩëÁªú <code>front-tier</code> Âíå <code>back-tier</code>ÔºåÂπ∂Â∞Ü <code>frontend</code> ÊúçÂä°ËøûÊé•Âà∞ <code>front-tier</code> ÁΩëÁªúÂíå <code>back-tier</code> ÁΩëÁªú</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">frontend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">front-tier</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">back-tier</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">front-tier:</span></span><br><span class="line">  <span class="string">back-tier</span></span><br></pre></td></tr></table></figure>

<h3 id="driver"><a href="#driver" class="headerlink" title="driver"></a>driver</h3><p><code>driver</code> ÊåáÂÆöËØ•ÁΩëÁªúÂ∫îËØ•‰ΩøÁî®Âì™‰∏™È©±Âä®Á®ãÂ∫è„ÄÇ Â¶ÇÊûúÈ©±Âä®Á®ãÂ∫èÂú®Âπ≥Âè∞‰∏ä‰∏çÂèØÁî®ÔºåÂàô Compose ÂÆûÁé∞ÂøÖÈ°ªËøîÂõûÈîôËØØ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver:</span> <span class="string">overlay</span></span><br></pre></td></tr></table></figure>

<p>ÈªòËÆ§ÂÄºÂíåÂèØÁî®ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ„ÄÇ Compose ËßÑËåÉÂøÖÈ°ªÊîØÊåÅ‰ª•‰∏ãÁâπÂÆöÈ©±Âä®Á®ãÂ∫èÔºö<code>none</code> Âíå <code>host</code></p>
<ul>
<li><code>host</code> ‰ΩøÁî®ÂÆø‰∏ªÊú∫ÁöÑÁΩëÁªúÂ†ÜÊ†à</li>
<li><code>none</code> ÂÖ≥Èó≠ÁΩëÁªú</li>
</ul>
<h4 id="host-or-none"><a href="#host-or-none" class="headerlink" title="host or none"></a>host or none</h4><p>‰ΩøÁî®ËØ∏Â¶Ç <code>host</code> Âíå <code>none</code> Á≠âÂÜÖÁΩÆÁΩëÁªúÁöÑËØ≠Ê≥ïÊòØ‰∏çÂêåÁöÑÔºåÂõ†‰∏∫Ëøô‰∫õÁΩëÁªúÈöêÂê´Âú∞Â≠òÂú®‰∫é Compose ÂÆûÁé∞ÁöÑËåÉÂõ¥‰πãÂ§ñ</p>
<p>Ë¶Å‰ΩøÁî®ÂÆÉ‰ª¨ÔºåÂøÖÈ°ªÂÆö‰πâ‰∏Ä‰∏™Âêç‰∏∫ <code>host</code> Êàñ <code>none</code> ÁöÑÂ§ñÈÉ®ÁΩëÁªú‰ª•Âèä Compose ÂÆûÁé∞ÂèØ‰ª•‰ΩøÁî®ÁöÑÂà´ÂêçÔºà‰ª•‰∏ãÁ§∫‰æã‰∏≠ÁöÑ <code>hostnet</code> Êàñ <code>nonet</code>ÔºâÔºåÁÑ∂ÂêéÊéà‰∫àÊúçÂä°ËÆøÈóÆËØ•ÁΩëÁªúÁöÑÊùÉÈôê ‰ΩøÁî®ÂÆÉÁöÑÂà´Âêç</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">hostnet:</span> &#123;&#125;</span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">hostnet:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">host</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">nonet:</span> &#123;&#125;</span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">nonet:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">none</span></span><br></pre></td></tr></table></figure>

<h3 id="driver-opts"><a href="#driver-opts" class="headerlink" title="driver_opts"></a>driver_opts</h3><p><code>driver_opts</code> ÊåáÂÆöÈÄâÈ°πÂàóË°®‰Ωú‰∏∫ÈîÆÂÄºÂØπ‰º†ÈÄíÁªôËØ•ÁΩëÁªúÁöÑÈ©±Âä®Á®ãÂ∫è„ÄÇ Ëøô‰∫õÈÄâÈ°πÂèñÂÜ≥‰∫éÈ©±Âä®Á®ãÂ∫è - ËØ∑ÂèÇÈòÖÈ©±Âä®Á®ãÂ∫èÊñáÊ°£‰ª•Ëé∑ÂèñÊõ¥Â§ö‰ø°ÊÅØ„ÄÇ ÂèØÈÄâ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver_opts:</span></span><br><span class="line">  <span class="attr">foo:</span> <span class="string">&quot;bar&quot;</span></span><br><span class="line">  <span class="attr">baz:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="attachable"><a href="#attachable" class="headerlink" title="attachable"></a>attachable</h3><p>Â¶ÇÊûú <code>attachable</code> ËÆæÁΩÆ‰∏∫ <code>true</code>ÔºåÈÇ£‰πàÁã¨Á´ãÂÆπÂô®Â∫îËØ•ËÉΩÂ§üÈôÑÂä†Âà∞Ëøô‰∏™ÁΩëÁªúÔºåÈô§‰∫ÜÊúçÂä°„ÄÇ Â¶ÇÊûúÁã¨Á´ãÂÆπÂô®ËøûÊé•Âà∞ÁΩëÁªúÔºåÂÆÉÂèØ‰ª•‰∏éÊúçÂä°ÂíåÂÖ∂‰ªñ‰πüËøûÊé•Âà∞ÁΩëÁªúÁöÑÁã¨Á´ãÂÆπÂô®ÈÄö‰ø°</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">mynet1:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">overlay</span></span><br><span class="line">    <span class="attr">attachable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="enable-ipv6"><a href="#enable-ipv6" class="headerlink" title="enable_ipv6"></a>enable_ipv6</h3><p>Âú®Ëøô‰∏™ÁΩëÁªú‰∏äÂºÄÂêØ IPv6 ÁΩëÁªú</p>
<h3 id="ipma"><a href="#ipma" class="headerlink" title="ipma"></a>ipma</h3><p>ÊåáÂÆöËá™ÂÆö‰πâ IPAM ÈÖçÁΩÆ. ËøôÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÂ§ö‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÊØè‰∏™Â±ûÊÄßÈÉΩÊòØÂèØÈÄâÁöÑÔºö</p>
<ul>
<li><code>driver</code>: Ëá™ÂÆö‰πâ IPAM È©±Âä®Á®ãÂ∫èÔºåËÄå‰∏çÊòØÈªòËÆ§ÁöÑ</li>
<li><code>config</code>: ÂÖ∑ÊúâÈõ∂‰∏™ÊàñÂ§ö‰∏™ÈÖçÁΩÆÂÖÉÁ¥†ÁöÑÂàóË°®ÔºåÊØè‰∏™ÂåÖÂê´<ul>
<li><code>subnet</code>: ‰ª£Ë°®ÁΩëÊÆµÁöÑ CIDR Ê†ºÂºèÁöÑÂ≠êÁΩë</li>
<li><code>ip_range</code>: ÂàÜÈÖçÂÆπÂô® IP ÁöÑ IP ËåÉÂõ¥</li>
<li><code>gateway</code>: ‰∏ªÂ≠êÁΩëÁöÑ IPv4 Êàñ IPv6 ÁΩëÂÖ≥</li>
<li><code>aux_adderss</code>: ÁΩëÁªúÈ©±Âä®Á®ãÂ∫è‰ΩøÁî®ÁöÑËæÖÂä© IPv4 Êàñ IPv6 Âú∞ÂùÄÔºå‰Ωú‰∏∫‰ªé‰∏ªÊú∫ÂêçÂà∞ IP ÁöÑÊò†Â∞Ñ</li>
</ul>
</li>
<li><code>options</code>: ÁâπÂÆö‰∫éÈ©±Âä®Á®ãÂ∫èÁöÑÈÄâÈ°π‰Ωú‰∏∫ÈîÆÂÄºÊò†Â∞Ñ</li>
</ul>
<p>ÂÆåÊï¥‰æãÂ≠ê:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ipam:</span></span><br><span class="line">  <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">config:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">subnet:</span> <span class="number">172.28</span><span class="number">.0</span><span class="number">.0</span><span class="string">/16</span></span><br><span class="line">      <span class="attr">ip_range:</span> <span class="number">172.28</span><span class="number">.5</span><span class="number">.0</span><span class="string">/24</span></span><br><span class="line">      <span class="attr">gateway:</span> <span class="number">172.28</span><span class="number">.5</span><span class="number">.254</span></span><br><span class="line">      <span class="attr">aux_addresses:</span></span><br><span class="line">        <span class="attr">host1:</span> <span class="number">172.28</span><span class="number">.1</span><span class="number">.5</span></span><br><span class="line">        <span class="attr">host2:</span> <span class="number">172.28</span><span class="number">.1</span><span class="number">.6</span></span><br><span class="line">        <span class="attr">host3:</span> <span class="number">172.28</span><span class="number">.1</span><span class="number">.7</span></span><br><span class="line">  <span class="attr">options:</span></span><br><span class="line">    <span class="attr">foo:</span> <span class="string">bar</span></span><br><span class="line">    <span class="attr">baz:</span> <span class="string">&quot;0&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="internal"><a href="#internal" class="headerlink" title="internal"></a>internal</h3><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåCompose ÂÆûÁé∞ÂøÖÈ°ªÊèê‰æõÂà∞ÁΩëÁªúÁöÑÂ§ñÈÉ®ËøûÊé•„ÄÇ <code>internal</code> ËÆæÁΩÆ‰∏∫ <code>true</code> Êó∂ÂÖÅËÆ∏ÂàõÂª∫Â§ñÈÉ®ÈöîÁ¶ªÁΩëÁªú</p>
<h3 id="labels-1"><a href="#labels-1" class="headerlink" title="labels"></a>labels</h3><p>‰ΩøÁî®Ê†áÁ≠æÂ∞ÜÂÖÉÊï∞ÊçÆÊ∑ªÂä†Âà∞ÂÆπÂô®„ÄÇ ÂèØ‰ª•‰ΩøÁî®Êï∞ÁªÑÊàñÂ≠óÂÖ∏</p>
<p>Áî®Êà∑Â∫îËØ•‰ΩøÁî®ÂèçÂêë DNS Á¨¶Âè∑Êù•Èò≤Ê≠¢Ê†áÁ≠æ‰∏éÂÖ∂‰ªñËΩØ‰ª∂‰ΩøÁî®ÁöÑÊ†áÁ≠æÂÜ≤Á™Å</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labels:</span></span><br><span class="line">  <span class="attr">com.example.description:</span> <span class="string">&quot;Financial transaction network&quot;</span></span><br><span class="line">  <span class="attr">com.example.department:</span> <span class="string">&quot;Finance&quot;</span></span><br><span class="line">  <span class="attr">com.example.label-with-empty-value:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labels:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.description=Financial transaction network&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.department=Finance&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.label-with-empty-value&quot;</span></span><br></pre></td></tr></table></figure>

<p>Compose ÂÆûÁé∞ÂøÖÈ°ªËÆæÁΩÆ <code>com.docker.compose.project</code> Âíå <code>com.docker.compose.network</code> Ê†áÁ≠æ</p>
<h3 id="external"><a href="#external" class="headerlink" title="external"></a>external</h3><p>Â¶ÇÊûúËÆæÁΩÆ‰∏∫ <code>true</code>Ôºå<code>external</code> ÊåáÂÆöÊ≠§ÁΩëÁªúÁöÑÁîüÂëΩÂë®ÊúüÂú®Â∫îÁî®Á®ãÂ∫è‰πãÂ§ñÁª¥Êä§„ÄÇ Compose ÂÆûÁé∞‰∏çÂ∫îËØ•Â∞ùËØïÂàõÂª∫Ëøô‰∫õÁΩëÁªúÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Âàô‰ºöÂºïÂèëÈîôËØØ</p>
<p>Âú®‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠Ôºå<code>proxy</code> ÊòØÈÄöÂæÄÂ§ñÈÉ®‰∏ñÁïåÁöÑÁΩëÂÖ≥„ÄÇ ‰∏éÂÖ∂Â∞ùËØïÂàõÂª∫ÁΩëÁªúÔºåCompose ÂÆûÁé∞Â∫îËØ•ËØ¢ÈóÆÂπ≥Âè∞‰ª•Ëé∑ÂèñÁÆÄÂçïÁß∞‰∏∫ <code>outside</code> ÁöÑÁé∞ÊúâÁΩëÁªúÔºåÂπ∂Â∞Ü <code>proxy</code> ÊúçÂä°ÁöÑÂÆπÂô®ËøûÊé•Âà∞ÂÆÉ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">proxy:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/proxy</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">outside</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/app</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">default</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">outside:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="name"><a href="#name" class="headerlink" title="name"></a>name</h3><p><code>name</code> ËÆæÁΩÆÊ≠§ÁΩëÁªúÁöÑËá™ÂÆö‰πâÂêçÁß∞„ÄÇ ÂêçÁß∞Â≠óÊÆµÂèØÁî®‰∫éÂºïÁî®ÂåÖÂê´ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÁΩëÁªú„ÄÇ ÂêçÁß∞ÊåâÂéüÊ†∑‰ΩøÁî®Ôºå‰∏çÂèóÈ°πÁõÆÂêçÁß∞ÁöÑÈôêÂà∂</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">network1:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">my-app-net</span></span><br></pre></td></tr></table></figure>

<p>ÂÆÉ‰πüÂèØ‰ª•‰∏é <code>external</code> Â±ûÊÄßÁªìÂêà‰ΩøÁî®Êù•ÂÆö‰πâ Compose ÂÆûÁé∞Â∫îËØ•Ê£ÄÁ¥¢ÁöÑÂπ≥Âè∞ÁΩëÁªúÔºåÈÄöÂ∏∏‰ΩøÁî®‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂõ†Ê≠§ Compose Êñá‰ª∂‰∏çÈúÄË¶ÅÁ°¨ÁºñÁ†ÅËøêË°åÊó∂ÁâπÂÆöÁöÑÂÄº</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">network1:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;$&#123;NETWORK_ID&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Volumes-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-volumes"><a href="#Volumes-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-volumes" class="headerlink" title="Volumes top-level element (È°∂Á∫ßÂÖÉÁ¥† volumes)"></a>Volumes top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>volumes</code>)</h2><p>Âç∑ÊòØÁî±Âπ≥Âè∞ÂÆûÁé∞ÁöÑÊåÅ‰πÖÊï∞ÊçÆÂ≠òÂÇ®„ÄÇComposeËßÑËåÉ‰∏∫Ë£ÖËΩΩÂç∑ÁöÑÊúçÂä°ÂíåÂú®Âü∫Á°ÄÊû∂ÊûÑ‰∏äÂàÜÈÖçÂç∑ÁöÑÈÖçÁΩÆÂèÇÊï∞Êèê‰æõ‰∫Ü‰∏≠Á´ãÁöÑÊäΩË±°</p>
<p><code>volumes</code> ÈÉ®ÂàÜÂÖÅËÆ∏ÈÖçÁΩÆÂèØË∑®Â§ö‰∏™ÊúçÂä°ÈáçÁî®ÁöÑÂëΩÂêçÂç∑„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÂèåÊúçÂä°ËÆæÁΩÆÁöÑÁ§∫‰æãÔºåÂÖ∂‰∏≠Êï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÁõÆÂΩï‰Ωú‰∏∫Âêç‰∏∫ <code>db-data</code> ÁöÑÂç∑‰∏éÂè¶‰∏Ä‰∏™ÊúçÂä°ÂÖ±‰∫´Ôºå‰ª•‰æøÂèØ‰ª•ÂÆöÊúüÂ§á‰ªΩ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/database</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db-data:/etc/data</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">backup:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">backup-service</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db-data:/var/lib/backup/data</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span></span><br></pre></td></tr></table></figure>

<p>È°∂Â±Ç <code>volumes</code> ÈîÆ‰∏ãÁöÑÊù°ÁõÆÂèØ‰ª•‰∏∫Á©∫ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂÆÉ‰ΩøÁî®Âπ≥Âè∞ÁöÑÈªòËÆ§ÈÖçÁΩÆÊù•ÂàõÂª∫Âç∑„ÄÇ ÊàñËÄÖÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÈîÆÂØπÂÖ∂ËøõË°åÈÖçÁΩÆ</p>
<h3 id="driver-1"><a href="#driver-1" class="headerlink" title="driver"></a>driver</h3><p>ÊåáÂÆöÂ∫î‰∏∫Ê≠§Âç∑‰ΩøÁî®ÁöÑÂç∑È©±Âä®Á®ãÂ∫è„ÄÇ ÈªòËÆ§ÂÄºÂíåÂèØÁî®ÂÄºÊòØÁâπÂÆö‰∫éÂπ≥Âè∞ÁöÑ„ÄÇ Â¶ÇÊûúÈ©±Âä®Á®ãÂ∫è‰∏çÂèØÁî®ÔºåCompose ÂÆûÁé∞ÂøÖÈ°ªËøîÂõûÈîôËØØÂπ∂ÂÅúÊ≠¢Â∫îÁî®Á®ãÂ∫èÈÉ®ÁΩ≤</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver:</span> <span class="string">foobar</span></span><br></pre></td></tr></table></figure>

<h3 id="driver-opts-1"><a href="#driver-opts-1" class="headerlink" title="driver_opts"></a>driver_opts</h3><p><code>driver_opts</code> Â∞ÜÈÄâÈ°πÂàóË°®ÊåáÂÆö‰∏∫ÈîÆÂÄºÂØπÔºå‰ª•‰º†ÈÄíÁªôÊ≠§Âç∑ÁöÑÈ©±Âä®Á®ãÂ∫è„ÄÇ Ëøô‰∫õÈÄâÈ°πÂèñÂÜ≥‰∫éÈ©±Âä®Á®ãÂ∫è</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">example:</span></span><br><span class="line">    <span class="attr">driver_opts:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">&quot;nfs&quot;</span></span><br><span class="line">      <span class="attr">o:</span> <span class="string">&quot;addr=10.40.0.199,nolock,soft,rw&quot;</span></span><br><span class="line">      <span class="attr">device:</span> <span class="string">&quot;:/docker/example&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="external-1"><a href="#external-1" class="headerlink" title="external"></a>external</h3><p>Â¶ÇÊûúËÆæÁΩÆ‰∏∫ <code>true</code>ÔºåÂàô <code>external</code> ÊåáÂÆöÊ≠§Âç∑Â∑≤Â≠òÂú®‰∫éÂπ≥Âè∞‰∏äÔºåÂπ∂‰∏îÂÖ∂ÁîüÂëΩÂë®ÊúüÂú®Â∫îÁî®Á®ãÂ∫è‰πãÂ§ñËøõË°åÁÆ°ÁêÜ„ÄÇ Compose ÂÆûÁé∞‰∏çÂæóÂ∞ùËØïÂàõÂª∫Ëøô‰∫õÂç∑ÔºåÂ¶ÇÊûúÂÆÉ‰ª¨‰∏çÂ≠òÂú®ÔºåÂàôÂøÖÈ°ªËøîÂõûÈîôËØØ</p>
<p>Âú®‰∏ãÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåCompose Âπ∂Ê≤°ÊúâÂ∞ùËØïÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ <code>&#123;project_name&#125;_db-data</code> ÁöÑÂç∑ÔºåËÄåÊòØÊü•Êâæ‰∏Ä‰∏™Âêç‰∏∫ <code>db-data</code> ÁöÑÁé∞ÊúâÂç∑Âπ∂Â∞ÜÂÖ∂ÊåÇËΩΩÂà∞ <code>ÂêéÁ´Ø</code> ÊúçÂä°ÁöÑÂÆπÂô®‰∏≠</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span> </span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/database</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db-data:/etc/data</span></span><br><span class="line">      </span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="labels-2"><a href="#labels-2" class="headerlink" title="labels"></a>labels</h3><p><code>labels</code> Áî®‰∫éÂêëÂç∑Ê∑ªÂä†ÂÖÉÊï∞ÊçÆ„ÄÇ ÊÇ®ÂèØ‰ª•‰ΩøÁî®Êï∞ÁªÑÊàñ map</p>
<p>Âª∫ËÆÆÊÇ®‰ΩøÁî®ÂèçÂêë DNS Ë°®Á§∫Ê≥ïÔºå‰ª•Èò≤Ê≠¢ÊÇ®ÁöÑÊ†áÁ≠æ‰∏éÂÖ∂‰ªñËΩØ‰ª∂‰ΩøÁî®ÁöÑÊ†áÁ≠æÂÜ≤Á™Å</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labels:</span></span><br><span class="line">  <span class="attr">com.example.description:</span> <span class="string">&quot;Database volume&quot;</span></span><br><span class="line">  <span class="attr">com.example.department:</span> <span class="string">&quot;IT/Ops&quot;</span></span><br><span class="line">  <span class="attr">com.example.label-with-empty-value:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labels:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.description=Database volume&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;com.example.department: &quot;</span><span class="string">IT/Ops&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">&quot;com.example.label-with-empty-value&quot;:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>Compose ÂÆûÁé∞ÂøÖÈ°ªËÆæÁΩÆ <code>com.docker.compose.project</code> Âíå <code>com.docker.compose.volume</code> Ê†áÁ≠æ</p>
<h3 id="name-1"><a href="#name-1" class="headerlink" title="name"></a>name</h3><p><code>name</code> ‰∏∫Ëøô‰∏™Âç∑ËÆæÁΩÆ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂêçÁß∞„ÄÇ ÂêçÁß∞Â≠óÊÆµÂèØÁî®‰∫éÂºïÁî®ÂåÖÂê´ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÂç∑„ÄÇ ËØ•ÂêçÁß∞ÊåâÂéüÊ†∑‰ΩøÁî®Ôºå‰∏ç‰ºö‰∏éÂ†ÜÊ†àÂêçÁß∞ÂÜ≤Á™Å</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;my-app-data&quot;</span></span><br></pre></td></tr></table></figure>

<p>ÂÆÉ‰πüÂèØ‰ª•‰∏é <code>external</code> Â±ûÊÄßÁªìÂêà‰ΩøÁî®„ÄÇ ËøôÊ†∑ÂÅöÔºåÁî®‰∫éÂú®Âπ≥Âè∞‰∏äÊü•ÊâæÂÆûÈôÖÂç∑ÁöÑÂç∑ÁöÑÂêçÁß∞‰∏é Compose Êñá‰ª∂‰∏≠Áî®‰∫éÂºïÁî®ÂÆÉÁöÑÂêçÁß∞ÂàÜÂºÄËÆæÁΩÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span></span><br><span class="line">    <span class="attr">external:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">actual-name-of-volume</span></span><br></pre></td></tr></table></figure>

<p>Ëøô‰ΩøÂæóÂèØ‰ª•Â∞ÜÊ≠§Êü•ÊâæÂêçÁß∞‰Ωú‰∏∫ Compose Êñá‰ª∂ÁöÑÂèÇÊï∞Ôºå‰ª•‰æøÂç∑ÁöÑÊ®°Âûã ID ÊòØÁ°¨ÁºñÁ†ÅÁöÑÔºå‰ΩÜÂπ≥Âè∞‰∏äÁöÑÂÆûÈôÖÂç∑ ID Âú®ÈÉ®ÁΩ≤ÊúüÈó¥Âú®ËøêË°åÊó∂ËÆæÁΩÆ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span></span><br><span class="line">    <span class="attr">external:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">$&#123;DATABASE_VOLUME&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="Configs-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-configs"><a href="#Configs-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-configs" class="headerlink" title="Configs top-level element (È°∂Á∫ßÂÖÉÁ¥† configs)"></a>Configs top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>configs</code>)</h2><p><code>Configs</code> ÂÖÅËÆ∏ÊúçÂä°Ë∞ÉÊï¥ÂÖ∂Ë°å‰∏∫ÔºåËÄåÊó†ÈúÄÈáçÂª∫ Docker Êò†ÂÉè„ÄÇ ‰ªéÊúçÂä°ÁöÑËßíÂ∫¶Êù•ÁúãÔºåÈÖçÁΩÆ‰∏éÂç∑Áõ∏ÂΩìÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Ë¢´ÊåÇËΩΩÂà∞ÊúçÂä°ÁöÑÂÆπÂô®Êñá‰ª∂Á≥ªÁªü‰∏≠„ÄÇ Ëé∑ÂèñÂπ≥Âè∞Êèê‰æõÁöÑÈÖçÁΩÆÁöÑÂÆûÈôÖÂÆûÁé∞ÁªÜËäÇÂèØ‰ª•‰ªéÈÖçÁΩÆÂÆö‰πâ‰∏≠ËÆæÁΩÆ</p>
<p>ÂΩìÊéà‰∫àÂØπÈÖçÁΩÆÁöÑËÆøÈóÆÊùÉÈôêÊó∂ÔºåÈÖçÁΩÆÂÜÖÂÆπÂ∞Ü‰Ωú‰∏∫Êñá‰ª∂ÊåÇËΩΩÂú®ÂÆπÂô®‰∏≠. ÂÆπÂô®ÂÜÖÊåÇËΩΩÁÇπÁöÑ‰ΩçÁΩÆÂú® Linux ÂÆπÂô®‰∏≠ÈªòËÆ§‰∏∫ <code>/&lt;config-name&gt;</code>ÔºåÂú® Windows ÂÆπÂô®‰∏≠ÈªòËÆ§‰∏∫ <code>C:\&lt;config-name&gt;</code></p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÈÖçÁΩÆÂøÖÈ°ªÁî±ËøêË°åÂÆπÂô®ÂëΩ‰ª§ÁöÑÁî®Êà∑Êã•ÊúâÔºå‰ΩÜÂèØ‰ª•Ë¢´ÊúçÂä°ÈÖçÁΩÆË¶ÜÁõñ„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÈÖçÁΩÆÂøÖÈ°ªÂÖ∑ÊúâÂÖ®Â±ÄÂèØËØªÊùÉÈôêÔºàÊ®°Âºè 0444ÔºâÔºåÈô§ÈùûÊúçÂä°Ë¢´ÈÖçÁΩÆ‰∏∫Ë¶ÜÁõñÂÆÉ</p>
<p>ÊúçÂä°Âè™ËÉΩÂú® <code>configs</code> Â≠êÈÉ®ÂàÜÊòéÁ°ÆÊéà‰∫àÊó∂ËÆøÈóÆÈÖçÁΩÆ</p>
<p>È°∂Á∫ß <code>configs</code> Â£∞ÊòéÂÆö‰πâÊàñÂºïÁî®ÂèØ‰ª•Êéà‰∫àÊ≠§Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÊúçÂä°ÁöÑÈÖçÁΩÆÊï∞ÊçÆ„ÄÇ ÈÖçÁΩÆÁöÑÊù•Ê∫êÊòØ <code>file</code> Êàñ <code>external</code></p>
<ul>
<li><code>file</code>: ‰ΩøÁî®ÊåáÂÆöË∑ØÂæÑ‰∏≠ÁöÑÊñá‰ª∂ÂÜÖÂÆπÂàõÂª∫ÈÖçÁΩÆ</li>
<li><code>external</code>: Â¶ÇÊûúËÆæÁΩÆ‰∏∫ trueÔºåÂàôÊåáÂÆöÊ≠§ÈÖçÁΩÆÂ∑≤ÂàõÂª∫„ÄÇ Compose ÂÆûÁé∞‰∏ç‰ºöÂ∞ùËØïÂàõÂª∫ÂÆÉÔºåÂ¶ÇÊûúÂÆÉ‰∏çÂ≠òÂú®ÔºåÂàô‰ºöÂèëÁîüÈîôËØØ</li>
<li><code>name</code>: Âπ≥Âè∞‰∏äË¶ÅÊü•ÊâæÁöÑÈÖçÁΩÆÂØπË±°ÁöÑÂêçÁß∞„ÄÇ ËØ•Â≠óÊÆµÂèØÁî®‰∫éÂºïÁî®ÂåÖÂê´ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÈÖçÁΩÆ„ÄÇ ÂêçÁß∞ÊåâÂéüÊ†∑‰ΩøÁî®Ôºå‰∏ç‰ºö‰∏éÈ°πÁõÆÂêçÁß∞ÂÜ≤Á™Å</li>
</ul>
<p>Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠Ôºå<code>http_config</code> ÊòØÂú®Â∫îÁî®Á®ãÂ∫èÈÉ®ÁΩ≤Êó∂ÂàõÂª∫ÁöÑÔºà‰Ωú‰∏∫ <code>&lt;project_name&gt;_http_config</code>ÔºâÔºåÂπ∂‰∏î <code>my_second_config</code> ÂøÖÈ°ªÂ∑≤ÁªèÂ≠òÂú®‰∫é Platform ‰∏äÂπ∂‰∏îÈÄöËøáÊü•ÊâæÊù•Ëé∑ÂèñÂÄº</p>
<p>Âú®Ê≠§Á§∫‰æã‰∏≠ÔºåÈÄöËøáÂ∞Ü <code>httpd.conf</code> ÁöÑÂÜÖÂÆπÊ≥®ÂÜå‰∏∫ÈÖçÁΩÆÊï∞ÊçÆÔºåÂú®ÈÉ®ÁΩ≤Â∫îÁî®Á®ãÂ∫èÊó∂Â∞Ü <code>server-http_config</code> ÂàõÂª∫‰∏∫ <code>&lt;project_name&gt;_http_config</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">configs:</span></span><br><span class="line">  <span class="attr">http_config:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">./httpd.conf</span></span><br></pre></td></tr></table></figure>

<p>ÊàñËÄÖÔºåÂèØ‰ª•Â∞Ü <code>http_config</code> Â£∞Êòé‰∏∫Â§ñÈÉ®ÔºåËøôÊ†∑ÂÅö Compose ÂÆûÁé∞Â∞ÜÊü•Êâæ <code>http_config</code> ‰ª•Â∞ÜÈÖçÁΩÆÊï∞ÊçÆÂÖ¨ÂºÄÁªôÁõ∏ÂÖ≥ÊúçÂä°</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">configs:</span></span><br><span class="line">  <span class="attr">http_config:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>Â§ñÈÉ®ÈÖçÁΩÆÊü•Êâæ‰πüÂèØ‰ª•ÈÄöËøáÊåáÂÆö <code>name</code> Êù•‰ΩøÁî®‰∏çÂêåÁöÑÈîÆ. ‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰øÆÊîπ‰∫ÜÂâçÈù¢ÁöÑ‰æãÂ≠êÔºå‰ΩøÁî®ÂèÇÊï∞ <code>HTTP_CONFIG_KEY</code> Êù•Êü•ÊâæÈÖçÁΩÆ. ËøôÊ†∑ÂÅöÔºåÂÆûÈôÖÁöÑÊü•ÊâæÈîÆÂ∞ÜÂú®ÈÉ®ÁΩ≤Êó∂ÈÄöËøáÂèòÈáèÁöÑ <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#interpolation" >ÊèíÂÄº<i class="fas fa-external-link-alt"></i></a> ËÆæÁΩÆÔºå‰ΩÜ‰Ωú‰∏∫Á°¨ÁºñÁ†ÅÁöÑ ID <code>http_config</code> Êö¥Èú≤ÁªôÂÆπÂô®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">configs:</span></span><br><span class="line">  <span class="attr">http_config:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;$&#123;HTTP_CONFIG_KEY&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>Compose Êñá‰ª∂ÈúÄË¶ÅÊòéÁ°ÆÊéà‰∫àÂØπÂ∫îÁî®Á®ãÂ∫è‰∏≠Áõ∏ÂÖ≥ÊúçÂä°ÁöÑÈÖçÁΩÆÁöÑËÆøÈóÆÊùÉÈôê</p>
<h2 id="Secrets-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-secrets"><a href="#Secrets-top-level-element-È°∂Á∫ßÂÖÉÁ¥†-secrets" class="headerlink" title="Secrets top-level element (È°∂Á∫ßÂÖÉÁ¥† secrets)"></a>Secrets top-level element (È°∂Á∫ßÂÖÉÁ¥† <code>secrets</code>)</h2><p>Secrets ÊòØ‰∏ÄÁßç‰∏ìÊ≥®‰∫éÊïèÊÑüÊï∞ÊçÆÁöÑ ConfigsÔºåÂØπËøôÁßçÁî®Ê≥ïÊúâÁâπÂÆöÁöÑÈôêÂà∂. Áî±‰∫éÂπ≥Âè∞ÂÆûÁé∞ÂèØËÉΩ‰∏éÈÖçÁΩÆÊúâÂæàÂ§ß‰∏çÂêåÔºå‰∏ìÁî®ÁöÑ Secrets ÈÉ®ÂàÜÂÖÅËÆ∏ÈÖçÁΩÆÁõ∏ÂÖ≥ËµÑÊ∫ê</p>
<p>È°∂Â±Ç <code>secrets</code> Â£∞ÊòéÂÆö‰πâÊàñÂºïÁî®ÂèØ‰ª•Êéà‰∫àÊ≠§Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÊúçÂä°ÁöÑÊïèÊÑüÊï∞ÊçÆ. <code>secret</code> ÁöÑÊù•Ê∫êÊòØ <code>file</code> Êàñ <code>external</code></p>
<ul>
<li><code>file</code>: secret ÊòØ‰ΩøÁî®ÊåáÂÆöË∑ØÂæÑÁöÑÊñá‰ª∂ÂÜÖÂÆπÂàõÂª∫ÁöÑ</li>
<li><code>external</code>: Â¶ÇÊûúËÆæÁΩÆ‰∏∫ trueÔºåÂàôÊåáÂÆöÊ≠§ secret Â∑≤ÂàõÂª∫„ÄÇ Compose ÂÆûÁé∞‰∏ç‰ºöÂ∞ùËØïÂàõÂª∫ÂÆÉÔºåÂ¶ÇÊûúÂÆÉ‰∏çÂ≠òÂú®ÔºåÂàô‰ºöÂèëÁîüÈîôËØØ</li>
<li><code>name</code>: Docker ‰∏≠ secret ÂØπË±°ÁöÑÂêçÁß∞„ÄÇ Ê≠§Â≠óÊÆµÂèØÁî®‰∫éÂºïÁî®ÂåÖÂê´ÁâπÊÆäÂ≠óÁ¨¶ÁöÑ secrets„ÄÇ ÂêçÁß∞ÊåâÂéüÊ†∑‰ΩøÁî®Ôºå‰∏ç‰ºö‰∏éÈ°πÁõÆÂêçÁß∞ÂÜ≤Á™Å</li>
</ul>
<p>Âú®Ê≠§Á§∫‰æã‰∏≠ÔºåÈÄöËøáÂ∞Ü <code>server.cert</code> ÁöÑÂÜÖÂÆπÊ≥®ÂÜå‰∏∫Âπ≥Âè∞ secretÔºåÂú®ÈÉ®ÁΩ≤Â∫îÁî®Á®ãÂ∫èÊó∂Â∞Ü <code>server-certificate</code> ÂàõÂª∫‰∏∫ <code>&lt;project_name&gt;_server-certificate</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">secrets:</span></span><br><span class="line">  <span class="attr">server-certificate:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">./server.cert</span></span><br></pre></td></tr></table></figure>

<p>ÊàñËÄÖÔºå<code>server-certificate</code> ÂèØ‰ª•Â£∞Êòé‰∏∫Â§ñÈÉ®ÔºåËøôÊ†∑ÂÅö Compose ÂÆûÁé∞Â∞ÜÊü•Êâæ <code>server-certificate</code> ‰ª•ÂêëÁõ∏ÂÖ≥ÊúçÂä°ÂÖ¨ÂºÄ secret</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">secrets:</span></span><br><span class="line">  <span class="attr">server-certificate:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>Â§ñÈÉ® secrets Êü•Êâæ‰πüÂèØ‰ª•ÈÄöËøáÊåáÂÆö <code>name</code> Êù•‰ΩøÁî®‰∏çÂêåÁöÑ key. ‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰øÆÊîπ‰∫ÜÂâçÈù¢ÁöÑ‰æãÂ≠êÔºå‰ΩøÁî®ÂèÇÊï∞ <code>CERTIFICATE_KEY</code> Êù•Êü•Êâæ secret</p>
<p>ËøôÊ†∑ÂÅöÔºåÂÆûÈôÖÁöÑÊü•Êâæ key Â∞ÜÂú®ÈÉ®ÁΩ≤Êó∂ÈÄöËøáÂèòÈáèÁöÑ <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#interpolation" >interpolation<i class="fas fa-external-link-alt"></i></a> ËÆæÁΩÆÔºå‰ΩÜ‰Ωú‰∏∫Á°¨ÁºñÁ†Å ID <code>server-certificate</code> Êö¥Èú≤ÁªôÂÆπÂô®</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">secrets:</span></span><br><span class="line">  <span class="attr">server-certificate:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;$&#123;CERTIFICATE_KEY&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>Compose Êñá‰ª∂ÈúÄË¶ÅÊòéÁ°ÆÊéà‰∫àÂØπÂ∫îÁî®Á®ãÂ∫è‰∏≠Áõ∏ÂÖ≥ÊúçÂä°ÁöÑ secrets ÁöÑËÆøÈóÆÊùÉÈôê</p>
<h2 id="Fragments-ÂàÜÊÆµ"><a href="#Fragments-ÂàÜÊÆµ" class="headerlink" title="Fragments (ÂàÜÊÆµ)"></a>Fragments (ÂàÜÊÆµ)</h2><p>ÂèØ‰ª•‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="http://www.yaml.org/spec/1.2/spec.html#id2765878" >YAML anchors<i class="fas fa-external-link-alt"></i></a> ÈáçÁî®ÈÖçÁΩÆÁâáÊÆµ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span> <span class="string">&amp;default-volume</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">metrics:</span> <span class="string">*default-volume</span></span><br></pre></td></tr></table></figure>

<p>Âú®ÂâçÈù¢ÁöÑÁ§∫‰æã‰∏≠ÔºåÂü∫‰∫é <code>db-data</code> Âç∑ËßÑËåÉÂ∞ÜÈîöÁÇπÂàõÂª∫‰∏∫ <code>default-volume</code>. ÂÆÉÁ®çÂêéË¢´Âà´Âêç <code>*default-volume</code> ÈáçÁî®‰ª•ÂÆö‰πâ <code>metrics</code> Âç∑. Áõ∏ÂêåÁöÑÈÄªËæëÂèØ‰ª•Â∫îÁî®‰∫é Compose Êñá‰ª∂‰∏≠ÁöÑ‰ªª‰ΩïÂÖÉÁ¥†. ÈîöËß£ÊûêÂøÖÈ°ªÂú® <a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/#interpolation" >ÂèòÈáèÊèíÂÄº<i class="fas fa-external-link-alt"></i></a> ‰πãÂâçËøõË°åÔºåÂõ†Ê≠§ÂèòÈáè‰∏çËÉΩÁî®‰∫éËÆæÁΩÆÈîöÊàñÂà´Âêç</p>
<p>‰πüÂèØ‰ª•‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="http://yaml.org/type/merge.html" >YAML merge type<i class="fas fa-external-link-alt"></i></a> ÈÉ®ÂàÜË¶ÜÁõñÁî±ÈîöÂºïÁî®ËÆæÁΩÆÁöÑÂÄº. Âú®‰ª•‰∏ãÁ§∫‰æã‰∏≠Ôºå<code>metrics</code> Âç∑ËßÑËåÉ‰ΩøÁî®Âà´ÂêçÊù•ÈÅøÂÖçÈáçÂ§çÔºå‰ΩÜ‰ºöË¶ÜÁõñ <code>name</code> Â±ûÊÄß:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/database</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db-data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">metrics-</span> <span class="string">image</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">db-data:</span> <span class="string">&amp;default-volume</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;data&quot;</span></span><br><span class="line">  <span class="attr">metrics:</span></span><br><span class="line">    <span class="string">&lt;&lt;:</span> <span class="string">*default-volume</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;metrics&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Extension-Êâ©Â±ï"><a href="#Extension-Êâ©Â±ï" class="headerlink" title="Extension (Êâ©Â±ï)"></a>Extension (Êâ©Â±ï)</h2><p>ÁâπÊÆäÊâ©Â±ïÂ≠óÊÆµÂèØ‰ª•ÊòØ‰ªª‰ΩïÊ†ºÂºèÔºåÂè™Ë¶ÅÂÆÉ‰ª¨ÁöÑÂêçÁß∞‰ª• <code>x-</code> Â≠óÁ¨¶Â∫èÂàóÂºÄÂ§¥</p>
<p>ÂÆÉ‰ª¨ÂèØ‰ª•Âú® Compose Êñá‰ª∂ÁöÑ‰ªª‰ΩïÁªìÊûÑ‰∏≠‰ΩøÁî®„ÄÇ ËøôÊòØ Compose ÂÆûÁé∞Ëá™Âä®ÂøΩÁï•Êú™ËØÜÂà´Â≠óÊÆµÁöÑÂîØ‰∏Ä‰æãÂ§ñ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">x-custom:</span></span><br><span class="line">  <span class="attr">foo:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">bar</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">zot</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">webapp:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">x-foo:</span> <span class="string">bar</span></span><br></pre></td></tr></table></figure>

<p>Compose ËßÑËåÉÊú™ÊåáÂÆöÊ≠§Á±ªÂ≠óÊÆµÁöÑÂÜÖÂÆπÔºå‰πüÂèØÁî®‰∫éÂêØÁî®Ëá™ÂÆö‰πâÂäüËÉΩ„ÄÇ Compose ÂÆûÁé∞ÈÅáÂà∞Êú™Áü•Êâ©Â±ïÂ≠óÊÆµÁöÑÂÆûÁé∞‰∏çËÉΩÂ§±Ë¥•Ôºå‰ΩÜÂèØ‰ª•Ë≠¶ÂëäÊú™Áü•Â≠óÊÆµ</p>
<p>ÂØπ‰∫éÂπ≥Âè∞Êâ©Â±ïÔºåÂº∫ÁÉàÂª∫ËÆÆ‰ΩøÁî®Âπ≥Âè∞&#x2F;‰æõÂ∫îÂïÜÂêçÁß∞‰Ωú‰∏∫Êâ©Â±ïÂâçÁºÄÔºåÂ∞±ÂÉèÊµèËßàÂô®Ê∑ªÂä†ÂØπ<a class="link"   target="_blank" rel="noopener" href="https://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#vendor-keywords" >Ëá™ÂÆö‰πâ CSS ÂäüËÉΩ<i class="fas fa-external-link-alt"></i></a>ÁöÑÊîØÊåÅ‰∏ÄÊ†∑</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">service:</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">placement:</span></span><br><span class="line">        <span class="attr">x-aws-role:</span> <span class="string">&quot;arn:aws:iam::XXXXXXXXXXXX:role/foo&quot;</span></span><br><span class="line">        <span class="attr">x-aws-region:</span> <span class="string">&quot;eu-west-3&quot;</span></span><br><span class="line">        <span class="attr">x-azure-region:</span> <span class="string">&quot;france-central&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Informative-Historical-Notes"><a href="#Informative-Historical-Notes" class="headerlink" title="Informative Historical Notes"></a>Informative Historical Notes</h3><p>Êú¨ËäÇÂÜÖÂÆπ‰∏∞ÂØå„ÄÇ Âú®Êí∞ÂÜôÊú¨ÊñáÊó∂ÔºåÂ∑≤Áü•Â≠òÂú®‰ª•‰∏ãÂâçÁºÄ:</p>
<table>
<thead>
<tr>
<th align="left">prefix</th>
<th align="left">verdor&#x2F;organization</th>
</tr>
</thead>
<tbody><tr>
<td align="left">docker</td>
<td align="left">Docker</td>
</tr>
<tr>
<td align="left">kubernetes</td>
<td align="left">Kubernetes</td>
</tr>
</tbody></table>
<h3 id="Using-extensions-as-fragments"><a href="#Using-extensions-as-fragments" class="headerlink" title="Using extensions as fragments"></a>Using extensions as fragments</h3><p>ÂÄüÂä©Êâ©Â±ïÂ≠óÊÆµÁöÑÊîØÊåÅÔºåCompose Êñá‰ª∂ÂèØ‰ª•ÁºñÂÜôÂ¶Ç‰∏ãÔºå‰ª•ÊèêÈ´òÈáçÁî®ÁâáÊÆµÁöÑÂèØËØªÊÄßÔºö</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">x-logging:</span> <span class="string">&amp;default-logging</span></span><br><span class="line">  <span class="attr">options:</span></span><br><span class="line">    <span class="attr">max-size:</span> <span class="string">&quot;12m&quot;</span></span><br><span class="line">    <span class="attr">max-file:</span> <span class="string">&quot;5&quot;</span></span><br><span class="line">  <span class="attr">driver:</span> <span class="string">json-file</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">frontend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/webapp</span></span><br><span class="line">    <span class="attr">logging:</span> <span class="string">*default-logging</span></span><br><span class="line">  <span class="attr">backend:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">awesome/database</span></span><br><span class="line">    <span class="attr">logging:</span> <span class="string">*default-logging</span></span><br></pre></td></tr></table></figure>

<h3 id="specifying-byte-values"><a href="#specifying-byte-values" class="headerlink" title="specifying byte values"></a>specifying byte values</h3><p>Value ‰ª• <code>&#123;amount&#125;&#123;byte unit&#125;</code> Ê†ºÂºèÂ∞ÜÂ≠óËäÇÂÄºË°®Á§∫‰∏∫Â≠óÁ¨¶‰∏≤ÔºöÊîØÊåÅÁöÑÂçï‰Ωç‰∏∫ <code>b</code>ÔºàÂ≠óËäÇÔºâ„ÄÅ<code>k</code> Êàñ <code>kb</code>ÔºàÂçÉÂ≠óËäÇÔºâ„ÄÅ<code>m</code> Êàñ <code>mb</code> ÔºàÂÖÜÂ≠óËäÇÔºâÂíå<code>g</code>Êàñ<code>gb</code>ÔºàÂçÉÂÖÜÂ≠óËäÇÔºâ</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">2b</span></span><br><span class="line"><span class="string">1024kb</span></span><br><span class="line"><span class="string">2048k</span></span><br><span class="line"><span class="string">300m</span></span><br><span class="line"><span class="string">1gb</span></span><br></pre></td></tr></table></figure>

<h3 id="specifying-durations"><a href="#specifying-durations" class="headerlink" title="specifying durations"></a>specifying durations</h3><p>ÂÄº‰ª• <code>&#123;value&#125;&#123;unit&#125;</code> ÁöÑÂΩ¢ÂºèÂ∞ÜÊåÅÁª≠Êó∂Èó¥Ë°®Á§∫‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ ÊîØÊåÅÁöÑÂçï‰ΩçÊòØ <code>us</code>ÔºàÂæÆÁßíÔºâ„ÄÅ<code>ms</code>ÔºàÊØ´ÁßíÔºâ„ÄÅ<code>s</code>ÔºàÁßíÔºâ„ÄÅ<code>m</code>ÔºàÂàÜÈíüÔºâÂíå <code>h</code>ÔºàÂ∞èÊó∂Ôºâ„ÄÇ ÂÄºÂèØ‰ª•ÁªÑÂêàÂ§ö‰∏™ÂÄºÂπ∂‰ΩøÁî®‰∏çÂ∏¶ÂàÜÈöîÁ¨¶</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">10ms</span></span><br><span class="line"><span class="string">40s</span></span><br><span class="line"><span class="string">1m30s</span></span><br><span class="line"><span class="string">1h5m30s20ms</span></span><br></pre></td></tr></table></figure>

<h2 id="Interpolation-ÊèíÂÄº"><a href="#Interpolation-ÊèíÂÄº" class="headerlink" title="Interpolation (ÊèíÂÄº)"></a>Interpolation (ÊèíÂÄº)</h2><p>Compose Êñá‰ª∂‰∏≠ÁöÑÂÄºÂèØ‰ª•Áî±ÂèòÈáèËÆæÁΩÆÔºåÂπ∂Âú®ËøêË°åÊó∂ËøõË°åÊèíÂÄº„ÄÇ Êí∞ÂÜôÊñá‰ª∂‰ΩøÁî®Á±ª‰ºº Bash ÁöÑËØ≠Ê≥ï <code>$&#123;VARIABLE&#125;</code></p>
<p><code>$VARIABLE</code> Âíå <code>$&#123;VARIABLE&#125;</code> ËØ≠Ê≥ïÈÉΩÂèóÊîØÊåÅ„ÄÇ ÂèØ‰ª•‰ΩøÁî®ÂÖ∏ÂûãÁöÑ shell ËØ≠Ê≥ïÂÜÖËÅîÂÆö‰πâÈªòËÆ§ÂÄºÔºölatest</p>
<ul>
<li><code>$&#123;VARIABLE:-default&#125;</code> Â¶ÇÊûú <code>VARIABLE</code> Âú®ÁéØÂ¢É‰∏≠Êú™ËÆæÁΩÆÊàñ‰∏∫Á©∫ÔºåÂàôËØÑ‰º∞‰∏∫ <code>default</code></li>
<li><code>$&#123;VARIABLE-default&#125;</code> Â¶ÇÊûú <code>VARIABLE</code> Âú®ÁéØÂ¢É‰∏≠Êú™ËÆæÁΩÆÔºåÂàôËØÑ‰º∞‰∏∫ <code>default</code></li>
</ul>
<p>ÂêåÊ†∑Ôºå‰ª•‰∏ãËØ≠Ê≥ïÂÖÅËÆ∏ÊÇ®ÊåáÂÆöÂº∫Âà∂ÂèòÈáèÔºö</p>
<ul>
<li><code>$&#123;VARIABLE:?err&#125;</code> Â¶ÇÊûú <code>VARIABLE</code> Âú®ÁéØÂ¢É‰∏≠Êú™ËÆæÁΩÆÊàñ‰∏∫Á©∫ÔºåÂàôÈÄÄÂá∫Âπ∂ÊòæÁ§∫ÂåÖÂê´ err ÁöÑ <code>error</code> Ê∂àÊÅØ</li>
<li><code>$&#123;VARIABLE?err&#125;</code> Â¶ÇÊûúÂú®ÁéØÂ¢É‰∏≠Êú™ËÆæÁΩÆ <code>VARIABLE</code>ÔºåÂàô‰ª•ÂåÖÂê´ÈîôËØØÁöÑ <code>err</code> Ê∂àÊÅØÈÄÄÂá∫</li>
</ul>
<p>ÊèíÂÄº‰πüÂèØ‰ª•ÂµåÂ•óÔºö</p>
<ul>
<li><code>$&#123;VARIABLE:-$&#123;FOO&#125;&#125;</code></li>
<li><code>$&#123;VARIABLE?$&#123;FOO&#125;&#125;</code></li>
<li><code>$&#123;VARIABLE:-$&#123;FOO:-default&#125;&#125;</code></li>
</ul>
<p>Compose ËßÑËåÉ‰∏çÊîØÊåÅÂÖ∂‰ªñÊâ©Â±ïÁöÑ shell-style ÂäüËÉΩÔºå‰æãÂ¶Ç <code>$&#123;VARIABLE/foo/bar&#125;</code></p>
<p>ÂΩìÊÇ®ÁöÑÈÖçÁΩÆÈúÄË¶ÅÂ≠óÈù¢ÈáèÁæéÂÖÉÁ¨¶Âè∑Êó∂ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® $$ÔºàÂèåÁæéÂÖÉÁ¨¶Âè∑Ôºâ„ÄÇ Ëøô‰πüÂèØ‰ª•Èò≤Ê≠¢ Compose ÊèíÂÖ•ÂÄºÔºåÂõ†Ê≠§ $$ ÂÖÅËÆ∏ÊÇ®ÂºïÁî®ÊÇ®‰∏çÂ∏åÊúõ Compose Â§ÑÁêÜÁöÑÁéØÂ¢ÉÂèòÈáè</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">web:</span></span><br><span class="line">  <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">  <span class="attr">command:</span> <span class="string">&quot;$$VAR_NOT_INTERPOLATED_BY_COMPOSE&quot;</span></span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûú Compose ÂÆûÁé∞Êó†Ê≥ïËß£ÊûêÊõøÊç¢ÂèòÈáèÂπ∂‰∏îÊ≤°ÊúâÂÆö‰πâÈªòËÆ§ÂÄºÔºåÂÆÉÂøÖÈ°ªË≠¶ÂëäÁî®Êà∑Âπ∂Áî®Á©∫Â≠óÁ¨¶‰∏≤ÊõøÊç¢ÂèòÈáè</p>
<p>Áî±‰∫é Compose Êñá‰ª∂‰∏≠ÁöÑ‰ªª‰ΩïÂÄºÈÉΩÂèØ‰ª•ÈÄöËøáÂèòÈáèÊõøÊç¢ËøõË°åÊèíÂÄºÔºåÂåÖÊã¨Â§çÊùÇÂÖÉÁ¥†ÁöÑÁ¥ßÂáëÂ≠óÁ¨¶‰∏≤Ë°®Á§∫Ê≥ïÔºåÂõ†Ê≠§ÂøÖÈ°ªÂú®Âü∫‰∫éÊØè‰∏™Êñá‰ª∂ÁöÑÂêàÂπ∂‰πãÂâçÂ∫îÁî®ÊèíÂÄº</p>
<h2 id="ÂèÇËÄÉ"><a href="#ÂèÇËÄÉ" class="headerlink" title="ÂèÇËÄÉ"></a>ÂèÇËÄÉ</h2><p><a class="link"   target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/" >Compose specification<i class="fas fa-external-link-alt"></i></a></p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Êú¨ÊñáÊ†áÈ¢òÔºöCompose specification</li>
        <li>Êú¨Êñá‰ΩúËÄÖÔºöÊûóÂ®ÅÁæΩ</li>
        <li>ÂàõÂª∫Êó∂Èó¥Ôºö2022-05-25 11:01:57</li>
        <li>
            Êú¨ÊñáÈìæÊé•Ôºöhttps://linweiyu21.github.io/docker/compose/compose-specification/
        </li>
        <li>
            ÁâàÊùÉÂ£∞ÊòéÔºöÊú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî® <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/Docker/">#Docker</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/Notes/">#Notes</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/Docker-Compose/">#Docker Compose</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/docker/compose/compose-specification-summary/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Compose specification ÊÄªÁªì</span>
                                <span class="post-nav-item">‰∏ä‰∏ÄÁØá</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/docker/compose/control-startup-and-shutdown-order-in-compose/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Control startup and shutdown order in Compose</span>
                                <span class="post-nav-item">‰∏ã‰∏ÄÁØá</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;ËØÑËÆ∫</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: '8xWQ0WFbKUNN4h8ixIO12etk-gzGzoHsz',
                    appKey: '7cLjTvkIsF6aIuIVSd0um89m',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: 'ËØ∑ÂºÄÂßã‰Ω†ÁöÑË°®Êºî',
                    lang: 'zh-CN'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return 'Âçö‰∏ª';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'ÊûóÂ®ÅÁæΩ';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">ÊûóÂ®ÅÁæΩ</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        ËÆøÈóÆ‰∫∫Êï∞&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        ÊÄªËÆøÈóÆÈáè&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Áî± <a target="_blank" href="https://hexo.io">Hexo</a> È©±Âä®&nbsp;|&nbsp;‰∏ªÈ¢ò&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Compose-file-Compose-%E6%96%87%E4%BB%B6"><span class="nav-number">1.</span> <span class="nav-text">Compose file (Compose Êñá‰ª∂)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Profiles-%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">Profiles (ÈÖçÁΩÆ)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Illustrative-example-%E7%A4%BA%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="nav-number">2.1.</span> <span class="nav-text">Illustrative example (Á§∫‰æãËØ¥Êòé)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Version-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-version"><span class="nav-number">3.</span> <span class="nav-text">Version top-level element (È°∂Á∫ßÂÖÉÁ¥† version)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Name-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-name"><span class="nav-number">4.</span> <span class="nav-text">Name top-level element (È°∂Á∫ßÂÖÉÁ¥† name)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Services-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-services"><span class="nav-number">5.</span> <span class="nav-text">Services top-level element (È°∂Á∫ßÂÖÉÁ¥† services)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#build"><span class="nav-number">5.1.</span> <span class="nav-text">build</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#blkio-config"><span class="nav-number">5.2.</span> <span class="nav-text">blkio_config</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-count"><span class="nav-number">5.3.</span> <span class="nav-text">cpu_count</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-percent"><span class="nav-number">5.4.</span> <span class="nav-text">cpu_percent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-shares"><span class="nav-number">5.5.</span> <span class="nav-text">cpu_shares</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-period"><span class="nav-number">5.6.</span> <span class="nav-text">cpu_period</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-quota"><span class="nav-number">5.7.</span> <span class="nav-text">cpu_quota</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-rt-runtime"><span class="nav-number">5.8.</span> <span class="nav-text">cpu_rt_runtime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpu-rt-period"><span class="nav-number">5.9.</span> <span class="nav-text">cpu_rt_period</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpus"><span class="nav-number">5.10.</span> <span class="nav-text">cpus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpuset"><span class="nav-number">5.11.</span> <span class="nav-text">cpuset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cap-add"><span class="nav-number">5.12.</span> <span class="nav-text">cap_add</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cap-drop"><span class="nav-number">5.13.</span> <span class="nav-text">cap_drop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cgroup-parent"><span class="nav-number">5.14.</span> <span class="nav-text">cgroup_parent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#command"><span class="nav-number">5.15.</span> <span class="nav-text">command</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#configs"><span class="nav-number">5.16.</span> <span class="nav-text">configs</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Short-syntax"><span class="nav-number">5.16.1.</span> <span class="nav-text">Short syntax</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Long-syntax"><span class="nav-number">5.16.2.</span> <span class="nav-text">Long syntax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#container-name"><span class="nav-number">5.17.</span> <span class="nav-text">container_name</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#credential-spec"><span class="nav-number">5.18.</span> <span class="nav-text">credential_spec</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Example-gMSA-configuration"><span class="nav-number">5.18.1.</span> <span class="nav-text">Example gMSA configuration</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#depends-on"><span class="nav-number">5.19.</span> <span class="nav-text">depends_on</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Short-syntax-1"><span class="nav-number">5.19.1.</span> <span class="nav-text">Short syntax</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Long-syntax-1"><span class="nav-number">5.19.2.</span> <span class="nav-text">Long syntax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deploy"><span class="nav-number">5.20.</span> <span class="nav-text">deploy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#device-cgroup-rules"><span class="nav-number">5.21.</span> <span class="nav-text">device_cgroup_rules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#devices"><span class="nav-number">5.22.</span> <span class="nav-text">devices</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dns"><span class="nav-number">5.23.</span> <span class="nav-text">dns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dns-opt"><span class="nav-number">5.24.</span> <span class="nav-text">dns_opt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dns-search"><span class="nav-number">5.25.</span> <span class="nav-text">dns_search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#domainname"><span class="nav-number">5.26.</span> <span class="nav-text">domainname</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#entrypoint"><span class="nav-number">5.27.</span> <span class="nav-text">entrypoint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#env-file"><span class="nav-number">5.28.</span> <span class="nav-text">env_file</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Env-file-format"><span class="nav-number">5.28.1.</span> <span class="nav-text">Env_file format</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#environment"><span class="nav-number">5.29.</span> <span class="nav-text">environment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#expose"><span class="nav-number">5.30.</span> <span class="nav-text">expose</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#extends"><span class="nav-number">5.31.</span> <span class="nav-text">extends</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Restrictions"><span class="nav-number">5.31.1.</span> <span class="nav-text">Restrictions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Finding-referenced-service"><span class="nav-number">5.31.2.</span> <span class="nav-text">Finding referenced service</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Merging-service-definitions"><span class="nav-number">5.31.3.</span> <span class="nav-text">Merging service definitions</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Mappings"><span class="nav-number">5.31.3.1.</span> <span class="nav-text">Mappings</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Sequences"><span class="nav-number">5.31.3.2.</span> <span class="nav-text">Sequences</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Scalars"><span class="nav-number">5.31.3.3.</span> <span class="nav-text">Scalars</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#external-links"><span class="nav-number">5.32.</span> <span class="nav-text">external_links</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#extra-hosts"><span class="nav-number">5.33.</span> <span class="nav-text">extra_hosts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#group-add"><span class="nav-number">5.34.</span> <span class="nav-text">group_add</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#healthcheck"><span class="nav-number">5.35.</span> <span class="nav-text">healthcheck</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hostname"><span class="nav-number">5.36.</span> <span class="nav-text">hostname</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#image"><span class="nav-number">5.37.</span> <span class="nav-text">image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#init"><span class="nav-number">5.38.</span> <span class="nav-text">init</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ipc"><span class="nav-number">5.39.</span> <span class="nav-text">ipc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isolation"><span class="nav-number">5.40.</span> <span class="nav-text">isolation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#labels"><span class="nav-number">5.41.</span> <span class="nav-text">labels</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#links"><span class="nav-number">5.42.</span> <span class="nav-text">links</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#logging"><span class="nav-number">5.43.</span> <span class="nav-text">logging</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#network-mode"><span class="nav-number">5.44.</span> <span class="nav-text">network_mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#networks"><span class="nav-number">5.45.</span> <span class="nav-text">networks</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#aliases"><span class="nav-number">5.45.1.</span> <span class="nav-text">aliases</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ipv4-address-ipv6-address"><span class="nav-number">5.45.2.</span> <span class="nav-text">ipv4_address, ipv6_address</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#link-local-ips"><span class="nav-number">5.45.3.</span> <span class="nav-text">link_local_ips</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#priority"><span class="nav-number">5.45.4.</span> <span class="nav-text">priority</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mac-address"><span class="nav-number">5.46.</span> <span class="nav-text">mac_address</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mem-limit"><span class="nav-number">5.47.</span> <span class="nav-text">mem_limit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mem-reservation"><span class="nav-number">5.48.</span> <span class="nav-text">mem_reservation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mem-swappiness"><span class="nav-number">5.49.</span> <span class="nav-text">mem_swappiness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#memswap-limit"><span class="nav-number">5.50.</span> <span class="nav-text">memswap_limit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oom-kill-disable"><span class="nav-number">5.51.</span> <span class="nav-text">oom_kill_disable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oom-score-adj"><span class="nav-number">5.52.</span> <span class="nav-text">oom_score_adj</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pid"><span class="nav-number">5.53.</span> <span class="nav-text">pid</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pids-limit"><span class="nav-number">5.54.</span> <span class="nav-text">pids_limit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#platform"><span class="nav-number">5.55.</span> <span class="nav-text">platform</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ports"><span class="nav-number">5.56.</span> <span class="nav-text">ports</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Short-syntax-2"><span class="nav-number">5.56.1.</span> <span class="nav-text">Short syntax</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Long-syntax-2"><span class="nav-number">5.56.2.</span> <span class="nav-text">Long syntax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#privileged"><span class="nav-number">5.57.</span> <span class="nav-text">privileged</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#profiles"><span class="nav-number">5.58.</span> <span class="nav-text">profiles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pull-policy"><span class="nav-number">5.59.</span> <span class="nav-text">pull_policy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read-only"><span class="nav-number">5.60.</span> <span class="nav-text">read_only</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#restart"><span class="nav-number">5.61.</span> <span class="nav-text">restart</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#runtime"><span class="nav-number">5.62.</span> <span class="nav-text">runtime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scale"><span class="nav-number">5.63.</span> <span class="nav-text">scale</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#secrets"><span class="nav-number">5.64.</span> <span class="nav-text">secrets</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Short-syntax-3"><span class="nav-number">5.64.1.</span> <span class="nav-text">Short syntax</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Long-syntax-3"><span class="nav-number">5.64.2.</span> <span class="nav-text">Long syntax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#security-opt"><span class="nav-number">5.65.</span> <span class="nav-text">security_opt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shm-size"><span class="nav-number">5.66.</span> <span class="nav-text">shm_size</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stdin-open"><span class="nav-number">5.67.</span> <span class="nav-text">stdin_open</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stop-grace-period"><span class="nav-number">5.68.</span> <span class="nav-text">stop_grace_period</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stop-signal"><span class="nav-number">5.69.</span> <span class="nav-text">stop_signal</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#storage-opt"><span class="nav-number">5.70.</span> <span class="nav-text">storage_opt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sysctls"><span class="nav-number">5.71.</span> <span class="nav-text">sysctls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tmpfs"><span class="nav-number">5.72.</span> <span class="nav-text">tmpfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tty"><span class="nav-number">5.73.</span> <span class="nav-text">tty</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ulimits"><span class="nav-number">5.74.</span> <span class="nav-text">ulimits</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#user"><span class="nav-number">5.75.</span> <span class="nav-text">user</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#userns-mode"><span class="nav-number">5.76.</span> <span class="nav-text">userns_mode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#volumes"><span class="nav-number">5.77.</span> <span class="nav-text">volumes</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Short-syntax-4"><span class="nav-number">5.77.1.</span> <span class="nav-text">Short syntax</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Long-syntax-4"><span class="nav-number">5.77.2.</span> <span class="nav-text">Long syntax</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#volumes-from"><span class="nav-number">5.78.</span> <span class="nav-text">volumes_from</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#working-dir"><span class="nav-number">5.79.</span> <span class="nav-text">working_dir</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Networks-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-networks"><span class="nav-number">6.</span> <span class="nav-text">Networks top-level element (È°∂Á∫ßÂÖÉÁ¥† networks)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#driver"><span class="nav-number">6.1.</span> <span class="nav-text">driver</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#host-or-none"><span class="nav-number">6.1.1.</span> <span class="nav-text">host or none</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#driver-opts"><span class="nav-number">6.2.</span> <span class="nav-text">driver_opts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#attachable"><span class="nav-number">6.3.</span> <span class="nav-text">attachable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#enable-ipv6"><span class="nav-number">6.4.</span> <span class="nav-text">enable_ipv6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ipma"><span class="nav-number">6.5.</span> <span class="nav-text">ipma</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#internal"><span class="nav-number">6.6.</span> <span class="nav-text">internal</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#labels-1"><span class="nav-number">6.7.</span> <span class="nav-text">labels</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#external"><span class="nav-number">6.8.</span> <span class="nav-text">external</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#name"><span class="nav-number">6.9.</span> <span class="nav-text">name</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Volumes-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-volumes"><span class="nav-number">7.</span> <span class="nav-text">Volumes top-level element (È°∂Á∫ßÂÖÉÁ¥† volumes)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#driver-1"><span class="nav-number">7.1.</span> <span class="nav-text">driver</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#driver-opts-1"><span class="nav-number">7.2.</span> <span class="nav-text">driver_opts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#external-1"><span class="nav-number">7.3.</span> <span class="nav-text">external</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#labels-2"><span class="nav-number">7.4.</span> <span class="nav-text">labels</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#name-1"><span class="nav-number">7.5.</span> <span class="nav-text">name</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Configs-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-configs"><span class="nav-number">8.</span> <span class="nav-text">Configs top-level element (È°∂Á∫ßÂÖÉÁ¥† configs)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Secrets-top-level-element-%E9%A1%B6%E7%BA%A7%E5%85%83%E7%B4%A0-secrets"><span class="nav-number">9.</span> <span class="nav-text">Secrets top-level element (È°∂Á∫ßÂÖÉÁ¥† secrets)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fragments-%E5%88%86%E6%AE%B5"><span class="nav-number">10.</span> <span class="nav-text">Fragments (ÂàÜÊÆµ)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Extension-%E6%89%A9%E5%B1%95"><span class="nav-number">11.</span> <span class="nav-text">Extension (Êâ©Â±ï)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Informative-Historical-Notes"><span class="nav-number">11.1.</span> <span class="nav-text">Informative Historical Notes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-extensions-as-fragments"><span class="nav-number">11.2.</span> <span class="nav-text">Using extensions as fragments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#specifying-byte-values"><span class="nav-number">11.3.</span> <span class="nav-text">specifying byte values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#specifying-durations"><span class="nav-number">11.4.</span> <span class="nav-text">specifying durations</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interpolation-%E6%8F%92%E5%80%BC"><span class="nav-number">12.</span> <span class="nav-text">Interpolation (ÊèíÂÄº)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">13.</span> <span class="nav-text">ÂèÇËÄÉ</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="ÊêúÁ¥¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
