<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Micronaut,Groovy,Gradle,Java,æ–‡æ¡£,ä¸­æ–‡">
    <meta name="description" content="Micronaut Groovy Gradle Java æ–‡æ¡£ ä¸­æ–‡">
    <meta name="author" content="æ—å¨ç¾½">
    
    <title>
        
            Micronaut ä¸­æ–‡æ–‡æ¡£ Management &amp; Monitoring |
        
        æ—å¨ç¾½çš„ç¬”è®°
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"rgb(153,153,0)","avatar":"/images/avatar.jpg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"400px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":null,"description":"def containsğŸš€ = ['Micronaut', 'Groovy', 'Gradle', 'etc']"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"};
  </script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                æ—å¨ç¾½çš„ç¬”è®°
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                é¦–é¡µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                åˆ†ç±»
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                æ ‡ç­¾
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                å½’æ¡£
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                å…³äº
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">é¦–é¡µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">åˆ†ç±»</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">æ ‡ç­¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">å½’æ¡£</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">å…³äº</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

    <a target="_blank" rel="noopener" href="https://github.com/linweiyu21/" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80"
        viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
        aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg></a>
    <style>
      .github-corner:hover .octo-arm {
        animation: octocat-wave 560ms ease-in-out
      }

      @keyframes octocat-wave {

        0%,
        100% {
          transform: rotate(0)
        }

        20%,
        60% {
          transform: rotate(-25deg)
        }

        40%,
        80% {
          transform: rotate(10deg)
        }
      }

      @media (max-width:500px) {
        .github-corner:hover .octo-arm {
          animation: none
        }

        .github-corner .octo-arm {
          animation: octocat-wave 560ms ease-in-out
        }
      }
    </style>
</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Micronaut ä¸­æ–‡æ–‡æ¡£ Management &amp; Monitoring</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">æ—å¨ç¾½</span>
                        
                            <span class="author-label">Lv8</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-04-29 09:49:56</span>
        <span class="mobile">2022-04-29 09:49</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/Micronaut-%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/">Micronaut ä¸­æ–‡æ–‡æ¡£</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Micronaut/">Micronaut</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Groovy/">Groovy</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E4%B8%AD%E6%96%87/">ä¸­æ–‡</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <!-- TOC -->

<ul>
<li><a href="#management--monitoring">Management &amp; Monitoring</a><ul>
<li><a href="#creating-endpoints-%E5%88%9B%E5%BB%BA%E7%AB%AF%E7%82%B9">Creating Endpoints (åˆ›å»ºç«¯ç‚¹)</a><ul>
<li><a href="#the-endpoints-annotation-%E7%AB%AF%E7%82%B9%E6%B3%A8%E8%A7%A3">The Endpoints Annotation (ç«¯ç‚¹æ³¨è§£)</a><ul>
<li><a href="#example-of-custom-endpoint-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AB%AF%E7%82%B9%E7%9A%84%E4%BE%8B%E5%AD%90">Example of custom Endpoint (è‡ªå®šä¹‰ç«¯ç‚¹çš„ä¾‹å­)</a></li>
</ul>
</li>
<li><a href="#endpoint-methods-%E7%AB%AF%E7%82%B9%E6%96%B9%E6%B3%95">Endpoint Methods (ç«¯ç‚¹æ–¹æ³•)</a><ul>
<li><a href="#read-methods-%E8%AF%BB%E6%96%B9%E6%B3%95">Read Methods (è¯»æ–¹æ³•)</a></li>
<li><a href="#write-methods-%E5%86%99%E6%96%B9%E6%B3%95">Write Methods (å†™æ–¹æ³•)</a></li>
<li><a href="#delete-methods-%E5%88%A0%E9%99%A4%E6%96%B9%E6%B3%95">Delete Methods (åˆ é™¤æ–¹æ³•)</a></li>
</ul>
</li>
<li><a href="#endpoint-sensitivity-%E7%AB%AF%E7%82%B9%E6%95%8F%E6%84%9F%E6%80%A7">Endpoint Sensitivity (ç«¯ç‚¹æ•æ„Ÿæ€§)</a></li>
<li><a href="#endpoint-configuration-%E7%AB%AF%E7%82%B9%E9%85%8D%E7%BD%AE">Endpoint Configuration (ç«¯ç‚¹é…ç½®)</a></li>
</ul>
</li>
<li><a href="#built-in-endpoints-%E5%86%85%E7%BD%AE%E7%AB%AF%E7%82%B9">Built-In Endpoints (å†…ç½®ç«¯ç‚¹)</a><ul>
<li><a href="#management-port-%E7%AE%A1%E7%90%86%E7%AB%AF%E5%8F%A3">Management Port (ç®¡ç†ç«¯å£)</a></li>
<li><a href="#jmx-jmx">JMX (JMX)</a></li>
<li><a href="#the-beans-endpoint-beans-%E7%AB%AF%E7%82%B9">The Beans Endpoint (Beans ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE">Configuration (é…ç½®)</a></li>
<li><a href="#customization-%E8%87%AA%E5%AE%9A%E4%B9%89">Customization (è‡ªå®šä¹‰)</a></li>
</ul>
</li>
<li><a href="#the-info-endpoint-info-%E7%AB%AF%E7%82%B9">The Info Endpoint (Info ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-1">Configuration (é…ç½®)</a></li>
<li><a href="#customization-%E8%87%AA%E5%AE%9A%E4%B9%89-1">Customization (è‡ªå®šä¹‰)</a></li>
<li><a href="#provided-info-sources-%E6%8F%90%E4%BE%9B%E7%9A%84-info-%E6%BA%90">Provided Info Sources (æä¾›çš„ Info æº)</a><ul>
<li><a href="#configuration-info-source-%E9%85%8D%E7%BD%AE-info-%E6%BA%90">Configuration Info Source (é…ç½® Info æº)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-2">Configuration (é…ç½®)</a></li>
</ul>
</li>
<li><a href="#git-info-source-git-info-source">Git Info Source (Git Info Source)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-3">Configuration (é…ç½®)</a></li>
</ul>
</li>
<li><a href="#build-info-source-%E6%9E%84%E5%BB%BA-info-source">Build Info Source (æ„å»º Info Source)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-4">Configuration (é…ç½®)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#the-health-endpoint-%E5%81%A5%E5%BA%B7%E7%AB%AF%E7%82%B9">The Health Endpoint (å¥åº·ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-5">Configuration (é…ç½®)</a></li>
<li><a href="#customization-%E8%87%AA%E5%AE%9A%E4%B9%89-2">Customization (è‡ªå®šä¹‰)</a></li>
<li><a href="#provided-indicators-%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8C%87%E7%A4%BA%E5%99%A8">Provided Indicators (æä¾›çš„æŒ‡ç¤ºå™¨)</a><ul>
<li><a href="#disk-space-%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4">Disk Space (ç£ç›˜ç©ºé—´)</a></li>
<li><a href="#jdbc-jdbc">JDBC (JDBC)</a></li>
<li><a href="#discovery-client-%E5%8F%91%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF">Discovery Client (å‘ç°å®¢æˆ·ç«¯)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#the-metrics-endpoint-%E6%8C%87%E6%A0%87%E7%AB%AF%E7%82%B9">The Metrics Endpoint (æŒ‡æ ‡ç«¯ç‚¹)</a></li>
<li><a href="#the-refresh-endpoint-%E5%88%B7%E6%96%B0%E7%AB%AF%E7%82%B9">The Refresh Endpoint (åˆ·æ–°ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-6">Configuration (é…ç½®)</a></li>
</ul>
</li>
<li><a href="#the-routes-endpoint-%E8%B7%AF%E7%94%B1%E7%AB%AF%E7%82%B9">The Routes Endpoint (è·¯ç”±ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-7">Configuration (é…ç½®)</a></li>
<li><a href="#customization-%E8%87%AA%E5%AE%9A%E4%B9%89-3">Customization (è‡ªå®šä¹‰)</a></li>
</ul>
</li>
<li><a href="#the-loggers-endpoint-%E6%97%A5%E5%BF%97%E7%AB%AF%E7%82%B9">The Loggers Endpoint (æ—¥å¿—ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-8">Configuration (é…ç½®)</a></li>
<li><a href="#customization-%E8%87%AA%E5%AE%9A%E4%B9%89-4">Customization (è‡ªå®šä¹‰)</a></li>
</ul>
</li>
<li><a href="#the-caches-endpoint-%E7%BC%93%E5%AD%98%E7%AB%AF%E7%82%B9">The Caches Endpoint (ç¼“å­˜ç«¯ç‚¹)</a></li>
<li><a href="#the-server-stop-endpoint-%E6%9C%8D%E5%8A%A1%E5%81%9C%E6%AD%A2%E7%AB%AF%E7%82%B9">The Server Stop Endpoint (æœåŠ¡åœæ­¢ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-9">Configuration (é…ç½®)</a></li>
</ul>
</li>
<li><a href="#the-environment-endpoint-%E7%8E%AF%E5%A2%83%E7%AB%AF%E7%82%B9">The Environment Endpoint (ç¯å¢ƒç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-10">Configuration (é…ç½®)</a></li>
<li><a href="#getting-information-about-the-environment-%E8%8E%B7%E5%8F%96%E5%85%B3%E4%BA%8E%E7%8E%AF%E5%A2%83%E7%9A%84%E4%BF%A1%E6%81%AF">Getting information about the environment (è·å–å…³äºç¯å¢ƒçš„ä¿¡æ¯)</a></li>
<li><a href="#getting-information-about-a-particular-propertysource-%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E7%9A%84-propertysource-%E4%BF%A1%E6%81%AF">Getting information about a particular <code>PropertySource</code> (è·å–ç‰¹å®šçš„ <code>PropertySource</code> ä¿¡æ¯)</a></li>
</ul>
</li>
<li><a href="#the-threaddump-endpoint-%E7%BA%BF%E7%A8%8B%E8%BD%AC%E5%82%A8%E7%AB%AF%E7%82%B9">The ThreadDump Endpoint (çº¿ç¨‹è½¬å‚¨ç«¯ç‚¹)</a><ul>
<li><a href="#configuration-%E9%85%8D%E7%BD%AE-11">Configuration (é…ç½®)</a></li>
<li><a href="#customization-%E8%87%AA%E5%AE%9A%E4%B9%89-5">Customization (è‡ªå®šä¹‰)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->

<h1 id="Management-amp-Monitoring"><a href="#Management-amp-Monitoring" class="headerlink" title="Management &amp; Monitoring"></a>Management &amp; Monitoring</h1><p><strong>å£°æ˜</strong>:</p>
<ul>
<li>æœ¬æ–‡ç”±æœ¬äººç¿»è¯‘è‡ª<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide" >å®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a></li>
<li>éƒ¨åˆ†å†…å®¹å¯èƒ½ä¼šæœ‰ä¿®æ”¹æˆ–åˆ å‡, ä¸€åˆ‡ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºå‡†.</li>
<li>æœ¬æ–‡ç¿»è¯‘æ—¶ Micronaut ç‰ˆæœ¬ä¸º 3.4.2</li>
</ul>
<p>å¦‚æœä½ ä½¿ç”¨ Micronaut CLI åˆ›å»ºé¡¹ç›®, ä½¿ç”¨ <code>management</code> åŠŸèƒ½æ¥é…ç½® management endpoints åˆ°ä½ çš„é¡¹ç›®ä¸­:</p>
<p><code>mn create-app my-app --features management</code></p>
<p>å— Spring Boot å’Œ Grails çš„å¯å‘, Micronaut <code>management</code> ä¾èµ–æ·»åŠ äº†å¯¹é€šè¿‡ <strong>endpoints</strong> ç›‘æ§ä½ çš„åº”ç”¨ç¨‹åºçš„æ”¯æŒ</p>
<p><strong>endpoints</strong>: ä¸€ä¸ªç‰¹æ®Šçš„ URIs, è¿”å›å…³äºåº”ç”¨ç¨‹åºçš„å¥åº·å’ŒçŠ¶æ€ç»†èŠ‚</p>
<p><code>management</code> endpoints åŒæ—¶å’Œ Micronaut çš„ <code>security</code> ä¾èµ–é›†æˆ, å…è®¸åœ¨ä½ çš„å®‰å…¨ç³»ç»Ÿä¸­å°†æ•æ„Ÿæ•°æ®é™åˆ¶äºæˆæƒçš„ç”¨æˆ· (æŸ¥çœ‹ å®‰å…¨ç« èŠ‚ä¸­çš„<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#management" >Built-in Endpoints Access<i class="fas fa-external-link-alt"></i></a>)</p>
<p>è¦ä½¿ç”¨ <code>management</code> åŠŸèƒ½, æ·»åŠ å¦‚ä¸‹ä¾èµ–åˆ°ä½ çš„æ„å»ºä¸­:</p>
<p><code>implementation(&quot;io.micronaut:micronaut-management&quot;)</code></p>
<h2 id="Creating-Endpoints-åˆ›å»ºç«¯ç‚¹"><a href="#Creating-Endpoints-åˆ›å»ºç«¯ç‚¹" class="headerlink" title="Creating Endpoints (åˆ›å»ºç«¯ç‚¹)"></a>Creating Endpoints (åˆ›å»ºç«¯ç‚¹)</h2><p>é™¤äº† <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#providedEndpoints" >å†…å»ºçš„ endpoints<i class="fas fa-external-link-alt"></i></a>, <code>management</code> ä¾èµ–è¿˜æä¾›äº†è‡ªå®šä¹‰ endpoints çš„æ”¯æŒ</p>
<p>è¿™å¯ä»¥åƒå†…ç½® endpoints ä¸€æ ·å¯ç”¨å’Œé…ç½®, å¹¶å¯ç”¨äºæ£€ç´¢å’Œè¿”å›ä»»ä½•æŒ‡æ ‡æˆ–å…¶ä»–åº”ç”¨ç¨‹åºæ•°æ®</p>
<h3 id="The-Endpoints-Annotation-ç«¯ç‚¹æ³¨è§£"><a href="#The-Endpoints-Annotation-ç«¯ç‚¹æ³¨è§£" class="headerlink" title="The Endpoints Annotation (ç«¯ç‚¹æ³¨è§£)"></a>The Endpoints Annotation (ç«¯ç‚¹æ³¨è§£)</h3><p>å¯é€šè¿‡ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Endpoint.html" >@Endpoint<i class="fas fa-external-link-alt"></i></a> æ³¨è§£ä¿®é¥°ä¸€ä¸ªç±»æ¥åˆ›å»ºä¸€ä¸ª endpoint, è‡³å°‘è¦æä¾›ä¸€ä¸ª endpoint id</p>
<p>Example - FooEndpoint.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Endpoint(&quot;foo&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FooEndpoint</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæä¾›ä¸€ä¸ª <code>String</code> å‚æ•°ç»™æ³¨è§£, é‚£ä¹ˆè¿™ä¸ª <code>String</code> å°±ä½œä¸º endpoint id</p>
<p>å¯ä»¥æä¾›é¢å¤–å‘½åçš„å‚æ•°ç»™æ³¨è§£. <code>@Endpoint</code> å…¶ä»–å¯èƒ½çš„å‚æ•°éƒ½å±•ç¤ºåœ¨ä¸‹è¡¨ä¸­:</p>
<p>Table - Endpoint Arguments:</p>
<table>
<thead>
<tr>
<th align="left">Argument</th>
<th align="left">Description</th>
<th align="left">Endpoint Example</th>
</tr>
</thead>
<tbody><tr>
<td align="left">String id</td>
<td align="left">The endpoint (or name)</td>
<td align="left">@Endpoint(id &#x3D; â€œfooâ€)</td>
</tr>
<tr>
<td align="left">String prefix</td>
<td align="left">Prefix used for configuring the endpoint (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#endpointConfiguration" >Endpoint Configuration<i class="fas fa-external-link-alt"></i></a>)</td>
<td align="left">@Endpoint(prefix &#x3D; â€œfooâ€)</td>
</tr>
<tr>
<td align="left">boolean defaultEnabled</td>
<td align="left">Sets whether the endpoint is enabled when no configuration is set (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#endpointConfiguration" >Endpoint Configuration<i class="fas fa-external-link-alt"></i></a>)</td>
<td align="left">@Endpoint(defaultEnabled &#x3D; false)</td>
</tr>
<tr>
<td align="left">boolean defaultSensitive</td>
<td align="left">Sets whether the endpoint is sensitive if no configuration is set (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#endpointConfiguration" >Endpoint Configuration<i class="fas fa-external-link-alt"></i></a>)</td>
<td align="left">@Endpoint(defaultSensitive &#x3D; false)</td>
</tr>
</tbody></table>
<h4 id="Example-of-custom-Endpoint-è‡ªå®šä¹‰ç«¯ç‚¹çš„ä¾‹å­"><a href="#Example-of-custom-Endpoint-è‡ªå®šä¹‰ç«¯ç‚¹çš„ä¾‹å­" class="headerlink" title="Example of custom Endpoint (è‡ªå®šä¹‰ç«¯ç‚¹çš„ä¾‹å­)"></a>Example of custom Endpoint (è‡ªå®šä¹‰ç«¯ç‚¹çš„ä¾‹å­)</h4><p>ä¸‹é¢çš„ä¾‹å­ä¸­çš„ <code>Endpoint</code> ç±»åˆ›å»ºäº†ä¸€ä¸ªå¯ä»¥åœ¨ <code>/date</code> è®¿é—®çš„ç«¯ç‚¹:</p>
<p>Example - CurrentDateEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(</span><br><span class="line">    id = <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">    prefix = <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">    defaultEnabled = <span class="literal">true</span>,</span><br><span class="line">    defaultSensitive = <span class="literal">false</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CurrentDateEndpoint</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Endpoint-Methods-ç«¯ç‚¹æ–¹æ³•"><a href="#Endpoint-Methods-ç«¯ç‚¹æ–¹æ³•" class="headerlink" title="Endpoint Methods (ç«¯ç‚¹æ–¹æ³•)"></a>Endpoint Methods (ç«¯ç‚¹æ–¹æ³•)</h3><p>Endpoints å“åº” <code>GET</code>(è¯»å–), <code>POST</code>(å†™), <code>DELETE</code>(åˆ é™¤) è¯·æ±‚</p>
<p>è¦ä»ä¸€ä¸ª endpoint ä¸­è¿”å›å“åº”, ä½¿ç”¨å¦‚ä¸‹æ³¨è§£ä¿®é¥°å®ƒçš„ public æ–¹æ³•:</p>
<p>Table - Endpoint Method Annotations:</p>
<table>
<thead>
<tr>
<th align="left">Annotation</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Read.html" >@Read<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">Responds to GET requests</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Write.html" >@Write<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">Responds to POST requests</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Delete.html" >@Delete<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">Responds to DELETE requests</td>
</tr>
</tbody></table>
<h4 id="Read-Methods-è¯»æ–¹æ³•"><a href="#Read-Methods-è¯»æ–¹æ³•" class="headerlink" title="Read Methods (è¯»æ–¹æ³•)"></a>Read Methods (è¯»æ–¹æ³•)</h4><p>ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Read.html" >@Read<i class="fas fa-external-link-alt"></i></a> æ³¨è§£ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ä½¿å¾—è¿™ä¸ªæ–¹æ³•å“åº” <code>GET</code> è¯·æ±‚</p>
<p>Example - CurrentDateEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Read</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(id = <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">          prefix = <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">          defaultEnabled = <span class="literal">true</span>,</span><br><span class="line">          defaultSensitive = <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CurrentDateEndpoint</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Date currentDate</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Read</span></span><br><span class="line">    Date currentDate() &#123; currentDate &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„æ–¹æ³•å“åº”å¦‚ä¸‹è¯·æ±‚:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET localhost:38238/date</span><br><span class="line"></span><br><span class="line">1526085903689</span><br></pre></td></tr></table></figure>

<p><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Read.html" >@Read<i class="fas fa-external-link-alt"></i></a> æ³¨è§£æ¥å—ä¸€ä¸ªå¯é€‰çš„ <code>produces</code> å‚æ•°, ç”¨æ¥è®¾ç½®ä»æ–¹æ³•è¿”å›çš„ç±»å‹çš„ media type (é»˜è®¤æ˜¯ <code>application/json</code>)</p>
<p>Example - CurrentDateEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Read</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MediaType</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Selector</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(id = <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">          prefix = <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">          defaultEnabled = <span class="literal">true</span>,</span><br><span class="line">          defaultSensitive = <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CurrentDateEndpoint</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Date currentDate</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Read</span>(produces = MediaType.TEXT_PLAIN)</span><br><span class="line">    Date currentDate(<span class="meta">@Selector</span> String prefix) &#123; </span><br><span class="line">        <span class="string">&quot;$prefix: $currentDate&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„æ–¹æ³•å“åº”å¦‚ä¸‹çš„è¯·æ±‚:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET localhost:8080/date/the_date_is</span><br><span class="line"></span><br><span class="line">the_date_is: Fri May 11 19:24:21 CDT</span><br></pre></td></tr></table></figure>

<h4 id="Write-Methods-å†™æ–¹æ³•"><a href="#Write-Methods-å†™æ–¹æ³•" class="headerlink" title="Write Methods (å†™æ–¹æ³•)"></a>Write Methods (å†™æ–¹æ³•)</h4><p>ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Write.html" >@Write<i class="fas fa-external-link-alt"></i></a> æ³¨è§£ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ä½¿å¾—è¿™ä¸ªæ–¹æ³•å“åº” <code>POST</code> è¯·æ±‚</p>
<p>Example - CurrentDateEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Write</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MediaType</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Selector</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(id = <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">          prefix = <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">          defaultEnabled = <span class="literal">true</span>,</span><br><span class="line">          defaultSensitive = <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CurrentDateEndpoint</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Date currentDate</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Write</span></span><br><span class="line">    String reset() &#123;</span><br><span class="line">        currentDate = <span class="keyword">new</span> Date()</span><br><span class="line">        <span class="string">&#x27;Current date reset&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å¦‚å“åº”å¦‚ä¸‹çš„è¯·æ±‚:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST http://localhost:93284/date</span><br><span class="line"></span><br><span class="line">Current <span class="built_in">date</span> reset</span><br></pre></td></tr></table></figure>

<p><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Write.html" >@Write<i class="fas fa-external-link-alt"></i></a> æ³¨è§£æ¥å—ä¸€ä¸ªå¯é€‰çš„ <code>consumes</code> å‚æ•°æ¥è®¾ç½®è¿™ä¸ªæ–¹æ³•æ¥å—çš„ media type (é»˜è®¤ä¸º <code>application/json</code>)</p>
<p>Example - MessageEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Write</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MediaType</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(id = <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">          defaultSensitive = <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MessageEndpoint</span> &#123;</span><br><span class="line"></span><br><span class="line">    String message</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Write</span>(</span><br><span class="line">        consumes = MediaType.APPLICATION_FORM_URLENCODED,</span><br><span class="line">        produces = MediaType.TEXT_PLAIN</span><br><span class="line">    )</span><br><span class="line">    String updateMessage(String newMessage) &#123;</span><br><span class="line">        message = newMessage</span><br><span class="line">        <span class="string">&#x27;Message updated&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„æ–¹æ³•å“åº”å¦‚ä¸‹çš„è¯·æ±‚:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST http://localhost:65013/message -H <span class="string">&#x27;Content-Type: application/x-www-form-urlencoded&#x27;</span> -d $<span class="string">&#x27;newMessage=A new message&#x27;</span></span><br><span class="line"></span><br><span class="line">Message updated</span><br></pre></td></tr></table></figure>

<h4 id="Delete-Methods-åˆ é™¤æ–¹æ³•"><a href="#Delete-Methods-åˆ é™¤æ–¹æ³•" class="headerlink" title="Delete Methods (åˆ é™¤æ–¹æ³•)"></a>Delete Methods (åˆ é™¤æ–¹æ³•)</h4><p>ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Delete.html" >@Delete<i class="fas fa-external-link-alt"></i></a> æ³¨è§£ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ä½¿å¾—è¿™ä¸ªæ–¹æ³•å“åº” <code>DELETE</code> è¯·æ±‚</p>
<p>Example - MessageEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Delete</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(id = <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">          defaultSensitive = <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MessageEndpoint</span> &#123;</span><br><span class="line"></span><br><span class="line">    String message</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span></span><br><span class="line">    String deleteMessage() &#123;</span><br><span class="line">        message = <span class="literal">null</span></span><br><span class="line">        <span class="string">&#x27;Message deleted&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„æ–¹æ³•å“åº”å¦‚ä¸‹çš„è¯·æ±‚:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X DELETE http://localhost:65013/message</span><br><span class="line"></span><br><span class="line">Message deleted</span><br></pre></td></tr></table></figure>

<h3 id="Endpoint-Sensitivity-ç«¯ç‚¹æ•æ„Ÿæ€§"><a href="#Endpoint-Sensitivity-ç«¯ç‚¹æ•æ„Ÿæ€§" class="headerlink" title="Endpoint Sensitivity (ç«¯ç‚¹æ•æ„Ÿæ€§)"></a>Endpoint Sensitivity (ç«¯ç‚¹æ•æ„Ÿæ€§)</h3><p>å¯ä»¥é€šè¿‡ endpoint æ³¨è§£å’Œé…ç½®æ¥æ§åˆ¶æ•´ä¸ª endpoint çš„æ•æ„Ÿæ€§</p>
<p>ä½†æ˜¯, å•ä¸ªæ–¹æ³•å¯ä»¥ç‹¬ç«‹äºæ•´ä¸ª endpoint è¿›è¡Œé…ç½®</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/annotation/Sensitive.html" >@Sensitive<i class="fas fa-external-link-alt"></i></a> æ³¨è§£å¯ä»¥åº”ç”¨åˆ°æ–¹æ³•ä¸Šæ¥æ§åˆ¶æ–¹æ³•çš„æ•æ„Ÿæ€§</p>
<p>Example - AlertsEndpoint:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.microanut.http.MediaType</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Delete</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Endpoint</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Read</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Sensitive</span><br><span class="line"><span class="keyword">import</span> io.micronaut.management.endpoint.annotation.Write</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CopyOnWriteArrayList</span><br><span class="line"></span><br><span class="line"><span class="meta">@Endpoint</span>(id = <span class="string">&#x27;alerts&#x27;</span>, defaultSensitive = <span class="literal">false</span>)  <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AlertsEndpoint</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> List&lt;String&gt; alerts = <span class="keyword">new</span> CopyOnWriteArrayList&lt;&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Read</span></span><br><span class="line">    List&lt;String&gt; getAlerts() &#123; alerts &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span></span><br><span class="line">    <span class="meta">@Sensitive</span>(<span class="literal">true</span>)    <span class="comment">// 2</span></span><br><span class="line">    <span class="type">void</span> clearAlerts() &#123; alerts.clear() &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Write</span>(consumes = MediaType.TEXT_PLAIN)</span><br><span class="line">    <span class="meta">@Sensitive</span>(property = <span class="string">&#x27;add.sensitive&#x27;</span>, defaultValue = <span class="literal">true</span>)     <span class="comment">// 3</span></span><br><span class="line">    <span class="type">void</span> addAlerts(String alert) &#123; alerts &lt;&lt; alert &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : endpoint é»˜è®¤ä¸ºä¸æ•æ„Ÿçš„, å¹¶ä¸”ä½¿ç”¨é»˜è®¤çš„å‰ç¼€ (prefix) <code>endpoints</code></p>
<p><code>2</code> : è¿™ä¸ªæ–¹æ³•æ€»æ˜¯æ•æ„Ÿçš„, ä¸ç®¡å…¶ä»–ä»»ä½•å› ç´ </p>
<p><code>3</code> : <code>property</code> çš„å€¼è¢«é™„åŠ åˆ°å‰ç¼€ (prefix) å’Œ id ä»¥æŸ¥æ‰¾é…ç½®å€¼</p>
<p>å¦‚æœé…ç½® key <code>endpoints.alerts.add.sensitive</code> æœ‰è¿›è¡Œè®¾ç½®, é‚£è¿™ä¸ª key å¯¹åº”çš„å€¼å°†æŒ‡æ˜ <code>addAlert</code> æ–¹æ³•çš„æ•æ„Ÿæ€§</p>
<ol>
<li><code>endpoint</code> æ˜¯ç¬¬ä¸€ä¸ªæ ‡è®° (token), å› ä¸ºè¿™æ˜¯ <code>@Endpoint</code> æ³¨è§£ä¸­é»˜è®¤çš„å‰ç¼€å€¼, å¹¶ä¸”åœ¨è¿™ä¸ªä¾‹å­ä¸­æ²¡æœ‰æ˜ç¡®æŒ‡å®šå‰ç¼€å€¼</li>
<li><code>alerts</code> æ˜¯ç¬¬äºŒä¸ªæ ‡è®° (token), å› ä¸ºè¿™æ˜¯ endpoint çš„ id</li>
<li><code>add.sensitive</code> æ˜¯æœ€åä¸€ä¸ªæ ‡è®° (token), å› ä¸ºè¿™æ˜¯è®¾ç½®åˆ° <code>@Sensitive</code> æ³¨è§£çš„ <code>property</code> æˆå‘˜çš„å€¼</li>
</ol>
<p>å¦‚æœé…ç½® key æ²¡æœ‰è®¾ç½®, ä¼šä½¿ç”¨ <code>defaultValue</code> (é»˜è®¤ä¸º <code>true</code>)</p>
<h3 id="Endpoint-Configuration-ç«¯ç‚¹é…ç½®"><a href="#Endpoint-Configuration-ç«¯ç‚¹é…ç½®" class="headerlink" title="Endpoint Configuration (ç«¯ç‚¹é…ç½®)"></a>Endpoint Configuration (ç«¯ç‚¹é…ç½®)</h3><p>å…·æœ‰ <code>endpoints</code> å‰ç¼€çš„ endpoints å¯ä»¥é€šè¿‡å®ƒä»¬é»˜è®¤çš„ endpoint id æ¥è¿›è¡Œé…ç½®</p>
<p>å¦‚æœå­˜åœ¨ id ä¸º <code>foo</code> çš„ endpoint, å¯ä»¥é€šè¿‡ <code>endpoints.foo</code> è¿›è¡Œé…ç½®</p>
<p>é™¤æ­¤ä¹‹å¤–, å¯ä»¥é€šè¿‡ <code>all</code> å‰ç¼€æ¥æä¾›é»˜è®¤å€¼</p>
<p>Example - FooEndpoint.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Endpoint(&quot;foo&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FooEndpoint</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹, è¿™ä¸ª endpoint æ˜¯å¼€å¯çš„</p>
<p>è¦å…³é—­è¿™ä¸ª endpoint, è®¾ç½® <code>endpoints.foo.enabled</code> ä¸º <code>false</code></p>
<p>å¦‚æœ <code>endpoints.foo.enabled</code> æ²¡æœ‰è®¾ç½®, ä½†è®¾ç½®äº† <code>endpoints.all.enabled</code> ä¸º <code>false</code>, é‚£ä¹ˆè¿™ä¸ª endpoint å°†ä¼šæ˜¯å…³é—­çš„</p>
<p>ç‰¹å®š endpoint çš„é…ç½®ä¼šè¦†ç›– <code>all</code> çš„é…ç½®. å¦‚æœ <code>endpoints.foo.enabled</code> ä¸º <code>true</code> ä¸” <code>endpoints.all.enabled</code> ä¸º <code>false</code>, é‚£ä¹ˆè¿™ä¸ª <code>foo</code> endpoint å°†ä¼šæ˜¯å¼€å¯çš„</p>
<p>å¯¹äºæ‰€æœ‰ endpoints, å¯ä»¥è®¾ç½®å¦‚ä¸‹é…ç½®å€¼:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="string">&lt;any</span> <span class="string">endpoint</span> <span class="string">id&gt;:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰ endpoints çš„åŸºç¡€è·¯å¾„é»˜è®¤ä¸º <code>/</code></p>
<p>å¦‚æœä½ æƒ³ endpoints åœ¨ä¸åŒçš„åŸºç¡€è·¯å¾„ä¸‹å¯ç”¨, é…ç½® <code>endpoints.all.path</code></p>
<p>ä¾‹å¦‚, å¦‚æœ <code>endpoints.all.path</code> è®¾ç½®ä¸º <code>/endpoints</code>, é‚£ä¹ˆ <code>foo</code> endpoint å°†ä¼šåœ¨ <code>/endpoints/foo</code> è·¯å¾„ä¸‹å¯è®¿é—®</p>
<h2 id="Built-In-Endpoints-å†…ç½®ç«¯ç‚¹"><a href="#Built-In-Endpoints-å†…ç½®ç«¯ç‚¹" class="headerlink" title="Built-In Endpoints (å†…ç½®ç«¯ç‚¹)"></a>Built-In Endpoints (å†…ç½®ç«¯ç‚¹)</h2><p>å½“ <code>management</code> ä¾èµ–æ·»åŠ åˆ°äº†ä½ çš„é¡¹ç›®ä¸­, é‚£ä¹ˆä¼šé»˜è®¤å¼€å¯å¦‚ä¸‹å†…ç½® endpoints:</p>
<p>Table - Default Endpoints:</p>
<table>
<thead>
<tr>
<th align="left">Endpoint</th>
<th align="left">URI</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/beans/BeansEndpoint.html" >BeansEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;beans</td>
<td align="left">Returns information about the loaded bean definitions in the application (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#beansEndpoint" >BeansEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/health/HealthEndpoint.html" >HealthEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;health</td>
<td align="left">Returns information about the â€œhealthâ€ of the application (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#healthEndpoint" >HealthEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/InfoEndpoint.html" >InfoEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;info</td>
<td align="left">Returns static information from the state of the application (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#infoEndpoint" >InfoEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/loggers/LoggersEndpoint.html" >LoggersEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;loggers</td>
<td align="left">Returns information about available loggers and permits changing the configured log level (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#loggersEndpoint" >LoggersEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#metricsEndpoint" >MetricsEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;metrics</td>
<td align="left">Return the <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#metricsEndpoint" >application metrics<i class="fas fa-external-link-alt"></i></a>. Requires the <code>micrometer-core</code> configuration on the classpath</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/refresh/RefreshEndpoint.html" >RefreshEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;refresh</td>
<td align="left">Refreshes the application state (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#refreshEndpoint" >RefreshEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/routes/RoutesEndpoint.html" >RoutesEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;routes</td>
<td align="left">Returns information about URIs available to be called for your application (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#routesEndpoint" >RoutesEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/threads/ThreadDumpEndpoint.html" >ThreadDumpEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;threaddump</td>
<td align="left">Returns information about the current threads in the application</td>
</tr>
</tbody></table>
<p>é™¤æ­¤ä¹‹å¤–, <code>management</code> ä¾èµ–æä¾›äº†å¦‚ä¸‹é»˜è®¤ä¸å¼€å¯çš„å†…ç½® endpoints:</p>
<p>Table - Disabled Endpoints:</p>
<table>
<thead>
<tr>
<th align="left">Endpoint</th>
<th align="left">URI</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/env/EnvironmentEndpoint.html" >EnvironmentEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;env</td>
<td align="left">Return information about the environment and its property sources (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#environmentEndpoint" >EnvironmentEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#cachesEndpoint" >CachesEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;caches</td>
<td align="left">Returns information about the caches and permits invalidating them (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#cachesEndpoint" >CachesEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/stop/ServerStopEndpoint.html" >ServerStopEndpoint<i class="fas fa-external-link-alt"></i></a></td>
<td align="left">&#x2F;stop</td>
<td align="left">Shuts down the application server (see <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#stopEndpoint" >ServerStopEndpoint<i class="fas fa-external-link-alt"></i></a>)</td>
</tr>
</tbody></table>
<p>å¯é€šè¿‡è®¾ç½® <code>endpoints.all.sensitive: false</code> æ¥å¼€å¯æ‰€æœ‰ç«¯ç‚¹çš„ä¸æˆæƒè®¿é—®, ä½†æ˜¯è¿™å¿…é¡»éå¸¸å°å¿ƒåœ°ä½¿ç”¨, å› ä¸ºç§æœ‰çš„å’Œæ•æ„Ÿçš„ä¿¡æ¯ä¼šè¢«æš´éœ²</p>
<h3 id="Management-Port-ç®¡ç†ç«¯å£"><a href="#Management-Port-ç®¡ç†ç«¯å£" class="headerlink" title="Management Port (ç®¡ç†ç«¯å£)"></a>Management Port (ç®¡ç†ç«¯å£)</h3><p>é»˜è®¤æƒ…å†µä¸‹, æ‰€æœ‰ management endpoints è¢«æš´éœ²åˆ°å’Œåº”ç”¨ç¨‹åºç›¸åŒçš„ç«¯å£</p>
<p>å¯ä»¥é€šè¿‡è®¾ç½® <code>endpoints.all.port</code> å±æ€§æ¥æ”¹å˜è¿™ä¸ªè¡Œä¸º:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">all:</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8085</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, management endpoints åªä¼šæš´éœ²åˆ°ç«¯å£ 8085 ä¸Š</p>
<h3 id="JMX-JMX"><a href="#JMX-JMX" class="headerlink" title="JMX (JMX)"></a>JMX (JMX)</h3><p>Micronaut æä¾›äº†å‘ JMX æ³¨å†Œ endpoints çš„åŠŸèƒ½. æŸ¥çœ‹ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#jmx" >JMX<i class="fas fa-external-link-alt"></i></a> æ¥å¼€å§‹</p>
<h3 id="The-Beans-Endpoint-Beans-ç«¯ç‚¹"><a href="#The-Beans-Endpoint-Beans-ç«¯ç‚¹" class="headerlink" title="The Beans Endpoint (Beans ç«¯ç‚¹)"></a>The Beans Endpoint (Beans ç«¯ç‚¹)</h3><blockquote>
<p>The beans endpoint returns information about the loaded bean definitions in the application.</p>
</blockquote>
<p>Beans endpoint è¿”å›å…³äºåœ¨åº”ç”¨ç¨‹åºä¸­åŠ è½½çš„ bean å®šä¹‰çš„ä¿¡æ¯</p>
<p>é»˜è®¤è¿”å›çš„ bean æ•°æ®æ˜¯ä¸€ä¸ªå¯¹è±¡, å…¶ä¸­ key æ˜¯ bean å®šä¹‰ç±»å, value æ˜¯ä¸€ä¸ªæœ‰å…³ bean çš„å±æ€§çš„å¯¹è±¡</p>
<p>è¦æ‰§è¡Œ beans endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/beans</code></p>
<p>Example - è¿”å›ä¾‹å­:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;beans&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;io.micronaut.http.server.netty.jackson.$JsonHttpContentSubscriberFactory$Definition&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;io.micronaut.http.server.HttpServerConfiguration&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;io.micronaut.json.JsonMapper&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;javax.inject.Singleton&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;io.micronaut.http.server.netty.jackson.JsonHttpContentSubscriberFactory&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="Configuration-é…ç½®"><a href="#Configuration-é…ç½®" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® beans endpoint, é€šè¿‡ <code>endpoints.beans</code> æ·»åŠ é…ç½®:</p>
<p>Example - Beans Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">beans:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<h4 id="Customization-è‡ªå®šä¹‰"><a href="#Customization-è‡ªå®šä¹‰" class="headerlink" title="Customization (è‡ªå®šä¹‰)"></a>Customization (è‡ªå®šä¹‰)</h4><blockquote>
<p>The beans endpoint is composed of a bean definition data collector and a bean data implementation.</p>
</blockquote>
<p>beans endpoint ç”±ä¸€ä¸ª bean å®šä¹‰æ•°æ®æ”¶é›†å™¨å’Œä¸€ä¸ª bean æ•°æ®å®ç°ç»„æˆ</p>
<blockquote>
<p>The bean definition data collector (BeanDefinitionDataCollector) is responsible for returning a publisher that returns the data used in the response.</p>
</blockquote>
<p>bean å®šä¹‰æ•°æ®æ”¶é›†å™¨ (<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/beans/BeanDefinitionDataCollector.html" >BeanDefinitionDataCollector<i class="fas fa-external-link-alt"></i></a>) è´Ÿè´£è¿”å›ä¸€ä¸ª publisher, è¿™ä¸ª publisher è¿”å›å“åº”ä¸­ä½¿ç”¨çš„æ•°æ®</p>
<blockquote>
<p>The bean definition data (BeanDefinitionData) is responsible for returning data about an individual bean definition.</p>
</blockquote>
<p>bean å®šä¹‰æ•°æ® (<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/beans/BeanDefinitionData.html" >BeanDefinitionData<i class="fas fa-external-link-alt"></i></a>) è´Ÿè´£è¿”å›å…³äºå•ä¸ª bean å®šä¹‰çš„æ•°æ®</p>
<blockquote>
<p>To override the default behavior for either of the helper classes, either extend the default implementations (DefaultBeanDefinitionDataCollector, DefaultBeanDefinitionData), or implement the relevant interface directly.</p>
</blockquote>
<p>è¦è¦†ç›–ä»»ä¸€åŠ©æ‰‹ç±»çš„é»˜è®¤è¡Œä¸º, è¯·æ‰©å±•é»˜è®¤å®ç° (<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/beans/impl/DefaultBeanDefinitionDataCollector.html" >DefaultBeanDefinitionDataCollector<i class="fas fa-external-link-alt"></i></a>, <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/beans/impl/DefaultBeanDefinitionData.html" >DefaultBeanDefinitionData<i class="fas fa-external-link-alt"></i></a>), æˆ–ç›´æ¥å®ç°ç›¸å…³æ¥å£</p>
<blockquote>
<p>To ensure your implementation is used instead of the default, add the @Replaces annotation to your class with the value being the default implementation.</p>
</blockquote>
<p>ä¸ºç¡®ä¿ä½¿ç”¨ä½ çš„å®ç°è€Œä¸æ˜¯é»˜è®¤å®ç°, å°† <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Replaces.html" >@Replaces<i class="fas fa-external-link-alt"></i></a> æ³¨è§£æ·»åŠ åˆ°ä½ çš„ç±»ä¸Š, å¹¶å°†å€¼ä½œä¸ºé»˜è®¤å®ç°</p>
<h3 id="The-Info-Endpoint-Info-ç«¯ç‚¹"><a href="#The-Info-Endpoint-Info-ç«¯ç‚¹" class="headerlink" title="The Info Endpoint (Info ç«¯ç‚¹)"></a>The Info Endpoint (Info ç«¯ç‚¹)</h3><p>info endpoint è¿”å›åº”ç”¨ç¨‹åºçŠ¶æ€çš„é™æ€ä¿¡æ¯</p>
<p>è¢«æš´éœ²çš„ info å¯ä»¥é€šè¿‡å¤šä¸ª â€œinfo sourcesâ€ æä¾›</p>
<p>è¦æ‰§è¡Œ info endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/info</code></p>
<h4 id="Configuration-é…ç½®-1"><a href="#Configuration-é…ç½®-1" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® info endpoint, é€šè¿‡ <code>endpoints.info</code> æä¾›é…ç½®</p>
<p>Example - Info Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">info:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<h4 id="Customization-è‡ªå®šä¹‰-1"><a href="#Customization-è‡ªå®šä¹‰-1" class="headerlink" title="Customization (è‡ªå®šä¹‰)"></a>Customization (è‡ªå®šä¹‰)</h4><p>info endpoint åŒ…å«ä¸€ä¸ª info èšåˆå™¨å’Œå¤šä¸ª â€œinfo sourcesâ€</p>
<p>è¦æ·»åŠ ä¸€ä¸ª info source, åˆ›å»ºä¸€ä¸ªå®ç° <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/InfoSource.html" >InfoSource<i class="fas fa-external-link-alt"></i></a> çš„ç±»</p>
<p>å¦‚æœä½ çš„ info source éœ€è¦ä» Java properties æ–‡ä»¶è·å–æ•°æ®, é‚£ä¹ˆç»§æ‰¿ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/source/PropertiesInfoSource.html" >PropertiesInfoSource<i class="fas fa-external-link-alt"></i></a> æ¥å£, è¿™ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªå¸®åŠ©æ–¹æ³•æ¥è·å–æ•°æ®</p>
<p>æ‰€æœ‰çš„ info source beans éƒ½è¢«é›†åˆåˆ° info aggregator ä¸­</p>
<p>è¦æä¾›ä½ è‡ªå·±çš„ info aggregator å®ç°, åˆ›å»ºä¸€ä¸ªå®ç° <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/InfoAggregator.html" >InfoAggregator<i class="fas fa-external-link-alt"></i></a> æ¥å£å¹¶ä½œä¸ºä¸€ä¸ª bean çš„ç±»</p>
<p>ç¡®ä¿ä½ çš„å®ç°ä»£æ›¿äº†é»˜è®¤çš„å®ç°, æ·»åŠ  <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Replaces.html" >@Replaces<i class="fas fa-external-link-alt"></i></a> æ³¨è§£åˆ°ä½ çš„ç±»ä¸Š, å¹¶ä¸”æ³¨è§£ä¸Šçš„å€¼æ˜¯ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/impl/ReactiveInfoAggregator.html" >é»˜è®¤å®ç°<i class="fas fa-external-link-alt"></i></a></p>
<p>é»˜è®¤çš„ info aggregator è¿”å›ä¸€ä¸ª map, è¿™ä¸ª map åŒ…å«æ‰€æœ‰ info sources æä¾›çš„ç»„åˆèµ·æ¥çš„å±æ€§</p>
<p>è¿™ä¸ª map ä½œä¸º JSON ä» <code>/info</code> endpoint è¿”å›</p>
<h4 id="Provided-Info-Sources-æä¾›çš„-Info-æº"><a href="#Provided-Info-Sources-æä¾›çš„-Info-æº" class="headerlink" title="Provided Info Sources (æä¾›çš„ Info æº)"></a>Provided Info Sources (æä¾›çš„ Info æº)</h4><h5 id="Configuration-Info-Source-é…ç½®-Info-æº"><a href="#Configuration-Info-Source-é…ç½®-Info-æº" class="headerlink" title="Configuration Info Source (é…ç½® Info æº)"></a>Configuration Info Source (é…ç½® Info æº)</h5><p><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/source/ConfigurationInfoSource.html" >ConfigurationInfoSource<i class="fas fa-external-link-alt"></i></a> è¿”å›åœ¨ <code>info</code> key ä¸‹é¢çš„é…ç½®å±æ€§ (configuration properties)</p>
<p>é™¤äº† string, integer å’Œ boolean ç±»å‹çš„å€¼ ,æ›´å¤æ‚çš„å±æ€§å¯ä»¥åœ¨ JSON è¾“å‡ºä¸­ä½œä¸º map æš´éœ² (å¦‚æœé…ç½®æ ¼å¼æ”¯æŒ)</p>
<p>Example - Info Source:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># application.groovy</span><br><span class="line">info.demo.string = <span class="string">&quot;demo string&quot;</span></span><br><span class="line">info.demo.number = <span class="number">123</span></span><br><span class="line">info.demo.map = [</span><br><span class="line">    <span class="symbol">key:</span> <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">    <span class="symbol">other_key:</span> <span class="number">123</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„é…ç½®åœ¨ info endpoint ä¸­ä½œä¸º JSON å“åº”è¿”å›:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;demo&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;string&quot;</span><span class="punctuation">:</span> <span class="string">&quot;demo string&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;number&quot;</span><span class="punctuation">:</span> <span class="number">123</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;map&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;value&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;other_key&quot;</span><span class="punctuation">:</span> <span class="number">123</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h6 id="Configuration-é…ç½®-2"><a href="#Configuration-é…ç½®-2" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h6><p>configuration info source å¯ä»¥ä½¿ç”¨ <code>endpoints.info.config.enabled</code>  å±æ€§æ¥å…³é—­</p>
<h5 id="Git-Info-Source-Git-Info-Source"><a href="#Git-Info-Source-Git-Info-Source" class="headerlink" title="Git Info Source (Git Info Source)"></a>Git Info Source (Git Info Source)</h5><p>å¦‚æœåœ¨ classpath ä¸Šå­˜åœ¨ <code>git.properties</code> æ–‡ä»¶, é‚£ä¹ˆ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/source/GitInfoSource.html" >GitInfoSource<i class="fas fa-external-link-alt"></i></a> ä½¿ç”¨ <code>git</code> key æš´éœ²è¿™ä¸ªæ–‡ä»¶ä¸­çš„å€¼</p>
<p>ä¸€ä¸ªåˆ›å»ºçš„ <code>git.properties</code> æ–‡ä»¶å¿…é¡»é…ç½®ä¸ºä½ çš„æ„å»ºçš„ä¸€éƒ¨åˆ†</p>
<p>Gradle ç”¨æˆ·çš„ä¸€ä¸ªç®€å•é€‰é¡¹æ˜¯ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://plugins.gradle.org/plugin/com.gorylenko.gradle-git-properties" >Gradle Git Properties Plugin<i class="fas fa-external-link-alt"></i></a></p>
<p>Maven ç”¨æˆ·å¯ä»¥ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://github.com/git-commit-id/maven-git-commit-id-plugin" >Maven Git Commit ID Plugin<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="Configuration-é…ç½®-3"><a href="#Configuration-é…ç½®-3" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h6><p>è¦æŒ‡å®šä¸€ä¸ªå¦å¤–çš„è·¯å¾„æˆ–å¦å¤–çš„å±æ€§æ–‡ä»¶åç§°, åœ¨ <code>endpoints.info.git.location</code> å±æ€§ä¸­æä¾›ä¸€ä¸ªè‡ªå®šä¹‰å€¼</p>
<h5 id="Build-Info-Source-æ„å»º-Info-Source"><a href="#Build-Info-Source-æ„å»º-Info-Source" class="headerlink" title="Build Info Source (æ„å»º Info Source)"></a>Build Info Source (æ„å»º Info Source)</h5><p>å¦‚æœåœ¨ classpath ä¸Šå­˜åœ¨ <code>META-INF/build-info.properties</code> æ–‡ä»¶, é‚£ä¹ˆ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/info/source/BuildInfoSource.html" >BuildInfoSource<i class="fas fa-external-link-alt"></i></a> ä½¿ç”¨ <code>build</code> key æš´éœ²è¿™ä¸ªæ–‡ä»¶ä¸­çš„å€¼</p>
<p>ä¸€ä¸ªåˆ›å»ºçš„ <code>build-info.properties</code> æ–‡ä»¶å¿…é¡»é…ç½®ä¸ºä½ çš„æ„å»ºçš„ä¸€éƒ¨åˆ†</p>
<p>Gradle ç”¨æˆ·çš„ä¸€ä¸ªç®€å•é€‰é¡¹æ˜¯ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://plugins.gradle.org/plugin/com.pasam.gradle.buildinfo" >Gradle Build Info Plugin<i class="fas fa-external-link-alt"></i></a></p>
<p>Maven ç”¨æˆ·å¯ä»¥ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-info" >Spring Boot Maven Plugin<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="Configuration-é…ç½®-4"><a href="#Configuration-é…ç½®-4" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h6><p>è¦æŒ‡å®šå±æ€§æ–‡ä»¶å¦å¤–çš„ è·¯å¾„&#x2F;åç§°, åœ¨ <code>endpoints.info.build.location</code> å±æ€§ä¸­æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„å€¼</p>
<p>build info source å¯ä»¥ä½¿ç”¨ <code>endpoints.info.build.enabled</code> å±æ€§æ¥å…³é—­</p>
<h3 id="The-Health-Endpoint-å¥åº·ç«¯ç‚¹"><a href="#The-Health-Endpoint-å¥åº·ç«¯ç‚¹" class="headerlink" title="The Health Endpoint (å¥åº·ç«¯ç‚¹)"></a>The Health Endpoint (å¥åº·ç«¯ç‚¹)</h3><p>health endpoint è¿”å›å…³äºåº”ç”¨ç¨‹åºçš„å¥åº·ä¿¡æ¯, é€šè¿‡å¤šä¸ª â€œhealth indicatorsâ€ æ¥æŒ‡å®š</p>
<p>è¦æ‰§è¡Œ health endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/health</code></p>
<p>é™¤æ­¤ä¹‹å¤–, health endpoint è¿˜æš´éœ² <code>/health/liveness</code> å’Œ <code>/health/readiness</code> â€œhealth indicatorsâ€</p>
<h4 id="Configuration-é…ç½®-5"><a href="#Configuration-é…ç½®-5" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® health endpoint, é€šè¿‡ <code>endpoints.health</code> æä¾›é…ç½®</p>
<p>Example - Health Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">details-visible:</span> <span class="string">String</span>     <span class="comment"># 1</span></span><br><span class="line">        <span class="attr">status:</span></span><br><span class="line">            <span class="attr">http-mapping:</span> <span class="string">Map&lt;String,</span> <span class="string">HttpStatus&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>1</code> : One of <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/health/DetailsVisibility.html" >DetailsVisibility<i class="fas fa-external-link-alt"></i></a></p>
<p><code>details-visible</code> è®¾ç½®æ§åˆ¶æ˜¯å¦å°† health ç»†èŠ‚æš´éœ²ç»™æ²¡æœ‰æˆæƒçš„ç”¨æˆ·</p>
<p>Example - Using <code>details-visible</code>:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">        <span class="attr">details-visible:</span> <span class="string">ANONYMOUS</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>exposes detailed information from the various health indicators about the health status of the application to anonymous unauthenticated users.</p>
</blockquote>
<p>å°†æœ‰å…³åº”ç”¨ç¨‹åºå¥åº·çŠ¶æ€çš„å„ç§å¥åº·æŒ‡æ ‡çš„ç»†èŠ‚ä¿¡æ¯æš´éœ²ç»™æœªæˆæƒç”¨æˆ·</p>
<p><code>endpoints.health.status.http-mapping</code> è®¾ç½®ç”¨æ¥æ§åˆ¶æ¯ä¸ªå¥åº·çŠ¶æ€çš„è¿”å›çŠ¶æ€ç . é»˜è®¤çš„çŠ¶æ€ç åœ¨ä¸‹è¡¨ä¸­æè¿°:</p>
<table>
<thead>
<tr>
<th align="left">Status</th>
<th align="left">HTTP Code</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/health/HealthStatus.html#UP" >UP<i class="fas fa-external-link-alt"></i></a></td>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/HttpStatus.html#OK" >OK<i class="fas fa-external-link-alt"></i></a> (200)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/health/HealthStatus.html#UNKNOWN" >UNKNOWN<i class="fas fa-external-link-alt"></i></a></td>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/HttpStatus.html#OK" >OK<i class="fas fa-external-link-alt"></i></a> (200)</td>
</tr>
<tr>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/health/HealthStatus.html#DOWN" >DOWN<i class="fas fa-external-link-alt"></i></a></td>
<td align="left"><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/HttpStatus.html#SERVICE_UNAVAILABLE" >SERVICE_UNAVAILABLE<i class="fas fa-external-link-alt"></i></a> (503)</td>
</tr>
</tbody></table>
<p>ä½ å¯ä»¥åœ¨ <code>application.yml</code> ä¸­æä¾›è‡ªå®šä¹‰æ˜ å°„:</p>
<p>Example - Custom Health Status Codes:</p>
<p>Example - Custom Health Status Codes:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">        <span class="attr">status:</span></span><br><span class="line">            <span class="attr">http-mapping:</span></span><br><span class="line">                <span class="string">DOWN:200</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„çŸ¥é“å¯¼è‡´åœ¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/health/HealthStatus.html" >HealthStatus<i class="fas fa-external-link-alt"></i></a> æ˜¯ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/health/HealthStatus.html#DOWN" >DOWN<i class="fas fa-external-link-alt"></i></a> çš„æ—¶å€™è¿”å› <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/HttpStatus.html#OK" >OK<i class="fas fa-external-link-alt"></i></a> (200)</p>
<h4 id="Customization-è‡ªå®šä¹‰-2"><a href="#Customization-è‡ªå®šä¹‰-2" class="headerlink" title="Customization (è‡ªå®šä¹‰)"></a>Customization (è‡ªå®šä¹‰)</h4><p>health endpoint åŒ…å«ä¸€ä¸ª health aggregator å’Œå¤šä¸ª health indicators</p>
<p>è¦å¢åŠ ä¸€ä¸ª health indicator, åˆ›å»ºä¸€ä¸ªå®ç° <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/health/indicator/HealthIndicator.html" >HealthIndicator<i class="fas fa-external-link-alt"></i></a> çš„ bean ç±»</p>
<p>å»ºè®®è¿˜è¦ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/health/indicator/annotation/Liveness.html" >@Liveness<i class="fas fa-external-link-alt"></i></a> æˆ– <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/health/indicator/annotation/Readiness.html" >@Readiness<i class="fas fa-external-link-alt"></i></a> æ ‡è¯†ç¬¦</p>
<p>å¦‚æœæ²¡æœ‰ä½¿ç”¨æ ‡è¯†ç¬¦, é‚£ä¹ˆè¿™ä¸ª health indicator å°†ä¼šæ˜¯ <code>/health</code> å’Œ <code>/health/readiness</code> endpoints çš„ä¸€éƒ¨åˆ†</p>
<p>åŸºç±» <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/health/indicator/AbstractHealthIndicator.html" >AbstractHealthIndicator<i class="fas fa-external-link-alt"></i></a> å¯ç”¨äºå­ç±»ä»¥ä½¿è¿™ä¸ªå®ç°è¿‡ç¨‹æ›´åŠ å®¹æ˜“</p>
<p>æ‰€æœ‰çš„ health indicator beans éƒ½è¢«é›†åˆåˆ° health aggregator</p>
<p>è¦æä¾›ä½ è‡ªå·±å®ç°çš„ health aggregator, åˆ›å»ºä¸€ä¸ªå®ç° <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/health/aggregator/HealthAggregator.html" >HealthAggregator<i class="fas fa-external-link-alt"></i></a> æ¥å£çš„ç±»å¹¶å°†å…¶æ³¨å†Œä¸ºä¸€ä¸ª bean</p>
<p>è¦ç¡®ä¿ä½ çš„å®ç°æ›¿ä»£äº† health aggregator, æ·»åŠ  <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Replaces.html" >@Replaces<i class="fas fa-external-link-alt"></i></a> æ³¨è§£åˆ°ä½ çš„ç±»ä¸Š, æ³¨è§£çš„å€¼æ˜¯é»˜è®¤çš„å®ç° <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/health/aggregator/DefaultHealthAggregator.html" >DefaultHealthAggregator<i class="fas fa-external-link-alt"></i></a></p>
<p>é»˜è®¤çš„ health aggregator è¿”å›ä¸€ä¸ªæ ¹æ®æŒ‡æ ‡çš„å¥åº·çŠ¶å†µè®¡ç®—çš„æ•´ä½“çŠ¶å†µ</p>
<p>ä¸€ä¸ª <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/health/HealthStatus.html" >health status<i class="fas fa-external-link-alt"></i></a> åŒ…å«å¤šç§ä¿¡æ¯:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Name</td>
<td align="left">The name of the status</td>
</tr>
<tr>
<td align="left">Description</td>
<td align="left">The description of the status</td>
</tr>
<tr>
<td align="left">Operational</td>
<td align="left">Whether the functionality the indicator represents is functional</td>
</tr>
<tr>
<td align="left">Severity</td>
<td align="left">How severe the status. A higher number is more severe</td>
</tr>
</tbody></table>
<blockquote>
<p>The â€œworstâ€ status is returned as the overall status</p>
</blockquote>
<p>â€œworst&#96; çŠ¶æ€ä½œä¸ºæ•´ä½“çŠ¶æ€è¿”å›</p>
<blockquote>
<p>A non-operational status is selected over an operational status</p>
</blockquote>
<p>åœ¨æ“ä½œçŠ¶æ€ä¸Šé€‰æ‹© â€œéæ“ä½œâ€ çŠ¶æ€</p>
<blockquote>
<p>A higher severity is selected over a lower severity</p>
</blockquote>
<p>é€‰æ‹©è¾ƒé«˜çš„ä¸¥é‡æ€§çš„è€Œä¸æ˜¯è¾ƒä½çš„ä¸¥é‡æ€§</p>
<h4 id="Provided-Indicators-æä¾›çš„æŒ‡ç¤ºå™¨"><a href="#Provided-Indicators-æä¾›çš„æŒ‡ç¤ºå™¨" class="headerlink" title="Provided Indicators (æä¾›çš„æŒ‡ç¤ºå™¨)"></a>Provided Indicators (æä¾›çš„æŒ‡ç¤ºå™¨)</h4><p>æ‰€æœ‰ Micronaut æä¾›çš„ health indicators è¢«æš´éœ²åœ¨ <code>/health</code> å’Œ <code>/health/readiness</code> endpoints</p>
<h5 id="Disk-Space-ç£ç›˜ç©ºé—´"><a href="#Disk-Space-ç£ç›˜ç©ºé—´" class="headerlink" title="Disk Space (ç£ç›˜ç©ºé—´)"></a>Disk Space (ç£ç›˜ç©ºé—´)</h5><p>ä¸€ä¸ª health indicator è¢«æä¾›æ¥æŒ‡æ˜åº”ç”¨ç¨‹åºçš„åŸºäºå¯ç”¨ç£ç›˜ç©ºé—´å¤§å°çš„å¥åº·çŠ¶æ€</p>
<p>å¯ä»¥åœ¨ <code>endpoints.health.disk-space</code> key ä¸‹é¢æ¥é…ç½®ç£ç›˜ç©ºé—´ health indicator</p>
<p>Example - Disk Space Indicator Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">        <span class="attr">disk-space:</span></span><br><span class="line">            <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">String</span> <span class="comment"># The file path used to determine the disk space</span></span><br><span class="line">            <span class="attr">threshold:</span> <span class="string">String</span> <span class="string">|</span> <span class="string">Long</span> <span class="comment"># The minimum amount of free space</span></span><br></pre></td></tr></table></figure>

<p><code>threshold</code> å¯ä»¥ä½œä¸ºä¸€ä¸ªç±»ä¼¼ â€œ10MBâ€, â€œ200KBâ€ çš„å­—ç¬¦ä¸²æ¥æä¾›, æˆ–ä½¿ç”¨å­—èŠ‚æ•°</p>
<h5 id="JDBC-JDBC"><a href="#JDBC-JDBC" class="headerlink" title="JDBC (JDBC)"></a>JDBC (JDBC)</h5><blockquote>
<p>The JDBC health indicator determines the health of your application based on the ability to successfully create connections to datasources in the application context.</p>
</blockquote>
<p>JDBC health indicator æŒ‡æ˜äº†ä½ çš„åº”ç”¨ç¨‹åºçš„å¥åº·çŠ¶æ€, åŸºäºåœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æˆåŠŸåœ°åˆ›å»ºæ•°æ®åº“é“¾æ¥çš„èƒ½åŠ›</p>
<p>å”¯ä¸€æ”¯æŒçš„é…ç½®é€‰é¡¹æ˜¯å¼€å¯æˆ–å…³é—­è¿™ä¸ª indicator, é€šè¿‡ <code>endpoints.health.jdbc.enabled</code> key</p>
<h5 id="Discovery-Client-å‘ç°å®¢æˆ·ç«¯"><a href="#Discovery-Client-å‘ç°å®¢æˆ·ç«¯" class="headerlink" title="Discovery Client (å‘ç°å®¢æˆ·ç«¯)"></a>Discovery Client (å‘ç°å®¢æˆ·ç«¯)</h5><p>å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨äº†æœåŠ¡å‘ç°, é‚£ä¹ˆä¸€ä¸ª health indicator è¢«ç”¨æ¥ç›‘æ§ discovery client çš„å¥åº·</p>
<p>è¿”å›çš„æ•°æ®å¯ä»¥åŒ…å«ä¸€ä¸ªå¯ç”¨æœåŠ¡çš„åˆ—è¡¨</p>
<h3 id="The-Metrics-Endpoint-æŒ‡æ ‡ç«¯ç‚¹"><a href="#The-Metrics-Endpoint-æŒ‡æ ‡ç«¯ç‚¹" class="headerlink" title="The Metrics Endpoint (æŒ‡æ ‡ç«¯ç‚¹)"></a>The Metrics Endpoint (æŒ‡æ ‡ç«¯ç‚¹)</h3><p>é€šè¿‡é›†æˆ <a class="link"   target="_blank" rel="noopener" href="https://micrometer.io/" >Micrometer<i class="fas fa-external-link-alt"></i></a> ,Micronaut å¯ä»¥æš´éœ²åº”ç”¨ç¨‹åºæŒ‡æ ‡</p>
<p>å¦‚æœä½ ä½¿ç”¨ Micronaut CLI åˆ›å»ºé¡¹ç›®, æ·»åŠ  micrometer çš„å…¶ä¸­ä¸€ä¸ªç‰¹æ€§æ¥å¼€å¯æŒ‡æ ‡å¹¶é¢„é…ç½®é€‰æ‹©çš„ registry åˆ°ä½ é¡¹ç›®ä¸­:</p>
<p><code>mn create-app my-app --features micrometer-atlas</code></p>
<p>metrics endpoint è¿”å›å…³äºåº”ç”¨ç¨‹åºçš„æŒ‡æ ‡çš„ä¿¡æ¯</p>
<p>è¦æ‰§è¡Œ metrics endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/metrics</code></p>
<p>è¿™ä¸ª endpoint è¿”å›ä¸€ä¸ªå¯ç”¨æŒ‡æ ‡åç§°çš„åˆ—è¡¨</p>
<p>ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>/metrics/[name]</code> æ¥è·å–ç‰¹å®šçš„æŒ‡æ ‡, ä¾‹å¦‚ <code>/metrics/jvm.memory.used</code></p>
<p>æŸ¥çœ‹æ–‡æ¡£ <a class="link"   target="_blank" rel="noopener" href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/" >Micronaut Micrometer<i class="fas fa-external-link-alt"></i></a> æ¥è·å–ä¸€ä¸ª registries åˆ—è¡¨å’Œå…³äºå¦‚ä½•é…ç½®, æš´éœ², è‡ªå®šä¹‰ metrics è¾“å‡ºçš„ä¿¡æ¯</p>
<h3 id="The-Refresh-Endpoint-åˆ·æ–°ç«¯ç‚¹"><a href="#The-Refresh-Endpoint-åˆ·æ–°ç«¯ç‚¹" class="headerlink" title="The Refresh Endpoint (åˆ·æ–°ç«¯ç‚¹)"></a>The Refresh Endpoint (åˆ·æ–°ç«¯ç‚¹)</h3><p>Refresh endpoint åˆ·æ–°åº”ç”¨ç¨‹åºçš„çŠ¶æ€, å¯¼è‡´æ‰€æœ‰ä¸Šä¸‹æ–‡ä¸­çš„ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/runtime/context/scope/Refreshable.html" >Refreshable<i class="fas fa-external-link-alt"></i></a> beans è¢«é”€æ¯å¹¶é‡æ–°å®ä¾‹åŒ–ç›´åˆ°ä¸‹æ¬¡è¯·æ±‚</p>
<p>è¿™é€šè¿‡åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­å‘é€ä¸€ä¸ª <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/runtime/context/scope/refresh/RefreshEvent.html" >RefreshEvent<i class="fas fa-external-link-alt"></i></a> æ¥å®Œæˆ</p>
<p>è¦æ‰§è¡Œ refresh endpoint, å‘é€ä¸€ä¸ª POST è¯·æ±‚åˆ° <code>/refresh</code></p>
<p><code>curl -X POST http://localhost:8080/refresh</code></p>
<p>åœ¨æ²¡æœ‰å‘é€ body çš„æƒ…å†µä¸‹æ‰§è¡Œæ—¶, endpoint é¦–å…ˆåˆ·æ–° <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/env/Environment.html" >Environment<i class="fas fa-external-link-alt"></i></a> å¹¶æ‰§è¡Œ diff ä»¥æ£€æµ‹ä»»ä½•æ›´æ”¹, ç„¶åä»…åœ¨æ£€æµ‹åˆ°æ›´æ”¹æ—¶æ‰§è¡Œåˆ·æ–°</p>
<p>å¦‚æœè¦ä¸ç®¡ç¯å¢ƒå˜åŒ–, è·³è¿‡è¿™ä¸ªæ£€æŸ¥å¹¶åˆ·æ–°æ‰€æœ‰ <code>@Refreshable</code> beans (ä¾‹å¦‚, å¼ºåˆ¶åˆ·æ–°æ¥è‡ªç¬¬ä¸‰æ–¹æœåŠ¡çš„ç¼“å­˜å“åº”), é‚£ä¹ˆåœ¨ POST è¯·æ±‚ body ä¸­æ·»åŠ ä¸€ä¸ª <code>force</code> å‚æ•°</p>
<p><code>curl -X POST http://localhost:8080/refresh -H &#39;Content-Type: application/json&#39; -d &#39;&#123;&quot;force&quot;: true&#125;&#39;</code></p>
<h4 id="Configuration-é…ç½®-6"><a href="#Configuration-é…ç½®-6" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® refresh endpoint, é€šè¿‡ <code>endpoints.refresh</code> åº”ç”¨é…ç½®:</p>
<p>Example - Beans Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">refresh:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<h3 id="The-Routes-Endpoint-è·¯ç”±ç«¯ç‚¹"><a href="#The-Routes-Endpoint-è·¯ç”±ç«¯ç‚¹" class="headerlink" title="The Routes Endpoint (è·¯ç”±ç«¯ç‚¹)"></a>The Routes Endpoint (è·¯ç”±ç«¯ç‚¹)</h3><p>Routes endpoint è¿”å›å…³äºä½ çš„åº”ç”¨ç¨‹åºä¸­å¯ç”¨çš„å¯ä»¥è¢«è°ƒç”¨çš„ URIs çš„ä¿¡æ¯</p>
<p>é»˜è®¤æƒ…å†µä¸‹, è¿”å›çš„æ•°æ®åŒ…æ‹¬ URI, å…è®¸çš„æ–¹æ³•, å…è®¸çš„ method, æä¾›çš„ content types, è¦è¢«æ‰§è¡Œçš„æ–¹æ³•çš„ä¿¡æ¯</p>
<p>è¦æ‰§è¡Œ routes endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/routes</code></p>
<h4 id="Configuration-é…ç½®-7"><a href="#Configuration-é…ç½®-7" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® routes endpoint, é€šè¿‡ <code>endpoints.routes</code> åº”ç”¨é…ç½®:</p>
<p>Example - Routes Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">routes:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<h4 id="Customization-è‡ªå®šä¹‰-3"><a href="#Customization-è‡ªå®šä¹‰-3" class="headerlink" title="Customization (è‡ªå®šä¹‰)"></a>Customization (è‡ªå®šä¹‰)</h4><p>routes endpoint ç”±ä¸€ä¸ªè·¯ç”±æ•°æ®æ”¶é›†è€…å’Œä¸€ä¸ªè·¯ç”±æ•°æ®å®ç°ç»„æˆ</p>
<p>è·¯ç”±æ•°æ®æ”¶é›†è€… (<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/routes/RouteDataCollector.html" >RouteDataCollector<i class="fas fa-external-link-alt"></i></a>) ç”¨æ¥è¿”å›ä¸€ä¸ª publisher, è¿™ä¸ª publisher è¿”å›åœ¨å“åº”ä¸­ä½¿ç”¨çš„æ•°æ®</p>
<p>è·¯ç”±æ•°æ®å®ç° (<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/routes/RouteData.html" >RouteData<i class="fas fa-external-link-alt"></i></a>) ç”¨æ¥è¿”å›å…³äºæŸä¸ªè·¯ç”±çš„æ•°æ®</p>
<p>è¦è¦†ç›–ä»»ä¸€åŠ©æ‰‹ç±»çš„é»˜è®¤è¡Œä¸º, ç»§æ‰¿é»˜è®¤çš„ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/routes/impl/DefaultRouteDataCollector.html" >DefaultRouteDataCollector<i class="fas fa-external-link-alt"></i></a>, <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/routes/impl/DefaultRouteData.html" >DefaultRouteData<i class="fas fa-external-link-alt"></i></a>, æˆ–è€…ç›´æ¥å®ç°ç›¸å…³çš„æ¥å£</p>
<p>è¦ç¡®ä¿ä½ çš„å®ç°å·²ç»æ›¿ä»£äº†é»˜è®¤çš„å®ç°, æ·»åŠ  <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Replaces.html" >@Replaces<i class="fas fa-external-link-alt"></i></a> æ³¨è§£åˆ°ä½ çš„ç±»ä¸Š, ä½¿ç”¨é»˜è®¤çš„å®ç°ä½œä¸ºæ³¨è§£çš„å€¼</p>
<h3 id="The-Loggers-Endpoint-æ—¥å¿—ç«¯ç‚¹"><a href="#The-Loggers-Endpoint-æ—¥å¿—ç«¯ç‚¹" class="headerlink" title="The Loggers Endpoint (æ—¥å¿—ç«¯ç‚¹)"></a>The Loggers Endpoint (æ—¥å¿—ç«¯ç‚¹)</h3><p>loggers endpoint è¿”å›å…³äºåº”ç”¨ç¨‹åºä¸­å¯ç”¨çš„ loggers çš„ä¿¡æ¯, å¹¶ä¸”å…è®¸é…ç½®å®ƒä»¬çš„æ—¥å¿—çº§åˆ«</p>
<p>loggers endpoint é»˜è®¤æ˜¯å…³é—­çš„, å¿…é¡»ä½¿ç”¨ <code>endpoints.loggers.enabled=true</code> è®¾ç½®æ¥æ˜¾å¼å¼€å¯</p>
<p>è¦æŒ‰åç§°è·å–æ‰€æœ‰ loggers çš„é›†åˆä»¥åŠé…ç½®å’Œæœ‰æ•ˆçš„æ—¥å¿—çº§åˆ«, å‘é€ä¸€ä¸ª GETè¯·æ±‚åˆ° <code>/loggers</code></p>
<p>è¿™è¿˜æä¾›äº†å¯ç”¨æ—¥å¿—çº§åˆ«çš„åˆ—è¡¨:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;levels&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;ALL&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;TRACE&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;DEBUG&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;INFO&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;WARN&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;ERROR&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;OFF&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;NOT_SPECIFIED&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;loggers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;ROOT&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;configuredLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INFO&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;effectiveLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INFO&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;io&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;configuredLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NOT_SPECIFIED&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;effectiveLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INFO&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;io.micronaut&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;configuredLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;NOT_SPECIFIED&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;effectiveLevel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INFO&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="comment">// etc...</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¦è·å–ç‰¹å®š logger çš„æ—¥å¿—çº§åˆ«, åŒ…å« logger åç§°åˆ°ä½ çš„ GET è¯·æ±‚ä¸­: <code>curl http://localhost:8080/loggers/io.micronaut.http</code></p>
<p>å¦‚æœå‘½åçš„ logger ä¸å­˜åœ¨, å°†ä¼šåˆ›å»ºä¸€ä¸ªæœªæŒ‡å®š (ä¾‹å¦‚, <code>NOT_SPECIFIED</code>) é…ç½®æ—¥å¿—çº§åˆ« (å®ƒçš„æœ‰æ•ˆæ—¥å¿—çº§åˆ«é€šå¸¸ä¼šä½¿ç”¨æ ¹æ—¥å¿—çº§åˆ«)</p>
<p>è¦æ›´æ–°å•ä¸ª logger çš„æ—¥å¿—çº§åˆ«, å‘é€ä¸€ä¸ª POST è¯·æ±‚åˆ°å‘½åçš„ logger  URL, åŒ…å«ä¸€ä¸ªæä¾›äº†æ—¥å¿—çº§åˆ«é…ç½®çš„ body:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -i -X POST \</span><br><span class="line">     -H <span class="string">&quot;Content-Type: application/json&quot;</span> \</span><br><span class="line">     -d <span class="string">&#x27;&#123; &quot;configuredLevel&quot;: &quot;ERROR&quot; &#125;&#x27;</span> \</span><br><span class="line">     http://localhost:8080/loggers/ROOT</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹, logger endpoint ä¸å…è®¸é€šè¿‡ä¸ºæˆæƒç”¨æˆ·ä¿®æ”¹æ—¥å¿—çº§åˆ«, å³ä½¿ <code>sensitive</code> è®¾ç½®ä¸º <code>false</code>. è¦å…è®¸ä¿®æ”¹æ—¥å¿—çº§åˆ«, ä½ å¿…é¡»è®¾ç½® <code>endpoints.loggers.write-sensitive=false</code></p>
<h4 id="Configuration-é…ç½®-8"><a href="#Configuration-é…ç½®-8" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>Example - Loggers Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">loggers:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">write-sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<h4 id="Customization-è‡ªå®šä¹‰-4"><a href="#Customization-è‡ªå®šä¹‰-4" class="headerlink" title="Customization (è‡ªå®šä¹‰)"></a>Customization (è‡ªå®šä¹‰)</h4><p>loggers endpoint åŒ…å«ä¸¤ä¸ªè‡ªå®šä¹‰çš„éƒ¨åˆ†: ä¸€ä¸ª <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/loggers/LoggersManager.html" >LoggersManager<i class="fas fa-external-link-alt"></i></a> å’Œä¸€ä¸ª <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/logging/LoggingSystem.html" >LoggingSystem<i class="fas fa-external-link-alt"></i></a></p>
<p>æŸ¥çœ‹ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#logging" >logging section of the documentation<i class="fas fa-external-link-alt"></i></a> è·å–è‡ªå®šä¹‰æ—¥å¿—ç³»ç»Ÿçš„æ›´å¤šä¿¡æ¯</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/loggers/LoggersManager.html" >LoggersManager<i class="fas fa-external-link-alt"></i></a> è´Ÿè´£è¿”å›å’Œè®¾ç½®æ—¥å¿—çº§åˆ«. å¦‚æœé»˜è®¤å®ç°ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚, æä¾›ä¸€ä¸ªä½ è‡ªå·±çš„å®ç°å¹¶ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Replaces.html" >@Replaces<i class="fas fa-external-link-alt"></i></a> æ³¨è§£æ›¿ä»£æ‰ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/loggers/impl/DefaultLoggersManager.html" >DefaultLoggersManager<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="The-Caches-Endpoint-ç¼“å­˜ç«¯ç‚¹"><a href="#The-Caches-Endpoint-ç¼“å­˜ç«¯ç‚¹" class="headerlink" title="The Caches Endpoint (ç¼“å­˜ç«¯ç‚¹)"></a>The Caches Endpoint (ç¼“å­˜ç«¯ç‚¹)</h3><p>cache endpoint æ–‡æ¡£åœ¨ <a class="link"   target="_blank" rel="noopener" href="https://micronaut-projects.github.io/micronaut-cache/latest/guide/index.html#endpoint" >micronaut-cache project<i class="fas fa-external-link-alt"></i></a> ä¸­</p>
<h3 id="The-Server-Stop-Endpoint-æœåŠ¡åœæ­¢ç«¯ç‚¹"><a href="#The-Server-Stop-Endpoint-æœåŠ¡åœæ­¢ç«¯ç‚¹" class="headerlink" title="The Server Stop Endpoint (æœåŠ¡åœæ­¢ç«¯ç‚¹)"></a>The Server Stop Endpoint (æœåŠ¡åœæ­¢ç«¯ç‚¹)</h3><p>stop endpoint å…³é—­åº”ç”¨ç¨‹åºæœåŠ¡å™¨</p>
<p>è¦æ‰§è¡Œ stop endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/stop</code></p>
<h4 id="Configuration-é…ç½®-9"><a href="#Configuration-é…ç½®-9" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® stop endpoint, é€šè¿‡ <code>endpoints.stop</code> åº”ç”¨é…ç½®:</p>
<p>Example - Stop Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">stop:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹, stop endpoint æ˜¯å…³é—­çš„, å¿…é¡»æ˜ç¡®å¼€å¯æ‰èƒ½ä½¿ç”¨</p>
<h3 id="The-Environment-Endpoint-ç¯å¢ƒç«¯ç‚¹"><a href="#The-Environment-Endpoint-ç¯å¢ƒç«¯ç‚¹" class="headerlink" title="The Environment Endpoint (ç¯å¢ƒç«¯ç‚¹)"></a>The Environment Endpoint (ç¯å¢ƒç«¯ç‚¹)</h3><p>environment endpoint è¿”å›å…³äº <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/env/Environment.html" >Environment<i class="fas fa-external-link-alt"></i></a> å’Œå®ƒçš„ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/env/PropertySource.html" >PropertySource<i class="fas fa-external-link-alt"></i></a>s çš„ä¿¡æ¯</p>
<h4 id="Configuration-é…ç½®-10"><a href="#Configuration-é…ç½®-10" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦å¼€å¯å’Œé…ç½® environment endpoint, é€šè¿‡ <code>endpoints.env</code> åº”ç”¨é…ç½®:</p>
<p>Example -Environment Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span>    <span class="comment"># default: false</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span>  <span class="comment"># default: true</span></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹, environment endpoint ä¼šå±è”½æ‰€æœ‰çš„å€¼. è¦è‡ªå®šä¹‰è¿™ä¸ªå±è”½ä½ éœ€è¦æä¾›ä¸€ä¸ªå®ç°äº† <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/env/EnvironmentEndpointFilter.html" >EnvironmentEndpointFilter<i class="fas fa-external-link-alt"></i></a> çš„ bean</p>
<p>ç¬¬ä¸€ä¸ªä¾‹å­å°†ä¼šå±è”½æ‰€æœ‰çš„å€¼, é™¤äº†å‰ç¼€ä¸º <code>safe</code> çš„å€¼:</p>
<p>Example - First example of environment masking:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OnlySafePrefixedEnvFilter</span> <span class="keyword">implements</span> <span class="title class_">EnvironmentEndpointFilter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Pattern</span> <span class="variable">SAFE_PREFIX_PATTERN</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;safe.*&quot;</span>, Pattern.CASE_INSENSITIVE);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">specifyFiltering</span><span class="params">(<span class="meta">@NotNull</span> EnvironmentFilterSpecification specification)</span> &#123;</span><br><span class="line">        specification.maskAll()     <span class="comment">// All values will be masked apart from the supplied patterns</span></span><br><span class="line">                     .exclude(SAFE_PREFIX_PATTERN);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜å¯ä»¥ä½¿ç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/env/EnvironmentFilterSpecification.html#maskNone--" >maskNoneâ€“<i class="fas fa-external-link-alt"></i></a> æ¥å…è®¸æ‰€æœ‰çš„çº¯æ–‡æœ¬å€¼, ç„¶åæŒ‡å®šå°†è¢«å±è”½çš„åç§°æ¨¡å¼:</p>
<p>Example - Deny instead of allow:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllPlainExceptSecretOrMatchEnvFilter</span> <span class="keyword">implements</span> <span class="title class_">EnvironmentEndpointFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Mask anything starting with `sekrt`</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Pattern</span> <span class="variable">SECRET_PREFIX_PATTERN</span> <span class="operator">=</span> Pattern.compile(<span class="string">&quot;sekrt.*&quot;</span>, Pattern.CASE_INSENSITIVE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Mask anything exactly matching `exact-match`</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">EXACT_MATCH</span> <span class="operator">=</span> <span class="string">&quot;exact-match&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Mask anything that starts with `private.`</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Predicate&lt;String&gt; PREDICATE_MATCH = name -&gt; name.startsWith(<span class="string">&quot;private.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">specifyFiltering</span><span class="params">(<span class="meta">@NotNull</span> EnvironmentFilterSpecification specification)</span> &#123;</span><br><span class="line">        specification.maskNone()    <span class="comment">// All values will be in plain-text apart from the supplied patterns</span></span><br><span class="line">                     .exclude(SECRET_PREFIX_PATTERN)</span><br><span class="line">                     .exclude(EXACT_MATCH)</span><br><span class="line">                     .exclude(PREDICATE_MATCH);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡è°ƒç”¨ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/env/EnvironmentFilterSpecification.html#legacyMasking--" >legacyMaskingâ€“<i class="fas fa-external-link-alt"></i></a> æ–¹æ³•åº”ç”¨åˆç†çš„é»˜è®¤å€¼. è¿™å°†ä¼šå±•ç¤ºæ‰€æœ‰çš„å€¼, é™¤äº†é‚£äº›åœ¨åç§°ä¸­ä»»ä½•åœ°æ–¹åŒ…å« <code>password</code>,<code>credential</code>,<code>certificate</code>,<code>key</code>,<code>secret</code>,<code>token</code> çš„å€¼</p>
<h4 id="Getting-information-about-the-environment-è·å–å…³äºç¯å¢ƒçš„ä¿¡æ¯"><a href="#Getting-information-about-the-environment-è·å–å…³äºç¯å¢ƒçš„ä¿¡æ¯" class="headerlink" title="Getting information about the environment (è·å–å…³äºç¯å¢ƒçš„ä¿¡æ¯)"></a>Getting information about the environment (è·å–å…³äºç¯å¢ƒçš„ä¿¡æ¯)</h4><p>è¦æ‰§è¡Œ environment endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/env</code></p>
<h4 id="Getting-information-about-a-particular-PropertySource-è·å–ç‰¹å®šçš„-PropertySource-ä¿¡æ¯"><a href="#Getting-information-about-a-particular-PropertySource-è·å–ç‰¹å®šçš„-PropertySource-ä¿¡æ¯" class="headerlink" title="Getting information about a particular PropertySource (è·å–ç‰¹å®šçš„ PropertySource ä¿¡æ¯)"></a>Getting information about a particular <code>PropertySource</code> (è·å–ç‰¹å®šçš„ <code>PropertySource</code> ä¿¡æ¯)</h4><p>è¦æ‰§è¡Œ endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/env/&#123;propertySourceName&#125;</code></p>
<h3 id="The-ThreadDump-Endpoint-çº¿ç¨‹è½¬å‚¨ç«¯ç‚¹"><a href="#The-ThreadDump-Endpoint-çº¿ç¨‹è½¬å‚¨ç«¯ç‚¹" class="headerlink" title="The ThreadDump Endpoint (çº¿ç¨‹è½¬å‚¨ç«¯ç‚¹)"></a>The ThreadDump Endpoint (çº¿ç¨‹è½¬å‚¨ç«¯ç‚¹)</h3><p>threaddump endpoint è¿”å›å…³äºåº”ç”¨ç¨‹åºä¸­è¿è¡Œçº¿ç¨‹çš„ä¿¡æ¯</p>
<p>è¦æ‰§è¡Œ threaddump endpoint, å‘é€ä¸€ä¸ª GET è¯·æ±‚åˆ° <code>/threaddump</code></p>
<h4 id="Configuration-é…ç½®-11"><a href="#Configuration-é…ç½®-11" class="headerlink" title="Configuration (é…ç½®)"></a>Configuration (é…ç½®)</h4><p>è¦é…ç½® threaddump endpoint, é€šè¿‡ <code>endpoints.threaddump</code> åº”ç”¨é…ç½®</p>
<p>Example - Threaddump Endpoint Configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">threaddump:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="string">Boolean</span></span><br><span class="line">        <span class="attr">sensitive:</span> <span class="string">Boolean</span></span><br></pre></td></tr></table></figure>

<h4 id="Customization-è‡ªå®šä¹‰-5"><a href="#Customization-è‡ªå®šä¹‰-5" class="headerlink" title="Customization (è‡ªå®šä¹‰)"></a>Customization (è‡ªå®šä¹‰)</h4><p>threaddump endpoint å§”æ‰˜ç»™ä¸€ä¸ª <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/management/endpoint/threads/ThreadInfoMapper.html" >ThreadInfoMapper<i class="fas fa-external-link-alt"></i></a>, è¿™ä¸ª Mapper è´Ÿè´£è½¬æ¢ <code>java.lang.management.ThreadInfo</code> å¯¹è±¡ä¸ºä»»ä½•å…¶ä»–è¢«å‘é€çš„åºåˆ—åŒ–å¯¹è±¡</p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>æœ¬æ–‡æ ‡é¢˜ï¼šMicronaut ä¸­æ–‡æ–‡æ¡£ Management &amp; Monitoring</li>
        <li>æœ¬æ–‡ä½œè€…ï¼šæ—å¨ç¾½</li>
        <li>åˆ›å»ºæ—¶é—´ï¼š2022-04-29 09:49:56</li>
        <li>
            æœ¬æ–‡é“¾æ¥ï¼šhttps://linweiyu21.github.io/micronaut/micronaut-management-and-monitoring/
        </li>
        <li>
            ç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/Micronaut/">#Micronaut</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/Groovy/">#Groovy</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/%E4%B8%AD%E6%96%87/">#ä¸­æ–‡</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/micronaut/micronaut-micronaut-cli/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Micronaut ä¸­æ–‡æ–‡æ¡£ Micronaut CLI</span>
                                <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/micronaut/micronaut-language-support/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Micronaut ä¸­æ–‡æ–‡æ¡£ Language Support</span>
                                <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;è¯„è®º</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: '8xWQ0WFbKUNN4h8ixIO12etk-gzGzoHsz',
                    appKey: '7cLjTvkIsF6aIuIVSd0um89m',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: 'è¯·å¼€å§‹ä½ çš„è¡¨æ¼”',
                    lang: 'zh-CN'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return 'åšä¸»';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'æ—å¨ç¾½';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">æ—å¨ç¾½</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        è®¿é—®äººæ•°&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        æ€»è®¿é—®é‡&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            ç”± <a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Management-amp-Monitoring"><span class="nav-number">1.</span> <span class="nav-text">Management &amp; Monitoring</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Creating-Endpoints-%E5%88%9B%E5%BB%BA%E7%AB%AF%E7%82%B9"><span class="nav-number">1.1.</span> <span class="nav-text">Creating Endpoints (åˆ›å»ºç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Endpoints-Annotation-%E7%AB%AF%E7%82%B9%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.1.1.</span> <span class="nav-text">The Endpoints Annotation (ç«¯ç‚¹æ³¨è§£)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Example-of-custom-Endpoint-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AB%AF%E7%82%B9%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">Example of custom Endpoint (è‡ªå®šä¹‰ç«¯ç‚¹çš„ä¾‹å­)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Endpoint-Methods-%E7%AB%AF%E7%82%B9%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.2.</span> <span class="nav-text">Endpoint Methods (ç«¯ç‚¹æ–¹æ³•)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Read-Methods-%E8%AF%BB%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">Read Methods (è¯»æ–¹æ³•)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Write-Methods-%E5%86%99%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">Write Methods (å†™æ–¹æ³•)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Delete-Methods-%E5%88%A0%E9%99%A4%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">Delete Methods (åˆ é™¤æ–¹æ³•)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Endpoint-Sensitivity-%E7%AB%AF%E7%82%B9%E6%95%8F%E6%84%9F%E6%80%A7"><span class="nav-number">1.1.3.</span> <span class="nav-text">Endpoint Sensitivity (ç«¯ç‚¹æ•æ„Ÿæ€§)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Endpoint-Configuration-%E7%AB%AF%E7%82%B9%E9%85%8D%E7%BD%AE"><span class="nav-number">1.1.4.</span> <span class="nav-text">Endpoint Configuration (ç«¯ç‚¹é…ç½®)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Built-In-Endpoints-%E5%86%85%E7%BD%AE%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.</span> <span class="nav-text">Built-In Endpoints (å†…ç½®ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Management-Port-%E7%AE%A1%E7%90%86%E7%AB%AF%E5%8F%A3"><span class="nav-number">1.2.1.</span> <span class="nav-text">Management Port (ç®¡ç†ç«¯å£)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JMX-JMX"><span class="nav-number">1.2.2.</span> <span class="nav-text">JMX (JMX)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Beans-Endpoint-Beans-%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.3.</span> <span class="nav-text">The Beans Endpoint (Beans ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customization-%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">Customization (è‡ªå®šä¹‰)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Info-Endpoint-Info-%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.4.</span> <span class="nav-text">The Info Endpoint (Info ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-1"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customization-%E8%87%AA%E5%AE%9A%E4%B9%89-1"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">Customization (è‡ªå®šä¹‰)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Provided-Info-Sources-%E6%8F%90%E4%BE%9B%E7%9A%84-Info-%E6%BA%90"><span class="nav-number">1.2.4.3.</span> <span class="nav-text">Provided Info Sources (æä¾›çš„ Info æº)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Configuration-Info-Source-%E9%85%8D%E7%BD%AE-Info-%E6%BA%90"><span class="nav-number">1.2.4.3.1.</span> <span class="nav-text">Configuration Info Source (é…ç½® Info æº)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-2"><span class="nav-number">1.2.4.3.1.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Git-Info-Source-Git-Info-Source"><span class="nav-number">1.2.4.3.2.</span> <span class="nav-text">Git Info Source (Git Info Source)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-3"><span class="nav-number">1.2.4.3.2.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Build-Info-Source-%E6%9E%84%E5%BB%BA-Info-Source"><span class="nav-number">1.2.4.3.3.</span> <span class="nav-text">Build Info Source (æ„å»º Info Source)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-4"><span class="nav-number">1.2.4.3.3.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Health-Endpoint-%E5%81%A5%E5%BA%B7%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.5.</span> <span class="nav-text">The Health Endpoint (å¥åº·ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-5"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customization-%E8%87%AA%E5%AE%9A%E4%B9%89-2"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">Customization (è‡ªå®šä¹‰)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Provided-Indicators-%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8C%87%E7%A4%BA%E5%99%A8"><span class="nav-number">1.2.5.3.</span> <span class="nav-text">Provided Indicators (æä¾›çš„æŒ‡ç¤ºå™¨)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Disk-Space-%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4"><span class="nav-number">1.2.5.3.1.</span> <span class="nav-text">Disk Space (ç£ç›˜ç©ºé—´)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#JDBC-JDBC"><span class="nav-number">1.2.5.3.2.</span> <span class="nav-text">JDBC (JDBC)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Discovery-Client-%E5%8F%91%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">1.2.5.3.3.</span> <span class="nav-text">Discovery Client (å‘ç°å®¢æˆ·ç«¯)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Metrics-Endpoint-%E6%8C%87%E6%A0%87%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.6.</span> <span class="nav-text">The Metrics Endpoint (æŒ‡æ ‡ç«¯ç‚¹)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Refresh-Endpoint-%E5%88%B7%E6%96%B0%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.7.</span> <span class="nav-text">The Refresh Endpoint (åˆ·æ–°ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-6"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Routes-Endpoint-%E8%B7%AF%E7%94%B1%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.8.</span> <span class="nav-text">The Routes Endpoint (è·¯ç”±ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-7"><span class="nav-number">1.2.8.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customization-%E8%87%AA%E5%AE%9A%E4%B9%89-3"><span class="nav-number">1.2.8.2.</span> <span class="nav-text">Customization (è‡ªå®šä¹‰)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Loggers-Endpoint-%E6%97%A5%E5%BF%97%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.9.</span> <span class="nav-text">The Loggers Endpoint (æ—¥å¿—ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-8"><span class="nav-number">1.2.9.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customization-%E8%87%AA%E5%AE%9A%E4%B9%89-4"><span class="nav-number">1.2.9.2.</span> <span class="nav-text">Customization (è‡ªå®šä¹‰)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Caches-Endpoint-%E7%BC%93%E5%AD%98%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.10.</span> <span class="nav-text">The Caches Endpoint (ç¼“å­˜ç«¯ç‚¹)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Server-Stop-Endpoint-%E6%9C%8D%E5%8A%A1%E5%81%9C%E6%AD%A2%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.11.</span> <span class="nav-text">The Server Stop Endpoint (æœåŠ¡åœæ­¢ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-9"><span class="nav-number">1.2.11.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Environment-Endpoint-%E7%8E%AF%E5%A2%83%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.12.</span> <span class="nav-text">The Environment Endpoint (ç¯å¢ƒç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-10"><span class="nav-number">1.2.12.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Getting-information-about-the-environment-%E8%8E%B7%E5%8F%96%E5%85%B3%E4%BA%8E%E7%8E%AF%E5%A2%83%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="nav-number">1.2.12.2.</span> <span class="nav-text">Getting information about the environment (è·å–å…³äºç¯å¢ƒçš„ä¿¡æ¯)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Getting-information-about-a-particular-PropertySource-%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E7%9A%84-PropertySource-%E4%BF%A1%E6%81%AF"><span class="nav-number">1.2.12.3.</span> <span class="nav-text">Getting information about a particular PropertySource (è·å–ç‰¹å®šçš„ PropertySource ä¿¡æ¯)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-ThreadDump-Endpoint-%E7%BA%BF%E7%A8%8B%E8%BD%AC%E5%82%A8%E7%AB%AF%E7%82%B9"><span class="nav-number">1.2.13.</span> <span class="nav-text">The ThreadDump Endpoint (çº¿ç¨‹è½¬å‚¨ç«¯ç‚¹)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration-%E9%85%8D%E7%BD%AE-11"><span class="nav-number">1.2.13.1.</span> <span class="nav-text">Configuration (é…ç½®)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customization-%E8%87%AA%E5%AE%9A%E4%B9%89-5"><span class="nav-number">1.2.13.2.</span> <span class="nav-text">Customization (è‡ªå®šä¹‰)</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
