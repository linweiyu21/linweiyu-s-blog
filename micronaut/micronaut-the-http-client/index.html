<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Micronaut,Groovy,Gradle,Java,ÊñáÊ°£,‰∏≠Êñá">
    <meta name="description" content="Micronaut Groovy Gradle Java ÊñáÊ°£ ‰∏≠Êñá">
    <meta name="author" content="ÊûóÂ®ÅÁæΩ">
    
    <title>
        
            Micronaut ‰∏≠ÊñáÊñáÊ°£ The HTTP Client |
        
        ÊûóÂ®ÅÁæΩÁöÑÁ¨îËÆ∞
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"rgb(153,153,0)","avatar":"/images/avatar.jpg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"400px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":null,"description":"def containsüöÄ = ['Micronaut', 'Groovy', 'Gradle', 'etc']"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s ÁßíÂâç","minute":"%s ÂàÜÈíüÂâç","hour":"%s Â∞èÊó∂Ââç","day":"%s Â§©Ââç","week":"%s Âë®Ââç","month":"%s ‰∏™ÊúàÂâç","year":"%s Âπ¥Ââç"};
  </script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                ÊûóÂ®ÅÁæΩÁöÑÁ¨îËÆ∞
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                È¶ñÈ°µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                ÂàÜÁ±ª
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                Ê†áÁ≠æ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ÂΩíÊ°£
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ÂÖ≥‰∫é
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">È¶ñÈ°µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">ÂàÜÁ±ª</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">Ê†áÁ≠æ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ÂΩíÊ°£</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ÂÖ≥‰∫é</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

    <a target="_blank" rel="noopener" href="https://github.com/linweiyu21/" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80"
        viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
        aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg></a>
    <style>
      .github-corner:hover .octo-arm {
        animation: octocat-wave 560ms ease-in-out
      }

      @keyframes octocat-wave {

        0%,
        100% {
          transform: rotate(0)
        }

        20%,
        60% {
          transform: rotate(-25deg)
        }

        40%,
        80% {
          transform: rotate(10deg)
        }
      }

      @media (max-width:500px) {
        .github-corner:hover .octo-arm {
          animation: none
        }

        .github-corner .octo-arm {
          animation: octocat-wave 560ms ease-in-out
        }
      }
    </style>
</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Micronaut ‰∏≠ÊñáÊñáÊ°£ The HTTP Client</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">ÊûóÂ®ÅÁæΩ</span>
                        
                            <span class="author-label">Lv8</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-04-29 09:43:43</span>
        <span class="mobile">2022-04-29 09:43</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/Micronaut-%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/">Micronaut ‰∏≠ÊñáÊñáÊ°£</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Micronaut/">Micronaut</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Groovy/">Groovy</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E4%B8%AD%E6%96%87/">‰∏≠Êñá</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <!-- TOC -->

<ul>
<li><a href="#the-http-client">The HTTP Client</a><ul>
<li><a href="#using-the-low-level-http-client-%E4%BD%BF%E7%94%A8%E4%BD%8E%E7%BA%A7%E5%88%AB-http-client">Using the Low-Level HTTP Client (‰ΩøÁî®‰ΩéÁ∫ßÂà´ HTTP Client)</a><ul>
<li><a href="#sending-your-first-http-request-%E5%8F%91%E9%80%81%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA-http-%E8%AF%B7%E6%B1%82">Sending your first HTTP request (ÂèëÈÄÅ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ HTTP ËØ∑Ê±Ç)</a><ul>
<li><a href="#obtaining-a-httpclient-%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA-httpclient">Obtaining a HttpClient (Ëé∑Âèñ‰∏Ä‰∏™ HttpClient)</a></li>
<li><a href="#performing-an-http-get-%E6%89%A7%E8%A1%8C%E4%B8%80%E4%B8%AA-http-get-%E8%AF%B7%E6%B1%82">Performing an HTTP GET (ÊâßË°å‰∏Ä‰∏™ HTTP GET ËØ∑Ê±Ç)</a></li>
<li><a href="#debugging--tracing-the-http-client-%E8%B0%83%E8%AF%95--%E8%B7%9F%E8%B8%AA-http-client">Debugging &#x2F; Tracing the HTTP Client (Ë∞ÉËØï &#x2F; Ë∑üË∏™ HTTP Client)</a></li>
<li><a href="#client-specific-debugging--tracing-%E6%8C%87%E5%AE%9A%E7%9A%84-client-%E8%B0%83%E8%AF%95--%E8%B7%9F%E8%B8%AA">Client Specific Debugging &#x2F; Tracing (ÊåáÂÆöÁöÑ Client Ë∞ÉËØï &#x2F; Ë∑üË∏™)</a></li>
<li><a href="#customizing-the-http-request-%E8%87%AA%E5%AE%9A%E4%B9%89-http-%E8%AF%B7%E6%B1%82">Customizing the HTTP Request (Ëá™ÂÆö‰πâ HTTP ËØ∑Ê±Ç)</a></li>
<li><a href="#reading-json-response-%E8%AF%BB%E5%8F%96-json-%E5%93%8D%E5%BA%94">Reading JSON Response (ËØªÂèñ JSON ÂìçÂ∫î)</a></li>
<li><a href="#decoding-other-content-types-%E8%A7%A3%E7%A0%81%E5%85%B6%E4%BB%96-content-types">Decoding Other Content Types (Ëß£Á†ÅÂÖ∂‰ªñ Content Types)</a></li>
<li><a href="#receiving-the-full-http-response-%E6%8E%A5%E5%8F%97%E5%AE%8C%E6%95%B4%E7%9A%84-http-%E5%93%8D%E5%BA%94">Receiving the Full HTTP Response (Êé•ÂèóÂÆåÊï¥ÁöÑ HTTP ÂìçÂ∫î)</a></li>
</ul>
</li>
<li><a href="#posting-a-request-body-%E5%8F%91%E9%80%81%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E4%BD%93">Posting a Request Body (ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±Ç‰Ωì)</a><ul>
<li><a href="#sending-json-%E5%8F%91%E9%80%81-json">Sending JSON (ÂèëÈÄÅ JSON)</a></li>
<li><a href="#using-a-uri-template-%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA-uri-%E6%A8%A1%E6%9D%BF">Using a URI Template (‰ΩøÁî®‰∏Ä‰∏™ URI Ê®°Êùø)</a></li>
<li><a href="#sending-form-data-%E5%8F%91%E9%80%81%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE">Sending Form Data (ÂèëÈÄÅË°®ÂçïÊï∞ÊçÆ)</a></li>
</ul>
</li>
<li><a href="#multipart-client-uploads-multipart-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8A%E4%BC%A0">Multipart Client Uploads (Multipart ÂÆ¢Êà∑Á´Ø‰∏ä‰º†)</a></li>
<li><a href="#streaming-json-over-http-http-%E4%B8%8A%E7%9A%84%E6%B5%81%E5%BC%8F-json">Streaming JSON over HTTP (HTTP ‰∏äÁöÑÊµÅÂºè JSON)</a></li>
<li><a href="#configuring-http-clients-%E9%85%8D%E7%BD%AE-http-clients">Configuring HTTP clients (ÈÖçÁΩÆ HTTP clients)</a><ul>
<li><a href="#global-configuration-for-all-clients-%E7%94%A8%E4%BA%8E%E5%85%A8%E9%83%A8-clients-%E7%9A%84%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE">Global Configuration for All Clients (Áî®‰∫éÂÖ®ÈÉ® Clients ÁöÑÂÖ®Â±ÄÈÖçÁΩÆ)</a></li>
<li><a href="#client-specific-configuration-%E7%89%B9%E5%AE%9A-client-%E9%85%8D%E7%BD%AE">Client Specific Configuration (ÁâπÂÆö Client ÈÖçÁΩÆ)</a></li>
<li><a href="#using-http-client-connection-pooling-%E4%BD%BF%E7%94%A8-http-client-%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%8C%96">Using HTTP Client Connection Pooling (‰ΩøÁî® HTTP Client ËøûÊé•Ê±†Âåñ)</a></li>
<li><a href="#configuring-event-loop-groups-%E9%85%8D%E7%BD%AE-event-loop-%E7%BB%84">Configuring Event Loop Groups (ÈÖçÁΩÆ Event Loop ÁªÑ)</a></li>
</ul>
</li>
<li><a href="#error-responses-%E9%94%99%E8%AF%AF%E5%93%8D%E5%BA%94">Error Responses (ÈîôËØØÂìçÂ∫î)</a></li>
<li><a href="#bind-errors-%E7%BB%91%E5%AE%9A%E9%94%99%E8%AF%AF">Bind Errors (ÁªëÂÆöÈîôËØØ)</a></li>
</ul>
</li>
<li><a href="#proxying-requests-with-proxyhttpclient-%E4%BD%BF%E7%94%A8-proxyinghttpclient-%E6%9D%A5%E4%BB%A3%E7%90%86%E8%AF%B7%E6%B1%82">Proxying Requests with ProxyHttpClient (‰ΩøÁî® ProxyingHttpClient Êù•‰ª£ÁêÜËØ∑Ê±Ç)</a></li>
<li><a href="#declarative-http-clients-with-client-%E4%BD%BF%E7%94%A8-client-%E7%9A%84%E5%A3%B0%E6%98%8E%E5%BC%8F-http-%E5%AE%A2%E6%88%B7%E7%AB%AF">Declarative HTTP Clients with <code>@Client</code> (‰ΩøÁî® <code>@Client</code> ÁöÑÂ£∞ÊòéÂºè HTTP ÂÆ¢Êà∑Á´Ø)</a><ul>
<li><a href="#customizing-parameters-binding-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A">Customizing Parameters Binding (Ëá™ÂÆö‰πâÂèÇÊï∞ÁªëÂÆö)</a><ul>
<li><a href="#query-values-formatting-%E8%AF%B7%E6%B1%82%E5%80%BC%E6%A0%BC%E5%BC%8F%E5%8C%96">Query values formatting (ËØ∑Ê±ÇÂÄºÊ†ºÂºèÂåñ)</a><ul>
<li><a href="#type-based-binding-parameters-%E5%9F%BA%E4%BA%8E%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A">Type-Based Binding Parameters (Âü∫‰∫éÁ±ªÂûãÁöÑÂèÇÊï∞ÁªëÂÆö)</a></li>
<li><a href="#custom-binding-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%91%E5%AE%9A">Custom Binding (Ëá™ÂÆö‰πâÁªëÂÆö)</a><ul>
<li><a href="#binding-by-annotation-%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E8%BF%9B%E8%A1%8C%E7%BB%91%E5%AE%9A">Binding By Annotation (ÈÄöËøáÊ≥®Ëß£ËøõË°åÁªëÂÆö)</a></li>
<li><a href="#binding-by-type-%E9%80%9A%E8%BF%87%E7%B1%BB%E5%9E%8B%E8%BF%9B%E8%A1%8C%E7%BB%91%E5%AE%9A">Binding By Type (ÈÄöËøáÁ±ªÂûãËøõË°åÁªëÂÆö)</a></li>
</ul>
</li>
<li><a href="#binding-on-method-%E5%9C%A8%E6%96%B9%E6%B3%95%E4%B8%8A%E8%BF%9B%E8%A1%8C%E7%BB%91%E5%AE%9A">Binding On Method (Âú®ÊñπÊ≥ï‰∏äËøõË°åÁªëÂÆö)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#streaming-with-client-%E4%BD%BF%E7%94%A8-client-%E8%BF%9B%E8%A1%8C%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86">Streaming with <code>@Client</code> (‰ΩøÁî® <code>@Client</code> ËøõË°åÊµÅÂºèÂ§ÑÁêÜ)</a><ul>
<li><a href="#streaming-json-with-client-%E4%BD%BF%E7%94%A8-client-%E8%BF%9B%E8%A1%8C-json-%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86">Streaming JSON with <code>@Client</code> (‰ΩøÁî® <code>@Client</code> ËøõË°å JSON ÊµÅÂºèÂ§ÑÁêÜ)</a></li>
<li><a href="#streaming-clients-and-response-types-%E6%B5%81%E5%BC%8F%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E5%93%8D%E5%BA%94%E7%B1%BB%E5%9E%8B">Streaming Clients and Response Types (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåÂìçÂ∫îÁ±ªÂûã)</a></li>
<li><a href="#streaming-clients-and-read-timeout-%E6%B5%81%E5%BC%8F%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E8%AF%BB%E5%8F%96%E8%B6%85%E6%97%B6">Streaming Clients and Read Timeout (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåËØªÂèñË∂ÖÊó∂)</a></li>
<li><a href="#streaming-server-sent-events-%E6%B5%81%E5%BC%8F%E6%9C%8D%E5%8A%A1%E5%8F%91%E9%80%81%E4%BA%8B%E4%BB%B6">Streaming Server Sent Events (ÊµÅÂºèÊúçÂä°ÂèëÈÄÅ‰∫ã‰ª∂)</a></li>
</ul>
</li>
<li><a href="#error-response-%E9%94%99%E8%AF%AF%E5%93%8D%E5%BA%94">Error Response (ÈîôËØØÂìçÂ∫î)</a></li>
<li><a href="#customizing-request-headers-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%E5%A4%B4">Customizing Request Headers (Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥)</a><ul>
<li><a href="#populating-headers-using-configuration-%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E6%9D%A5%E5%A1%AB%E5%85%85%E8%AF%B7%E6%B1%82%E5%A4%B4">Populating Headers Using Configuration (‰ΩøÁî®ÈÖçÁΩÆÊù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)</a></li>
<li><a href="#populating-headers-using-a-client-filter-%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%87%E6%BB%A4%E5%99%A8%E6%9D%A5%E5%A1%AB%E5%85%85%E8%AF%B7%E6%B1%82%E5%A4%B4">Populating Headers using a Client Filter (‰ΩøÁî®‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøáÊª§Âô®Êù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)</a></li>
</ul>
</li>
<li><a href="#customizing-jackson-settings-%E8%87%AA%E5%AE%9A%E4%B9%89-jackson-%E8%AE%BE%E7%BD%AE">Customizing Jackson Settings (Ëá™ÂÆö‰πâ Jackson ËÆæÁΩÆ)</a></li>
<li><a href="#retry-and-circuit-breaker-%E9%87%8D%E8%AF%95%E4%B8%8E%E6%96%AD%E8%B7%AF%E5%99%A8">Retry and Circuit Breaker (ÈáçËØï‰∏éÊñ≠Ë∑ØÂô®)</a></li>
<li><a href="#client-fallbacks-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%99%8D%E7%BA%A7">Client Fallbacks (ÂÆ¢Êà∑Á´ØÈôçÁ∫ß)</a></li>
<li><a href="#netflix-hystrix-support-%E7%BD%91%E9%A3%9E-hystrix-%E7%9A%84%E6%94%AF%E6%8C%81">Netflix Hystrix Support (ÁΩëÈ£û Hystrix ÁöÑÊîØÊåÅ)</a><ul>
<li><a href="#using-the-hystrixcommand-annotation-%E4%BD%BF%E7%94%A8-hystrixcommand-%E6%B3%A8%E8%A7%A3">Using the <code>@HystrixCommand</code> Annotation (‰ΩøÁî® <code>@HystrixCommand</code> Ê≥®Ëß£)</a></li>
<li><a href="#enabling-hystrix-stream-and-dashboard-%E5%BC%80%E5%90%AF-hystrix-%E6%B5%81%E5%92%8C%E4%BB%AA%E8%A1%A8%E6%9D%BF">Enabling Hystrix Stream and Dashboard (ÂºÄÂêØ Hystrix ÊµÅÂíå‰ª™Ë°®Êùø)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#http-clients-filters-http-%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%87%E6%BB%A4%E5%99%A8">HTTP Clients Filters (HTTP ÂÆ¢Êà∑Á´ØËøáÊª§Âô®)</a><ul>
<li><a href="#injecting-another-client-into-a-httpclientfilter-%E6%B3%A8%E5%85%A5%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%88%B0%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%AD">Injecting Another Client into a HttpClientFilter (Ê≥®ÂÖ•Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂà∞ËøáÊª§Âô®‰∏≠)</a></li>
<li><a href="#filter-matching-by-annotation-%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E6%9D%A5%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E5%8C%B9%E9%85%8D">Filter Matching By Annotation (ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åËøáÊª§ÂåπÈÖç)</a></li>
</ul>
</li>
<li><a href="#http2-support-http2-%E7%9A%84%E6%94%AF%E6%8C%81">HTTP&#x2F;2 Support (HTTP&#x2F;2 ÁöÑÊîØÊåÅ)</a></li>
<li><a href="#http-client-sample-http-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BE%8B%E5%AD%90">HTTP Client Sample (HTTP ÂÆ¢Êà∑Á´Ø‰æãÂ≠ê)</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->

<h1 id="The-HTTP-Client"><a href="#The-HTTP-Client" class="headerlink" title="The HTTP Client"></a>The HTTP Client</h1><p><strong>Â£∞Êòé</strong>:</p>
<ul>
<li>Êú¨ÊñáÁî±Êú¨‰∫∫ÁøªËØëËá™<a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide" >ÂÆòÊñπÊñáÊ°£<i class="fas fa-external-link-alt"></i></a></li>
<li>ÈÉ®ÂàÜÂÜÖÂÆπÂèØËÉΩ‰ºöÊúâ‰øÆÊîπÊàñÂà†Âáè, ‰∏ÄÂàá‰ª•ÂÆòÊñπÊñáÊ°£‰∏∫ÂáÜ.</li>
<li>Êú¨ÊñáÁøªËØëÊó∂ Micronaut ÁâàÊú¨‰∏∫ 3.4.2</li>
</ul>
<p>Â¶ÇÊûú‰Ω†‰ΩøÁî® Micronaut CLI ÂàõÂª∫È°πÁõÆ, ÈÇ£‰πà <code>http-client</code> ‰æùËµñÂ∑≤ÁªèÈªòËÆ§ÂåÖÂê´Âú®‰Ω†ÁöÑÈ°πÁõÆ‰∏≠‰∫Ü</p>
<blockquote>
<p>Client communication between Microservices is a critical component of any Microservice architecture</p>
</blockquote>
<p>ÂæÆÊúçÂä°ÂÆ¢Êà∑Á´Ø‰πãÈó¥ÁöÑÈÄö‰ø°ÊòØ‰ªª‰ΩïÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÂÖ≥ÈîÆÁªÑ‰ª∂</p>
<blockquote>
<p>With that in mind, Micronaut includes an HTTP client that has both a low-level API and a higher-level AOP-driven API.</p>
</blockquote>
<p>ËÄÉËôëÂà∞Ëøô‰∏ÄÁÇπ, Micronaut ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ HTTP client, Ëøô‰∏™ client ÂêåÊó∂ÂÖ∑Êúâ‰ΩéÁ∫ßÂà´ API ÂíåÈ´òÁ∫ßÁöÑ AOP È©±Âä®ÁöÑ API</p>
<p>Êó†ËÆ∫‰Ω†ÊòØÂê¶ÈÄâÊã©‰ΩøÁî® Micronaut ÁöÑ HTTP server, ‰Ω†ÈÉΩÂèØËÉΩÂ∏åÊúõÂú®‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠‰ΩøÁî® Micronaut HTTP client, Âõ†‰∏∫ÂÆÉÊòØ‰∏Ä‰∏™ÂäüËÉΩ‰∏∞ÂØåÁöÑÂÆ¢Êà∑Á´ØÂÆûÁé∞</p>
<p>Ë¶Å‰ΩøÁî®Ëøô‰∏™ HTTP client, Âú®‰Ω†ÁöÑÊûÑÂª∫‰∏≠Ê∑ªÂä† <code>http-client</code> ‰æùËµñ:</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation(<span class="string">&quot;io.micronaut:micronaut-http-client&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Using-the-Low-Level-HTTP-Client-‰ΩøÁî®‰ΩéÁ∫ßÂà´-HTTP-Client"><a href="#Using-the-Low-Level-HTTP-Client-‰ΩøÁî®‰ΩéÁ∫ßÂà´-HTTP-Client" class="headerlink" title="Using the Low-Level HTTP Client (‰ΩøÁî®‰ΩéÁ∫ßÂà´ HTTP Client)"></a>Using the Low-Level HTTP Client (‰ΩøÁî®‰ΩéÁ∫ßÂà´ HTTP Client)</h2><p><code>HttpClient</code> Êé•Âè£ÊûÑÊàê‰∫Ü‰ΩéÁ∫ßÂà´ API ÁöÑÂü∫Á°Ä</p>
<p><code>HttpClient</code> Êé•Âè£Â£∞Êòé‰∫Ü‰∏Ä‰∫õÊñπÊ≥ïÊù•Â∏ÆÂä©ÁÆÄÂåñ HTTP ËØ∑Ê±ÇÁöÑÊâßË°åÂíåÊé•Êî∂ÂìçÂ∫î</p>
<p><code>HttpClient</code> Êé•Âè£‰∏≠ÁöÑÂ§ßÂ§öÊï∞ÊñπÊ≥ïÈÉΩËøîÂõûÂìçÂ∫îÂºèÊµÅ <code>Publisher</code> ÂÆû‰æã, ËøôÂπ∂‰∏çÊÄªÊòØÊúÄÊúâÁî®ÁöÑÊé•Âè£</p>
<p>Micronaut ÁöÑ Reactor HTTP Client ‰æùËµñÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂêçÁß∞‰∏∫ <code>ReactorHttpClient</code> ÁöÑÂ≠êÊé•Âè£. Ëøô‰∏™Â≠êÊé•Âè£Êèê‰æõ‰∫Ü <code>HttpClient</code> Êé•Âè£ÁöÑÂèò‰ΩìÊù•ËøîÂõû <code>Project Reactor</code>,<code>Flux</code> Á±ªÂûã</p>
<h3 id="Sending-your-first-HTTP-request-ÂèëÈÄÅ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-HTTP-ËØ∑Ê±Ç"><a href="#Sending-your-first-HTTP-request-ÂèëÈÄÅ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™-HTTP-ËØ∑Ê±Ç" class="headerlink" title="Sending your first HTTP request (ÂèëÈÄÅ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ HTTP ËØ∑Ê±Ç)"></a>Sending your first HTTP request (ÂèëÈÄÅ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ HTTP ËØ∑Ê±Ç)</h3><h4 id="Obtaining-a-HttpClient-Ëé∑Âèñ‰∏Ä‰∏™-HttpClient"><a href="#Obtaining-a-HttpClient-Ëé∑Âèñ‰∏Ä‰∏™-HttpClient" class="headerlink" title="Obtaining a HttpClient (Ëé∑Âèñ‰∏Ä‰∏™ HttpClient)"></a>Obtaining a HttpClient (Ëé∑Âèñ‰∏Ä‰∏™ HttpClient)</h4><p>ÊúâÂ§ö‰∏™ÊñπÊ≥ïÂèØ‰ª•Ëé∑Âèñ‰∏Ä‰∏™ <code>HttpClient</code> ÂºïÁî®. ÊúÄÂ∏∏Áî®ÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî® <code>@Client</code> Ê≥®Ëß£</p>
<p>Example - Injecting an HTTP client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Inject</span></span><br><span class="line"><span class="meta">@Client</span>(<span class="string">&quot;https://api.twitter.com/1.1&quot;</span>)</span><br><span class="line">HttpClient httpClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Inject</span></span><br><span class="line"><span class="meta">@Client</span>(<span class="string">&quot;$&#123;myapp.api.twitter.uri&#125;&quot;</span>)</span><br><span class="line">HttpClient httpClient</span><br></pre></td></tr></table></figure>

<p><code>@Client</code> ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâ‰ΩúÁî®Âüü, ÁÆ°ÁêÜ‰∫Ü <code>HttpClient</code> ÂÆû‰æãÁöÑÂàõÂª∫, Âπ∂Á°Æ‰øù <code>HttpClient</code> Âú®Â∫îÁî®ÂÖ≥Èó≠Êó∂ÂÅúÊ≠¢</p>
<p><code>@Client</code> Ê≥®Ëß£ÁöÑÂÄºÂèØ‰ª•ÊòØÂ¶Ç‰∏ã‰πã‰∏Ä:</p>
<ul>
<li>‰∏Ä‰∏™ÁªùÂØπ URI, ‰æãÂ¶Ç <code>https://api.twitter.com/1.1</code></li>
<li>‰∏Ä‰∏™Áõ∏ÂØπ URI, ÊåáÂêëÂΩìÂâç server, Âú®ÊµãËØïÁöÑÊó∂ÂÄôÂæàÊúâÁî®</li>
<li>‰∏Ä‰∏™ÊúçÂä°Ê†áËØÜ(service identifier), ‰ΩøÁî®ÊúçÂä°ÂèëÁé∞</li>
</ul>
<p>Âè¶‰∏ÄÁßçÂàõÂª∫ÊñπÂºèÊòØ‰ΩøÁî® <code>HttpClient</code> ÁöÑÈùôÊÄÅÊñπÊ≥ï <code>create()</code>, Ëøô‰∏™ÊñπÂºèÈúÄË¶Å‰Ω†Ëá™Â∑±‰øùËØÅ client Âú®Â∫îÁî®ÂÖ≥Èó≠Êó∂ÂÅúÊ≠¢, ‰∏î‰∏ç‰ºö‰∏∫ client ÂàõÂª∫ËøõË°å‰æùËµñÊ≥®ÂÖ•</p>
<h4 id="Performing-an-HTTP-GET-ÊâßË°å‰∏Ä‰∏™-HTTP-GET-ËØ∑Ê±Ç"><a href="#Performing-an-HTTP-GET-ÊâßË°å‰∏Ä‰∏™-HTTP-GET-ËØ∑Ê±Ç" class="headerlink" title="Performing an HTTP GET (ÊâßË°å‰∏Ä‰∏™ HTTP GET ËØ∑Ê±Ç)"></a>Performing an HTTP GET (ÊâßË°å‰∏Ä‰∏™ HTTP GET ËØ∑Ê±Ç)</h4><p>‰ΩøÁî® <code>HttpClient</code> Êó∂, ÈÄöÂ∏∏Êúâ‰∏§‰∏™ÂèØÁî®ÁöÑÊñπÊ≥ï</p>
<p>Á¨¨‰∏Ä‰∏™ÊòØ <code>retrive()</code> ÊñπÊ≥ï, Ëøô‰∏™ÊñπÊ≥ïÊâßË°å‰∏Ä‰∏™ HTTP ËØ∑Ê±Ç, Âπ∂Â∞Ü body ‰ª•‰Ω†ËØ∑Ê±ÇÁöÑ‰ªª‰ΩïÁ±ªÂûã (ÈªòËÆ§‰∏∫Â≠óÁ¨¶‰∏≤) ‰Ωú‰∏∫ <code>Publisher</code> ËøîÂõû</p>
<blockquote>
<p>Perform an HTTP request for the given request object emitting the full HTTP response from returned Publisher and converting the response body to the specified type.</p>
</blockquote>
<p><code>retrieve</code> ÊñπÊ≥ïÊé•Êî∂‰∏Ä‰∏™ <code>HttpRequest</code> ÊàñËÄÖ‰∏Ä‰∏™ <code>String</code> URI Êù•ÊåáÂêë‰Ω†ÊÉ≥Ë¶ÅËØ∑Ê±ÇÁöÑÁ´ØÁÇπ</p>
<p>Example - Using retrieve - Use retrieve to execute an HTTP <code>GET</code> and receive the response body as a <code>String</code>:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">when:</span></span><br><span class="line">String uri = UriBuilder.of(<span class="string">&quot;/hello/&#123;name&#125;&quot;</span>)</span><br><span class="line">                       .expand(<span class="attr">name:</span> <span class="string">&quot;John&quot;</span>)</span><br><span class="line"><span class="attr">then:</span></span><br><span class="line"><span class="string">&quot;/hello/John&quot;</span> == uri</span><br><span class="line"></span><br><span class="line"><span class="attr">when:</span></span><br><span class="line">String result = client.toBlocking()</span><br><span class="line">                      .retrieve(uri)</span><br><span class="line"><span class="attr">then:</span></span><br><span class="line"><span class="string">&quot;Hello John&quot;</span> == result</span><br></pre></td></tr></table></figure>

<p>Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠, Ë∞ÉÁî®‰∫Ü <code>toBlocking()</code> ÊñπÊ≥ïÊù•ËøîÂõû‰∏Ä‰∏™ÈòªÂ°ûÁâàÊú¨ÁöÑ client, Âú®Áîü‰∫ß‰ª£Á†Å‰∏≠, ‰∏çË¶Å‰ΩøÁî®Ëøô‰∏™ÈòªÂ°ûÁöÑ client, Â∫îËØ•Áõ¥Êé•‰ΩøÁî®ÈùûÈòªÂ°ûËØ∑Ê±Ç</p>
<p>Example - Using the HTTP client without blocking:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.micronaut.http.HttpRequest.GET</span><br><span class="line"></span><br><span class="line"><span class="meta">@Get</span>(<span class="string">&#x27;/hello/&#123;name&#125;&#x27;</span>)</span><br><span class="line"><span class="meta">@SingleResult</span></span><br><span class="line">Publisher&lt;String&gt; hello(String name) &#123;                      <span class="comment">// 1</span></span><br><span class="line">    Mono.from(httpClient.retrieve(GET(<span class="string">&quot;/hello/&#123;name&#125;&quot;</span>)))    <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The <code>hello</code> method returns a <code>Mono</code> which may or may not emit an item. If an item is not emitted, a 404 is returned</p>
<p><code>2</code> : The <code>retrieve</code> method is called which returns a <code>Flux</code>. This has a <code>firstElement</code> method that returns the first emitted item or nothing</p>
<p>ÈÄöËøá‰ΩøÁî® Reactor (ÊàñËÄÖ RxJava), ‰Ω†ÂèØ‰ª•ÂæàÂÆπÊòì‰∏îÈ´òÊïàÂú∞ÁªÑÂêàÂ§ö‰∏™ÈùûÈòªÂ°û HTTP client ËØ∑Ê±Ç</p>
<h4 id="Debugging-x2F-Tracing-the-HTTP-Client-Ë∞ÉËØï-x2F-Ë∑üË∏™-HTTP-Client"><a href="#Debugging-x2F-Tracing-the-HTTP-Client-Ë∞ÉËØï-x2F-Ë∑üË∏™-HTTP-Client" class="headerlink" title="Debugging &#x2F; Tracing the HTTP Client (Ë∞ÉËØï &#x2F; Ë∑üË∏™ HTTP Client)"></a>Debugging &#x2F; Tracing the HTTP Client (Ë∞ÉËØï &#x2F; Ë∑üË∏™ HTTP Client)</h4><p>Ë¶ÅË∞ÉËØï‰ªé HTTP client ÂèëÈÄÅÂíåÊé•Êî∂ÁöÑËØ∑Ê±Ç, ÂèØ‰ª•Âú® <code>logback.xml</code> ‰∏≠ÂºÄÂêØÊó•ÂøóËøΩË∏™:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// logback.xml</span><br><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;io.micronaut.http.client&quot;</span> <span class="attr">level</span>=<span class="string">&quot;TRACE&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="Client-Specific-Debugging-x2F-Tracing-ÊåáÂÆöÁöÑ-Client-Ë∞ÉËØï-x2F-Ë∑üË∏™"><a href="#Client-Specific-Debugging-x2F-Tracing-ÊåáÂÆöÁöÑ-Client-Ë∞ÉËØï-x2F-Ë∑üË∏™" class="headerlink" title="Client Specific Debugging &#x2F; Tracing (ÊåáÂÆöÁöÑ Client Ë∞ÉËØï &#x2F; Ë∑üË∏™)"></a>Client Specific Debugging &#x2F; Tracing (ÊåáÂÆöÁöÑ Client Ë∞ÉËØï &#x2F; Ë∑üË∏™)</h4><p>Ë¶ÅÂºÄÂêØÊåáÂÆö client ÁöÑÊó•Âøó, ‰Ω†ÂèØ‰ª•‰∏∫ÊâÄÊúâÁöÑ HTTP client ÈÖçÁΩÆÈªòËÆ§ logger</p>
<p>‰πüÂèØ‰ª•‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#_client_specific_configuration" >Client-Specific Configuration<i class="fas fa-external-link-alt"></i></a> ‰∏∫‰∏çÂêå client ÂÆö‰πâ‰∏çÂêåÁöÑ logger</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">client:</span></span><br><span class="line">            <span class="attr">logger-name:</span> <span class="string">mylogger</span></span><br><span class="line">        <span class="attr">services:</span></span><br><span class="line">            <span class="attr">otherClient:</span></span><br><span class="line">                <span class="attr">logger-name:</span> <span class="string">other.client</span></span><br></pre></td></tr></table></figure>

<p>Âú® <code>logback.xml</code> ‰∏≠ÂºÄÂêØÊó•ÂøóËÆ∞ÂΩï:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;mylogger&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;other.client&quot;</span> <span class="attr">level</span>=<span class="string">&quot;TRACE&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="Customizing-the-HTTP-Request-Ëá™ÂÆö‰πâ-HTTP-ËØ∑Ê±Ç"><a href="#Customizing-the-HTTP-Request-Ëá™ÂÆö‰πâ-HTTP-ËØ∑Ê±Ç" class="headerlink" title="Customizing the HTTP Request (Ëá™ÂÆö‰πâ HTTP ËØ∑Ê±Ç)"></a>Customizing the HTTP Request (Ëá™ÂÆö‰πâ HTTP ËØ∑Ê±Ç)</h4><p><code>HttpRequest</code> Êé•Âè£ÁöÑÈùôÊÄÅÊñπÊ≥ï <code>GET</code> ÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ <code>MutableHttpRequest</code> ÂÆû‰æã</p>
<p><code>MutableHttpRequest</code> ÂÆû‰æãÊòØÂèØ‰ª•‰øÆÊîπËØ•ÁöÑ, ‰æãÂ¶ÇÂèØ‰ª•Ê∑ªÂä† headers, Ëá™ÂÆö‰πâËØ∑Ê±Ç body:</p>
<p>Example - Passing an HttpRequest to retrieve:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.micronaut.http.HttpRequest.GET</span><br><span class="line"></span><br><span class="line">Flux&lt;String&gt; response = Flux.from(</span><br><span class="line">    client.retrieve(</span><br><span class="line">        GET(<span class="string">&quot;/hello/John&quot;</span>).header(<span class="string">&quot;X-My-Header&quot;</span>, <span class="string">&quot;SomeValue&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="Reading-JSON-Response-ËØªÂèñ-JSON-ÂìçÂ∫î"><a href="#Reading-JSON-Response-ËØªÂèñ-JSON-ÂìçÂ∫î" class="headerlink" title="Reading JSON Response (ËØªÂèñ JSON ÂìçÂ∫î)"></a>Reading JSON Response (ËØªÂèñ JSON ÂìçÂ∫î)</h4><p>ÂæÆÊúçÂä°ÈÄöÂ∏∏‰ΩøÁî® JSON Á≠âÊ∂àÊÅØÁºñÁ†ÅÊ†ºÂºè</p>
<p>Micronaut ÁöÑ HTTP client Âà©Áî® Jackson ËøõË°å JSON Ëß£Êûê, Âõ†Ê≠§ Jackson ÂèØ‰ª•Ëß£Á†ÅÁöÑ‰ªª‰ΩïÁ±ªÂûãÈÉΩÂèØ‰ª•‰Ωú‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞‰º†ÂÖ• <code>retrieve()</code> ÊñπÊ≥ï:</p>
<p>Example - Êúâ‰∏Ä‰∏™ Controller ËøîÂõû‰∏Ä‰∏™ JSONÂìçÂ∫î:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Get</span>(<span class="string">&#x27;/greet/&#123;name&#125;&#x27;</span>)</span><br><span class="line">Message greet(String name) &#123; <span class="keyword">new</span> Message(<span class="string">&quot;Hello $name&quot;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonCreator</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonProperty</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> String text</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonCreator</span></span><br><span class="line">    Message(<span class="meta">@JsonProperty</span>(<span class="string">&quot;text&quot;</span>) String text) &#123; <span class="variable language_">this</span>.text = text&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Âú® client ‰∏≠‰Ω†ÂèØ‰ª•Ë∞ÉÁî®Ëøô‰∏™ Controller ÁöÑ endpoint Âπ∂‰ΩøÁî® <code>retrieve()</code>ÊñπÊ≥ï Ëß£Á†Å JSON ‰∏∫‰∏Ä‰∏™ <code>Map</code></p>
<p>Example - Decoding the response body to a Map:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Flux&lt;Map&gt; response = Flux.from(</span><br><span class="line">    client.retrieve(</span><br><span class="line">        GET(<span class="string">&#x27;/greet/John&#x27;</span>, Map)</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ÂèØ‰ª•‰ΩøÁî® <code>Argument.of()</code> ÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâ Map ÁöÑ key&#x2F;value ÁöÑÁ±ªÂûã:</p>
<p>Example - Decoding the response body to Map:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">response = Flux.from(</span><br><span class="line">    client.retrieve(</span><br><span class="line">        GET(<span class="string">&#x27;/greet/John&#x27;</span>),</span><br><span class="line">        Argument.of(Map, String, String)    <span class="comment">// this method returns a Map where the key and value types are String</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ËôΩÁÑ∂Â∞Ü JSON ‰Ωú‰∏∫ <code>Map</code> ËøõË°åËé∑ÂèñÊòØÂèØÂèñÁöÑ, ‰ΩÜÈÄöÂ∏∏Â∏åÊúõÂ∞ÜÂØπË±°Ëß£Á†Å‰∏∫ POJO:</p>
<p>Example - Decoding the response body to a POJO:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">when:</span></span><br><span class="line">Flux&lt;Message&gt; response = Flux.from(</span><br><span class="line">    client.retrieve(</span><br><span class="line">        GET(<span class="string">&#x27;/greet/John&#x27;</span>),</span><br><span class="line">        Message</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ÊâÄ‰ª•ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÈÄöÁî®ÁöÑ API È°πÁõÆ, ÂèØ‰ª•Âú®Ëøô‰∏™È°πÁõÆ‰∏≠ÂÆö‰πâ ÂÆö‰πâAPI ÁöÑ interface Âíå Á±ª</p>
<h4 id="Decoding-Other-Content-Types-Ëß£Á†ÅÂÖ∂‰ªñ-Content-Types"><a href="#Decoding-Other-Content-Types-Ëß£Á†ÅÂÖ∂‰ªñ-Content-Types" class="headerlink" title="Decoding Other Content Types (Ëß£Á†ÅÂÖ∂‰ªñ Content Types)"></a>Decoding Other Content Types (Ëß£Á†ÅÂÖ∂‰ªñ Content Types)</h4><p>Â¶ÇÊûú‰Ω†Ë¶ÅËØ∑Ê±ÇÁöÑÊúçÂä°‰ΩøÁî®ÁöÑÊòØËá™ÂÆö‰πâÁöÑ content type ËÄå‰∏çÊòØ JSON, ÈªòËÆ§ÊÉÖÂÜµ‰∏ã Micronaut ÁöÑ HTTP client Âπ∂‰∏çÁü•ÈÅìÊÄéÊ†∑ÂéªËß£ÊûêËøôÊ†∑ÁöÑÁ±ªÂûã</p>
<p>ÈÄöËøáÊ≥®ÂÜå‰∏Ä‰∏™ <code>MediaTypeCodec</code> Bean Êù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò, Ëøô‰∏™ Bean ‰ºöËá™Âä®Ë¢´ÂèëÁé∞Âπ∂Áî®‰∫éÁºñËß£Á†ÅÊ∂àÊÅØ</p>
<h4 id="Receiving-the-Full-HTTP-Response-Êé•ÂèóÂÆåÊï¥ÁöÑ-HTTP-ÂìçÂ∫î"><a href="#Receiving-the-Full-HTTP-Response-Êé•ÂèóÂÆåÊï¥ÁöÑ-HTTP-ÂìçÂ∫î" class="headerlink" title="Receiving the Full HTTP Response (Êé•ÂèóÂÆåÊï¥ÁöÑ HTTP ÂìçÂ∫î)"></a>Receiving the Full HTTP Response (Êé•ÂèóÂÆåÊï¥ÁöÑ HTTP ÂìçÂ∫î)</h4><p>ÊúâÊó∂ÂÄô‰ªÖ‰ªÖÊé•Êî∂ÂìçÂ∫îÁöÑ body ÊòØ‰∏çÂ§üÁöÑ, Âõ†‰∏∫ÂèØËÉΩËøòÈúÄË¶ÅËé∑ÂèñÂìçÂ∫îÁöÑÂÖ∂‰ªñ‰ø°ÊÅØ, ‰æãÂ¶Ç headers, cookies</p>
<p>ËøôÊó∂, ÂèØ‰ª•‰ΩøÁî® <code>exchange()</code> ÊñπÊ≥ï:</p>
<p>Example - Receiving the Full HTTP Response:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">when:</span></span><br><span class="line">Flux&lt;HttpResponse&gt; call = Flux.from(</span><br><span class="line">    client.exchange(            <span class="comment">// The exchange method receieves the HttpResponse</span></span><br><span class="line">        GET(<span class="string">&#x27;/greet/John&#x27;</span>),</span><br><span class="line">        Message</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">HttpResponse&lt;Message&gt; response = call.blockFirst()</span><br><span class="line">Optional&lt;Message&gt; message = response.getBody(Message)   <span class="comment">// The body is retrieved using the getBody() method of the rsponse</span></span><br><span class="line"></span><br><span class="line"><span class="attr">then:</span></span><br><span class="line">HttpStatus.OK == response.getStatus()</span><br><span class="line">message.isPresent()</span><br><span class="line"><span class="string">&#x27;Hello John&#x27;</span> == message.get().getText()</span><br></pre></td></tr></table></figure>

<p>‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Ëé∑Âèñ‰∫ÜÂÆåÊï¥ÁöÑ <code>HttpResponse</code></p>
<h3 id="Posting-a-Request-Body-ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±Ç‰Ωì"><a href="#Posting-a-Request-Body-ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±Ç‰Ωì" class="headerlink" title="Posting a Request Body (ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±Ç‰Ωì)"></a>Posting a Request Body (ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±Ç‰Ωì)</h3><p><code>HttpRequest</code> Êé•Âè£ÂÖ∑ÊúâÈÄÇÁî®‰∫éÊâÄÊúâ‰∏çÂêå HTTP method ÁöÑÂ∑•ÂéÇÊñπÊ≥ï</p>
<p>Table - HttpRequest Factory Methods:</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
<th align="left">Allows Body</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>HttpRequest.GET(java.lang.String)</code></td>
<td align="left">Constructs an HTTP GET request</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>HttpRequest.OPTIONS(java.lang.String)</code></td>
<td align="left">Constructs an HTTP OPTIONS request</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>HttpRequest.HEAD(java.lang.String)</code></td>
<td align="left">Constructs an HTTP HEAD request</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>HttpRequest.POST(java.lang.String, T)</code></td>
<td align="left">Constructs an HTTP POST request</td>
<td align="left">true</td>
</tr>
<tr>
<td align="left"><code>HttpRequest.PUT(java.lang.String, T)</code></td>
<td align="left">Constructs an HTTP PUT request</td>
<td align="left">true</td>
</tr>
<tr>
<td align="left"><code>HttpRequest.PATCH(java.lang.String, T)</code></td>
<td align="left">Constructs an HTTP PATCH request</td>
<td align="left">true</td>
</tr>
<tr>
<td align="left"><code>HttpRequest.DELETE(java.lang.String)</code></td>
<td align="left">Constructs an HTTP DELETE request</td>
<td align="left">true</td>
</tr>
</tbody></table>
<p>Â≠òÂú®‰∏Ä‰∏™ <code>create()</code> ÊñπÊ≥ïÊù•ÊûÑÈÄ†‰∏Ä‰∏™ÈÄÇÁî®‰∫é‰ªª‰Ωï <code>HttpMethod</code> Á±ªÂûãÁöÑËØ∑Ê±Ç</p>
<p>Âõ†‰∏∫ <code>POST</code>,<code>PUT</code>,<code>PATCH</code> method Ë¶ÅÊ±Ç‰∏Ä‰∏™ body, ÊâÄ‰ª•ÈúÄË¶Å‰º†ÂÖ•‰∏Ä‰∏™‰ª£Ë°®ËØ∑Ê±Ç body ÁöÑÂØπË±°‰Ωú‰∏∫Á¨¨‰∫å‰∏™ÂèÇÊï∞</p>
<p>Example - Sending a <code>String</code> body:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.micronaut.http.HttpRequest.POST</span><br><span class="line"></span><br><span class="line">Flux&lt;HttpResponse&lt;String&gt;&gt; call = Flux.from(</span><br><span class="line">    client.exchange(</span><br><span class="line">        POST(<span class="string">&#x27;/hello&#x27;</span>, <span class="string">&#x27;Hello John&#x27;</span>)                <span class="comment">// 1</span></span><br><span class="line">            .contentType(MediaType.TEXT_PLAIN_TYPE)</span><br><span class="line">            .accept(MediaType.TEXT_PLAIN_TYPE),     <span class="comment">// 2</span></span><br><span class="line">        String                                      <span class="comment">// 3</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The <code>POST</code> method is used; the first argument is the URI and the second is the body</p>
<p><code>2</code> : The content type and accepted type are set to <code>text/plain</code> (the default is <code>application/json</code>)</p>
<p><code>3</code> : The expected response type is a <code>String</code></p>
<h4 id="Sending-JSON-ÂèëÈÄÅ-JSON"><a href="#Sending-JSON-ÂèëÈÄÅ-JSON" class="headerlink" title="Sending JSON (ÂèëÈÄÅ JSON)"></a>Sending JSON (ÂèëÈÄÅ JSON)</h4><p>Ë¶ÅÂèëÈÄÅ JSON Êï∞ÊçÆ, ‰º†ÂÖ•Ë¶ÅÁºñÁ†Å‰∏∫ JSON ÁöÑÂØπË±°(Êó†ËÆ∫ÊòØ Map ËøòÊòØ POJO), Âè™Ë¶Å Jackson ËÉΩÂ§üÂØπÂÖ∂ËøõË°åÁºñÁ†Å</p>
<p>Example - Sending a JSON body:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Flux&lt;HttpResponse&lt;Message&gt;&gt; call = Flux.from(</span><br><span class="line">    client.exchange(</span><br><span class="line">        POST(<span class="string">&#x27;/greet&#x27;</span>, <span class="keyword">new</span> Message(<span class="string">&#x27;Hello John&#x27;</span>)),  <span class="comment">// 1</span></span><br><span class="line">        Message                                     <span class="comment">// 2</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>1</code> : An instance of <code>Message</code> is created and passed to the <code>POST</code> method</p>
<p><code>2</code> : The same class decodes the response</p>
<p>‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠, Â¶Ç‰∏ãÁöÑ JSON Ë¢´‰Ωú‰∏∫ËØ∑Ê±ÇÁöÑ body:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Hello John&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="Using-a-URI-Template-‰ΩøÁî®‰∏Ä‰∏™-URI-Ê®°Êùø"><a href="#Using-a-URI-Template-‰ΩøÁî®‰∏Ä‰∏™-URI-Ê®°Êùø" class="headerlink" title="Using a URI Template (‰ΩøÁî®‰∏Ä‰∏™ URI Ê®°Êùø)"></a>Using a URI Template (‰ΩøÁî®‰∏Ä‰∏™ URI Ê®°Êùø)</h4><p>Â¶ÇÊûúË¶ÅÂú® URI ‰∏≠ÂåÖÂê´‰∏Ä‰∫õÂØπË±°ÁöÑÂ±ûÊÄß, ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ URI template</p>
<p>ÂÅáËÆæ, ‰Ω†Êúâ‰∏Ä‰∏™Êã•Êúâ <code>title</code> Â±ûÊÄßÁöÑ <code>Book</code> Á±ª. ‰Ω†ÂèØ‰ª•Âú® URI template ‰∏≠ÂåÖÂê´ <code>title</code>, ÁÑ∂Âêé‰ΩøÁî®‰∏Ä‰∏™ <code>Book</code> ÂÆû‰æãÊù•Â°´ÂÖÖËøô‰∏™ template ÁöÑ <code>title</code></p>
<p>Example - Sending a JSON body with a URI template:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Flux&lt;HttpResponse&lt;Book&gt;&gt; call = Flux.from(</span><br><span class="line">    POST(<span class="string">&#x27;/amazon/book/&#123;title&#125;&#x27;</span>, <span class="keyword">new</span> Book(<span class="string">&#x27;The Stand&#x27;</span>)),</span><br><span class="line">    Book</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="Sending-Form-Data-ÂèëÈÄÅË°®ÂçïÊï∞ÊçÆ"><a href="#Sending-Form-Data-ÂèëÈÄÅË°®ÂçïÊï∞ÊçÆ" class="headerlink" title="Sending Form Data (ÂèëÈÄÅË°®ÂçïÊï∞ÊçÆ)"></a>Sending Form Data (ÂèëÈÄÅË°®ÂçïÊï∞ÊçÆ)</h4><p>ÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ POJO Êàñ Map ÁºñÁ†Å‰∏∫Ë°®ÂçïÊï∞ÊçÆËÄå‰∏çÊòØ JSON</p>
<p>‰ªÖÈúÄË¶ÅÂú® POST ËØ∑Ê±Ç‰∏≠Â∞Ü Content-Type ËÆæÁΩÆ‰∏∫ <code>application/x-www-form-urlencoded</code></p>
<p>Example - Sending a Form Data:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Flux&lt;HttpResponse&lt;Book&gt;&gt; call = client.exchange(</span><br><span class="line">    POST(<span class="string">&#x27;/amazon/book/&#123;title&#125;&#x27;</span>, <span class="keyword">new</span> Book(<span class="string">&#x27;The Stand&#x27;</span>))</span><br><span class="line">        .contentType(MediaType.APPLICATION_FORM_URLENCODED),</span><br><span class="line">    Book</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Multipart-Client-Uploads-Multipart-ÂÆ¢Êà∑Á´Ø‰∏ä‰º†"><a href="#Multipart-Client-Uploads-Multipart-ÂÆ¢Êà∑Á´Ø‰∏ä‰º†" class="headerlink" title="Multipart Client Uploads (Multipart ÂÆ¢Êà∑Á´Ø‰∏ä‰º†)"></a>Multipart Client Uploads (Multipart ÂÆ¢Êà∑Á´Ø‰∏ä‰º†)</h3><p>Micronaut HTTP client ÊîØÊåÅ multipart request</p>
<p>Ë¶ÅÊûÑÂª∫‰∏Ä‰∏™ multipart request, Â∞Ü Content-Type ËÆæÁΩÆ‰∏∫ <code>multipart/form-data</code>, Âπ∂ËÆæÁΩÆ body ‰∏∫‰∏Ä‰∏™ <code>MultipartBody</code> ÂÆû‰æã</p>
<p>Example - Creating the body:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.multipart.CompletedFileUpload</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.multipart.StreamingFileUpload</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.multipart.MultipartBody</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(uploadDir, <span class="string">&#x27;data.txt&#x27;</span>)</span><br><span class="line">file.text = <span class="string">&#x27;test file&#x27;</span></span><br><span class="line">file.createdNewFile()</span><br><span class="line"></span><br><span class="line">MultipartBody requestBody = MultipartBody.builder()             <span class="comment">// 1</span></span><br><span class="line">                                         .addPart(              <span class="comment">// 2</span></span><br><span class="line">                                             <span class="string">&quot;data&quot;</span>,</span><br><span class="line">                                             file.name,</span><br><span class="line">                                             MediaType.TEXT_PLAIN_TYPE,</span><br><span class="line">                                             file</span><br><span class="line">                                         )</span><br><span class="line">                                         .build()               <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><code>1</code> : Create a MultipartBody builder for adding parts to the body</p>
<p><code>2</code> : Add a part to the body, in this cases a file. There are different variations of this method in <code>MultipartBody.Builder</code></p>
<p><code>3</code> : The build method assembles all parts from the builder into a MultipartBody. At least one part is required</p>
<p>Example - Creating a request:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HttpRequest.POST(<span class="string">&#x27;/multipart/upload&#x27;</span>, requestBody)</span><br><span class="line">           .contentType(MediaType.MULTIPART_FORM_DATA_TYPE)</span><br></pre></td></tr></table></figure>

<h3 id="Streaming-JSON-over-HTTP-HTTP-‰∏äÁöÑÊµÅÂºè-JSON"><a href="#Streaming-JSON-over-HTTP-HTTP-‰∏äÁöÑÊµÅÂºè-JSON" class="headerlink" title="Streaming JSON over HTTP (HTTP ‰∏äÁöÑÊµÅÂºè JSON)"></a>Streaming JSON over HTTP (HTTP ‰∏äÁöÑÊµÅÂºè JSON)</h3><p>Micronaut ÁöÑ HTTP client ÂåÖÊã¨ÈÄöËøá <code>ReactorStreamingHttpClient</code> Êé•Âè£ÊîØÊåÅÁöÑ HTTP ‰∏äÁöÑÊµÅÂºè‰º†ËæìÊï∞ÊçÆ, Ëøô‰∏™Êé•Âè£ÂåÖÂê´‰∫ÜÁâπÂÆö‰∫éÊµÅÁöÑÊñπÊ≥ï:</p>
<p>Table - HTTP Streaming Methods:</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>dataStream(HttpRequest&lt;I&gt; request)</code></td>
<td align="left">Returns a stream of data as a <code>Flux</code> of <code>ByteBuffer</code></td>
</tr>
<tr>
<td align="left"><code>exchangeStream(HttpRequest&lt;I&gt; request)</code></td>
<td align="left">Returns the <code>HttpResponse</code> wrapping a <code>Flux</code> of <code>ByteBuffer</code></td>
</tr>
<tr>
<td align="left"><code>jsonStream(HttpResponse&lt;I&gt; request)</code></td>
<td align="left">Returns a non-blocking stream of JSON objects</td>
</tr>
</tbody></table>
<p>Ë¶Å‰ΩøÁî® JSON streaming, Âú® server ‰∏≠Â£∞Êòé‰∏Ä‰∏™ Controller ÊñπÊ≥ï, Ëøô‰∏™ÊñπÊ≥ï <code>produces</code> ÁöÑ Content-Type ÊòØ <code>application/x-json-stream</code></p>
<p>Example - Streaming JSON on the Server:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.MediaType</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Controller</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Get</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Flux</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Mono</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.Duration</span><br><span class="line"><span class="keyword">import</span> java.time.ZonedDateTime</span><br><span class="line"><span class="keyword">import</span> java.time.temporal.ChronoUnit</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit</span><br><span class="line"></span><br><span class="line"><span class="meta">@Get</span>(value = <span class="string">&#x27;/headlines&#x27;</span>, processes = MediaType.APPLICATION_JSON_STREAM)           <span class="comment">// 1</span></span><br><span class="line">Flux&lt;Headline&gt; streamHeadlines() &#123;</span><br><span class="line">    Mono.fromCallable(&#123;            <span class="comment">// 2</span></span><br><span class="line">            <span class="keyword">new</span> Headline(<span class="attr">text:</span> <span class="string">&quot;Latest Headline at $&#123;ZonedDateTime.now()&#125;&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        .repeat(<span class="number">100</span>)               <span class="comment">// 3</span></span><br><span class="line">        .delayElements(Duration.of(<span class="number">1</span>, ChronoUnit.SECONDS))  <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The <code>streamHeadlines</code> method produces <code>application/x-json-stream</code>; <code>processes</code> : Shortcut that allows setting both the consumes() and produces() settings to the same media type.</p>
<p><code>2</code> : A <code>Flux</code> is created from a <code>Callable</code> function</p>
<p><code>3</code> : The <code>Flux</code> repeats 100 times</p>
<p><code>4</code> : The <code>Flux</code> emits items with a delay of one second between each</p>
<p>Âú®ÂÆ¢Êà∑Á´Ø, ‰ΩøÁî® <code>jsonSteam</code> Êù•ËÆ¢ÈòÖ(subscribe)Ëøô‰∏™ÊµÅ, ÊØèÊ¨° server ËæìÂá∫‰∏Ä‰∏™ JSON ÂØπË±°, ÂÆ¢Êà∑Á´ØÂ∞Ü‰ºöËß£Á†ÅÂπ∂Ê∂àË¥πËøô‰∏™ÂØπË±°</p>
<p>Example - Streaming JSON on the Client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Flux&lt;Headline&gt; headlineStream = Flux.from(</span><br><span class="line">    client.jsonStream(  <span class="comment">// 1</span></span><br><span class="line">        GET(<span class="string">&#x27;streaming/headlines&#x27;</span>),</span><br><span class="line">        Headline</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">CompletableFuture&lt;Headline&gt; future = <span class="keyword">new</span> CompletableFuture&lt;&gt;()  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">headlineStream.subscribe(</span><br><span class="line">    <span class="keyword">new</span> Subscribe&lt;Headline&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="type">void</span> onSubscribe(Subscription s) &#123; s.request(<span class="number">1</span>) &#125;   <span class="comment">//3 </span></span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="type">void</span> onNext(Headline headline) &#123; println <span class="string">&quot;Received Headline = $headline.text&quot;</span>; future.complete(headline) &#125;  <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="type">void</span> onError(Throwable t) &#123; future.completeExceptionally(t) &#125;   <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="type">void</span> onComplete() &#123;&#125;    <span class="comment">// 6</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The <code>jsonStream</code> method returns a <code>Flux</code></p>
<p><code>2</code> : A <code>CompletableFuture</code> is used to receive a value, but what you do with each emitted item is application-specific</p>
<p><code>3</code> : The <code>Subscription</code> requests a single item. You can use the <code>Subscription</code> to regulate(Ë∞ÉËäÇ) back pressure and demand</p>
<p><code>4</code> : The <code>onNext</code> method is called when an item is emitted</p>
<p><code>5</code> : The <code>onError</code> method is called when an error occurs</p>
<p><code>6</code> : The <code>onComplete</code> method is called when all <code>Headine</code> instances have been emitted</p>
<h3 id="Configuring-HTTP-clients-ÈÖçÁΩÆ-HTTP-clients"><a href="#Configuring-HTTP-clients-ÈÖçÁΩÆ-HTTP-clients" class="headerlink" title="Configuring HTTP clients (ÈÖçÁΩÆ HTTP clients)"></a>Configuring HTTP clients (ÈÖçÁΩÆ HTTP clients)</h3><h4 id="Global-Configuration-for-All-Clients-Áî®‰∫éÂÖ®ÈÉ®-Clients-ÁöÑÂÖ®Â±ÄÈÖçÁΩÆ"><a href="#Global-Configuration-for-All-Clients-Áî®‰∫éÂÖ®ÈÉ®-Clients-ÁöÑÂÖ®Â±ÄÈÖçÁΩÆ" class="headerlink" title="Global Configuration for All Clients (Áî®‰∫éÂÖ®ÈÉ® Clients ÁöÑÂÖ®Â±ÄÈÖçÁΩÆ)"></a>Global Configuration for All Clients (Áî®‰∫éÂÖ®ÈÉ® Clients ÁöÑÂÖ®Â±ÄÈÖçÁΩÆ)</h4><p>ÈªòËÆ§ÁöÑ HTTP client ÈÖçÁΩÆÊòØ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#_client_specific_configuration" >DefaultHttpClientConfiguration<i class="fas fa-external-link-alt"></i></a></p>
<p>ÂÖÅËÆ∏ÈÖçÁΩÆÊâÄÊúâÁöÑ HTTP client ÁöÑÈªòËÆ§Ë°å‰∏∫</p>
<p>Example - Altering default HTTP client configuration:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">application.yml</span></span><br><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">client:</span></span><br><span class="line">            <span class="attr">read-timeout:</span> <span class="string">5s</span></span><br></pre></td></tr></table></figure>

<p>‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ËÆæÁΩÆ‰∫Ü <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/client/HttpClientConfiguration.html" >HttpClientConfiguration<i class="fas fa-external-link-alt"></i></a> ÁöÑÂ±ûÊÄß</p>
<h4 id="Client-Specific-Configuration-ÁâπÂÆö-Client-ÈÖçÁΩÆ"><a href="#Client-Specific-Configuration-ÁâπÂÆö-Client-ÈÖçÁΩÆ" class="headerlink" title="Client Specific Configuration (ÁâπÂÆö Client ÈÖçÁΩÆ)"></a>Client Specific Configuration (ÁâπÂÆö Client ÈÖçÁΩÆ)</h4><p>ÊúâÂ§ö‰∏™ÈÄâÈ°πÊù•‰∏∫ÊØè‰∏™ client ËÆæÂÆö‰∏çÂêåÁöÑÈÖçÁΩÆ</p>
<p>ÂèØ‰ª•Âú® <code>application.yml</code> ‰∏≠ÊâãÂä®ÈÖçÁΩÆÊúçÂä°ÂèëÁé∞Âπ∂Â∫îÁî®Âà∞ÊØè‰∏™ client ÈÖçÁΩÆ‰∏≠:</p>
<p>Example - Manually configuring HTTP services:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">services:</span></span><br><span class="line">            <span class="attr">foo:</span></span><br><span class="line">                <span class="attr">urls:</span></span><br><span class="line">                    <span class="bullet">-</span> <span class="string">https://foo1</span></span><br><span class="line">                    <span class="bullet">-</span> <span class="string">https://foo2</span></span><br><span class="line">                <span class="attr">read-timeout:</span> <span class="string">5s</span>    <span class="comment"># The read timeout is applied to the foo client</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>This client configuration can be used in conjunction with the @Client annotation, either by injecting an HttpClient directly or use on a client interface.</p>
</blockquote>
<p>Ëøô‰∏™ÂÆ¢Êà∑Á´ØÈÖçÁΩÆÂèØ‰ª•‰∏é <code>@Client</code> Ê≥®Ëß£‰∏ÄËµ∑‰ΩøÁî®, ÂèØ‰ª•ÈÄöËøáÁõ¥Êé•Ê≥®ÂÖ•‰∏Ä‰∏™ <code>HttpClient</code> ÊàñÂú®‰∏Ä‰∏™ client Êé•Âè£‰∏ä‰ΩøÁî®</p>
<blockquote>
<p>In any case, all other attributes on the annotation will be ignored except the service id.</p>
</blockquote>
<p>Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ã, Ê≥®Ëß£‰∏äÁöÑÊâÄÊúâÂ±ûÊÄßÈÉΩÂ∞ÜË¢´ÂøΩÁï•, Èô§‰∫Ü service id</p>
<p>ÁÑ∂Âêé, Ê≥®ÂÖ•ÂëΩÂêçÁöÑ client ÈÖçÁΩÆ:</p>
<p>Example - Injecting an HTTP client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&quot;foo&quot;</span>) <span class="meta">@Inject</span> ReactorHttpClient httpClient</span><br></pre></td></tr></table></figure>

<p>‰Ω†ËøòÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÁªßÊâø <code>HttpClientConfiguration</code> ÁöÑ Bean, Âπ∂Á°Æ‰øù‰ΩøÁî® <code>javax.inject.Named</code> Ê≥®Ëß£‰∏∫Ëøô‰∏™ Bean ÂêàÈÄÇÂú∞ÂëΩÂêç:</p>
<p>Example - Defining an HTTP client configuration bean:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Named</span>(<span class="string">&quot;twitter&quot;</span>)</span><br><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TwitterHttpClientConfiguration</span> <span class="keyword">extends</span> <span class="title class_">HttpClientConfiguration</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TwitterHttpClientConfiguration(ApplicationConfiguration configuration) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(configuration)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûú‰Ω†ÈÄöËøá <code>@Client</code> ‰ΩøÁî®ÊúçÂä°ÂèëÁé∞Ê≥®ÂÖ•‰∏Ä‰∏™ÂëΩÂêç‰∏∫ <code>twitter</code> ÁöÑ service, ÈÇ£‰πàËøô‰∏™ÈÖçÁΩÆÂ∞Ü‰ºöË¢´ÈááÁî®:</p>
<p>Example - Injecting an HTTP client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&quot;twitter&quot;</span>) <span class="meta">@Inject</span> ReactorHttpClient httpClient</span><br></pre></td></tr></table></figure>

<p>ÊàñËÄÖ, Â¶ÇÊûú‰Ω†‰∏ç‰ΩøÁî®ÊúçÂä°ÂèëÁé∞, ‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>@Client</code> Ê≥®Ëß£ÁöÑ <code>configuration</code> ÊàêÂëòÂ±ûÊÄßÊù•ÂºïÁî®‰∏Ä‰∏™ÁâπÂÆöÁ±ªÂûã:</p>
<p>Example - Injecting an HTTP client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(</span><br><span class="line">    value = <span class="string">&quot;https://api.twitter.com/1/1&quot;</span>,</span><br><span class="line">    configuration = TwitterHttpClientConfiguration.<span class="keyword">class</span></span><br><span class="line">)</span><br><span class="line"><span class="meta">@Inject</span></span><br><span class="line">ReactorHttpClient httpClient</span><br></pre></td></tr></table></figure>

<h4 id="Using-HTTP-Client-Connection-Pooling-‰ΩøÁî®-HTTP-Client-ËøûÊé•Ê±†Âåñ"><a href="#Using-HTTP-Client-Connection-Pooling-‰ΩøÁî®-HTTP-Client-ËøûÊé•Ê±†Âåñ" class="headerlink" title="Using HTTP Client Connection Pooling (‰ΩøÁî® HTTP Client ËøûÊé•Ê±†Âåñ)"></a>Using HTTP Client Connection Pooling (‰ΩøÁî® HTTP Client ËøûÊé•Ê±†Âåñ)</h4><p>‰∏Ä‰∏™Â§ÑÁêÜÂ§ßÈáèËØ∑Ê±ÇÁöÑ client Â∞Ü‰ºö‰ªéÂºÄÂêØ HTTP client ËøûÊé•Ê±†Âåñ‰∏≠Ëé∑Áõä</p>
<p>Â¶Ç‰∏ã‰æãÂ≠ê‰∏≠‰∏∫ <code>foo</code> client ÂºÄÂêØÊ±†Âåñ:</p>
<p>Example - Manually configuring HTTP services:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">services:</span></span><br><span class="line">            <span class="attr">foo:</span></span><br><span class="line">                <span class="attr">urls:</span></span><br><span class="line">                    <span class="bullet">-</span> <span class="string">http://foo1</span></span><br><span class="line">                    <span class="bullet">-</span> <span class="string">http://foo2</span></span><br><span class="line">                <span class="attr">pool:</span></span><br><span class="line">                    <span class="attr">enabled:</span> <span class="literal">true</span>           <span class="comment"># Enables the pool</span></span><br><span class="line">                    <span class="attr">max-connections:</span> <span class="number">50</span>     <span class="comment"># Sets the maximum number of connections in the pool</span></span><br></pre></td></tr></table></figure>

<p>Êü•Áúã <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/client/HttpClientConfiguration.ConnectionPoolConfiguration.html" >ConnectionPoolConfiguration<i class="fas fa-external-link-alt"></i></a> Ëé∑ÂèñÂèØÁî®Ê±†ÂåñÈÖçÁΩÆÈÄâÈ°πÁªÜËäÇ‰ø°ÊÅØ</p>
<h4 id="Configuring-Event-Loop-Groups-ÈÖçÁΩÆ-Event-Loop-ÁªÑ"><a href="#Configuring-Event-Loop-Groups-ÈÖçÁΩÆ-Event-Loop-ÁªÑ" class="headerlink" title="Configuring Event Loop Groups (ÈÖçÁΩÆ Event Loop ÁªÑ)"></a>Configuring Event Loop Groups (ÈÖçÁΩÆ Event Loop ÁªÑ)</h4><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã, Micronaut ËÆ© worker Á∫øÁ®ãÂíåÊâÄÊúâ HTTP client Á∫øÁ®ãÂÖ±‰∫´‰∏Ä‰∏™ÈÄöÁî® Netty <code>EventLoopGroup</code></p>
<p>Ëøô‰∏™ <code>EventLoopGroup</code> ÂèØ‰ª•ÈÄöËøá <code>micronaut.netty.event-loops.default</code> Â±ûÊÄßÊù•ËøõË°åÈÖçÁΩÆ:</p>
<p>Example - Configuring The Default Event Loop:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="symbol">netty:</span></span><br><span class="line">        event-<span class="attr">loops:</span></span><br><span class="line">            <span class="symbol">default:</span></span><br><span class="line">                num-<span class="attr">threads:</span> <span class="number">10</span></span><br><span class="line">                prefer-native-<span class="attr">transport:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ÂèØ‰ª•‰ΩøÁî® <code>micronaut.netty.event-loops</code> ËÆæÁΩÆÊù•ÈÖçÁΩÆ‰∏Ä‰∏™ÊàñÂ§ö‰∏™È¢ùÂ§ñ Event Loop</p>
<p>‰∏ãË°®‰∏≠ÊÄªÁªì‰∫ÜÂèØÁî®ÁöÑÂ±ûÊÄß</p>
<p>Table - Configuration Properties for <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/netty/channel/DefaultEventLoopGroupConfiguration.html" >DefaultEventLoopGroupConfiguration<i class="fas fa-external-link-alt"></i></a>:</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>micronaut.netty.event-loops.*.num-threads</code></td>
<td align="left"><code>int</code></td>
</tr>
<tr>
<td align="left"><code>micronaut.netty.event-loops.*.io-ratio</code></td>
<td align="left"><code>java.lang.Integer</code></td>
</tr>
<tr>
<td align="left"><code>micronaut.netty.event-loops.*.prefer-native-transport</code></td>
<td align="left"><code>boolean</code></td>
</tr>
<tr>
<td align="left"><code>micronaut.netty.event-loops.*.executor</code></td>
<td align="left"><code>java.lang.String</code></td>
</tr>
<tr>
<td align="left"><code>micronaut.netty.event-loops.*.shutdown-quiet-period</code></td>
<td align="left"><code>java.time.Duration</code></td>
</tr>
<tr>
<td align="left"><code>micronaut.netty.event-loops.*.shutdown-timeout</code></td>
<td align="left"><code>java.time.Duration</code></td>
</tr>
</tbody></table>
<p>‰æãÂ¶Ç, Â¶ÇÊûú‰Ω†‰∏é HTTP client ÁöÑ‰∫§‰∫íÊ∂âÂèäÂà∞ CPU ÂØÜÈõÜÂûãÂ∑•‰Ωú, ‰∏∫‰∏Ä‰∏™ÊàñÊâÄÊúâ client ÈÖçÁΩÆ‰∏Ä‰∏™ÂçïÁã¨ÁöÑ <code>EventLoopGroup</code> ÂèØËÉΩÊòØÂÄºÂæóÁöÑ</p>
<p>‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™È¢ùÂ§ñÁöÑ event loop group, ÂÆÉÁöÑÂêçÂ≠óÊòØ <code>other</code>, Êúâ 10 ‰∏™Á∫øÁ®ã:</p>
<p>Example - Configuring Additional Event Loops:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">netty:</span></span><br><span class="line">        <span class="attr">event-loops:</span></span><br><span class="line">            <span class="attr">other:</span></span><br><span class="line">                <span class="attr">num-threads:</span> <span class="number">10</span></span><br><span class="line">                <span class="attr">prefer-native-transport:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>‰∏ÄÊó¶È¢ùÂ§ñÁöÑ event loop group ÈÖçÁΩÆÂ•Ω‰∫Ü, Â∞±ÂèØ‰ª•‰øÆÊîπ‰∏Ä‰∏™ HTTP client ÁöÑÈÖçÁΩÆÊù•‰ΩøÁî®ÂÆÉ:</p>
<p>Example - Altering the Event Loop Group used by Clients:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">client:</span></span><br><span class="line">            <span class="attr">event-loop-group:</span> <span class="string">other</span></span><br></pre></td></tr></table></figure>

<h3 id="Error-Responses-ÈîôËØØÂìçÂ∫î"><a href="#Error-Responses-ÈîôËØØÂìçÂ∫î" class="headerlink" title="Error Responses (ÈîôËØØÂìçÂ∫î)"></a>Error Responses (ÈîôËØØÂìçÂ∫î)</h3><p>Â¶ÇÊûú‰∏Ä‰∏™ HTTP ÂìçÂ∫îËøîÂõû‰∏Ä‰∏™ 400 ‰ª£Á†ÅÊàñÊõ¥È´òÁöÑ‰ª£Á†Å, Â∞Ü‰ºöÂàõÂª∫‰∏Ä‰∏™ <code>HttpClientResponseException</code></p>
<p>Ëøô‰∏™ Exception ÂåÖÂê´‰∫ÜÂéüÂßãÁöÑÂìçÂ∫î</p>
<p>Ëøô‰∏™ Exception Â¶Ç‰ΩïÊäõÂá∫ÂèñÂÜ≥‰∫éÊñπÊ≥ïÁöÑËøîÂõûÂÄº</p>
<p>ÂØπ‰∫éÈòªÂ°ûÂºè client, Exception Ë¢´ÊäõÂá∫, Ë∞ÉÁî®ËÄÖË¶ÅÊçïÊçâÂπ∂Â§ÑÁêÜÂÆÉ</p>
<p>ÂØπ‰∫éÂìçÂ∫îÂºè client, Exception ‰Ωú‰∏∫‰∏Ä‰∏™ Error Âπ∂ÈÄöËøá <code>Publisher</code> ËøõË°å‰º†ÈÄí</p>
<h3 id="Bind-Errors-ÁªëÂÆöÈîôËØØ"><a href="#Bind-Errors-ÁªëÂÆöÈîôËØØ" class="headerlink" title="Bind Errors (ÁªëÂÆöÈîôËØØ)"></a>Bind Errors (ÁªëÂÆöÈîôËØØ)</h3><p>ÈÄöÂ∏∏‰Ω†ÊÉ≥Ê∂àË¥π‰∏Ä‰∏™ endpoint Âπ∂Âú®ËØ∑Ê±ÇÊàêÂäüÊó∂ÁªëÂÆöÂà∞‰∏Ä‰∏™ POJO ‰∏≠, Âú®Âá∫Áé∞ÈîôËØØÊó∂ÁªëÂÆöÂà∞Âè¶‰∏Ä‰∏™ POJO ‰∏≠:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span>(<span class="string">&#x27;/books&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(<span class="string">&#x27;/&#123;isbn&#125;&#x27;</span>)</span><br><span class="line">    HttpResponse find(String isbn) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isbn == <span class="string">&quot;1680502395&quot;</span>) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; m = [</span><br><span class="line">                <span class="attr">status  :</span> <span class="number">401</span>,</span><br><span class="line">                <span class="attr">error   :</span> <span class="string">&quot;Unauthorized&quot;</span>,</span><br><span class="line">                <span class="attr">message :</span> <span class="string">&quot;No message available&quot;</span>,</span><br><span class="line">                <span class="attr">path    :</span> <span class="string">&quot;/books/$isbn&quot;</span></span><br><span class="line">            ]</span><br><span class="line">            <span class="keyword">return</span> HttpResponse.status(HttpStatus.UNAUTHORIZED)</span><br><span class="line">                               .body(m)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> HttpResponse.ok(<span class="keyword">new</span> Book(<span class="string">&quot;1491950358&quot;</span>, <span class="string">&quot;Building Microservices&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="string">&quot;after an HttpClientException the response body can be bound to a POJO&quot;</span>() &#123;</span><br><span class="line">    <span class="symbol">when:</span></span><br><span class="line">    client.toBlocking()</span><br><span class="line">          .exchange(</span><br><span class="line">              HttpRequest.GET(<span class="string">&quot;/books/1680502395&quot;</span>),</span><br><span class="line">              Argument.of(Book),        <span class="comment">// Success Type</span></span><br><span class="line">              Argument.of(CustomError)  <span class="comment">// Error Type</span></span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    <span class="keyword">def</span> e = thrown(HttpClientResponseException)</span><br><span class="line">    e.response.status == HttpStatus.UNAUTHORIZED</span><br><span class="line"></span><br><span class="line">    <span class="symbol">when:</span></span><br><span class="line">    Optional&lt;CustomError&gt; jsonError = e.response.getBody(CustomError)</span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    jsonError.get().status == <span class="number">401</span></span><br><span class="line">    jsonError.get().error == <span class="string">&#x27;Unauthorized&#x27;</span></span><br><span class="line">    jsonError.get().message == <span class="string">&#x27;No message available&#x27;</span></span><br><span class="line">    jsonError.get().path == <span class="string">&#x27;/books/1680502395&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Proxying-Requests-with-ProxyHttpClient-‰ΩøÁî®-ProxyingHttpClient-Êù•‰ª£ÁêÜËØ∑Ê±Ç"><a href="#Proxying-Requests-with-ProxyHttpClient-‰ΩøÁî®-ProxyingHttpClient-Êù•‰ª£ÁêÜËØ∑Ê±Ç" class="headerlink" title="Proxying Requests with ProxyHttpClient (‰ΩøÁî® ProxyingHttpClient Êù•‰ª£ÁêÜËØ∑Ê±Ç)"></a>Proxying Requests with ProxyHttpClient (‰ΩøÁî® ProxyingHttpClient Êù•‰ª£ÁêÜËØ∑Ê±Ç)</h2><blockquote>
<p>A common requirement in Microservice environments is to proxy requests in a Gateway Microservice to other backend Microservices.</p>
</blockquote>
<p>ÂæÆÊúçÂä°ÁéØÂ¢É‰∏≠‰∏Ä‰∏™Â∏∏ËßÅË¶ÅÊ±ÇÊòØÂ∞ÜÁΩëÂÖ≥ÂæÆÊúçÂä°‰∏≠ÁöÑËØ∑Ê±Ç‰ª£ÁêÜÂÖ∂‰ªñÂêéÁ´ØÂæÆÊúçÂä°‰∏≠</p>
<p>ÊôÆÈÄöÁöÑ <code>HttpClient</code> API Ë¢´ËÆæËÆ°‰∏∫Âõ¥ÁªïÁÆÄÂåñÊ∂àÊÅØ‰∫§Êç¢, ‰∏çÊòØË¢´ËÆæËÆ°‰∏∫‰ª£ÁêÜËØ∑Ê±ÇÁöÑ</p>
<blockquote>
<p>For this case, use the ProxyHttpClient, which can be used from a HTTP Server Filter to proxy requests to backend Microservices.</p>
</blockquote>
<p>ÂØπ‰∫é‰ª£ÁêÜÁöÑÊÉÖÂÜµ, ‰ΩøÁî® <code>ProxyHttpClient</code>, ÂÆÉË¢´Áî®Êù•‰ªé HTTP Server ËøáÊª§Âô®‰∏≠‰ª£ÁêÜËØ∑Ê±ÇÂà∞ÂêéÁ´ØÂæÆÊúçÂä°</p>
<p>Example - Proxy filter that rewrites original requests - ÈáçÂÜô <code>/proxy</code> URI ‰∏∫ <code>/real</code> URI:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.core.async.publisher.Publishers</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.util.StringUtils</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.HttpRequest</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MutableHttpResponse</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Filter</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.ProxyHttpClient</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.filter.HttpServerFilter</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.filter.ServerFilterChain</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.uri.UriBuilder</span><br><span class="line"><span class="keyword">import</span> io.micronaut.runtime.server.EmbeddedServer</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"></span><br><span class="line"><span class="meta">@Filter</span>(<span class="string">&#x27;/proxy/**&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProxyFilter</span> <span class="keyword">implements</span> <span class="title class_">HttpServerFilter</span> &#123;     <span class="comment">// The filter extends HttpServerFilter</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ProxyHttpClient client</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> EmbeddedServer embeddedServer</span><br><span class="line"></span><br><span class="line">    ProxyFilter(ProxyHttpClient client,             <span class="comment">// The ProxyHttpClient is injected into the constructor</span></span><br><span class="line">                EmbeddedServer embeddedServer) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.client = client</span><br><span class="line">        <span class="variable language_">this</span>.embeddedServer = embeddedServer</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request,</span><br><span class="line">                                               ServerFilterChain chain) &#123;</span><br><span class="line">        Publisher.map(</span><br><span class="line">            client.proxy(                           <span class="comment">// The proxy method proxies the request</span></span><br><span class="line">                request.mutate()                    <span class="comment">// The request is mutated to modify the URI and include an additional header</span></span><br><span class="line">                       .uri &#123; UriBuilder b -&gt;       <span class="comment">// The UriBuilder API rewrites the URI</span></span><br><span class="line">                            b.with &#123;</span><br><span class="line">                                scheme(<span class="string">&quot;http&quot;</span>)</span><br><span class="line">                                host(embeddedServer.host)</span><br><span class="line">                                port(embeddedServer.port)</span><br><span class="line">                                replacePath(StringUtils.prependUri(</span><br><span class="line">                                    <span class="string">&quot;/real&quot;</span>,</span><br><span class="line">                                    request.path.substring(<span class="string">&quot;/proxy&quot;</span>.length())</span><br><span class="line">                                ))</span><br><span class="line">                            &#125;</span><br><span class="line">                       &#125;</span><br><span class="line">                       .header(<span class="string">&quot;X-My-Request-Header&quot;</span>, <span class="string">&quot;XXX&quot;</span>)    <span class="comment">// Additional request and response headers are included</span></span><br><span class="line">            ),</span><br><span class="line">            &#123; it.header(<span class="string">&quot;X-My-Response-Header&quot;</span>, <span class="string">&quot;YYY&quot;</span>) &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ProxyHttpClient</code> API ÊòØ‰∏Ä‰∏™‰ΩéÁ∫ßÂà´ API, ÂèØ‰ª•‰ΩøÁî®Êù•ÊûÑÂª∫‰∏Ä‰∏™È´òÁ∫ßÂà´ÁöÑÊäΩË±°, ‰æãÂ¶Ç‰∏Ä‰∏™ API ÁΩëÂÖ≥</p>
<h2 id="Declarative-HTTP-Clients-with-Client-‰ΩøÁî®-Client-ÁöÑÂ£∞ÊòéÂºè-HTTP-ÂÆ¢Êà∑Á´Ø"><a href="#Declarative-HTTP-Clients-with-Client-‰ΩøÁî®-Client-ÁöÑÂ£∞ÊòéÂºè-HTTP-ÂÆ¢Êà∑Á´Ø" class="headerlink" title="Declarative HTTP Clients with @Client (‰ΩøÁî® @Client ÁöÑÂ£∞ÊòéÂºè HTTP ÂÆ¢Êà∑Á´Ø)"></a>Declarative HTTP Clients with <code>@Client</code> (‰ΩøÁî® <code>@Client</code> ÁöÑÂ£∞ÊòéÂºè HTTP ÂÆ¢Êà∑Á´Ø)</h2><p>Êú¨Ë¥®‰∏äËØ¥, <code>@Client</code> Ê≥®Ëß£ÂèØ‰ª•Ë¢´Â£∞ÊòéÂú®‰ªª‰ΩïÊé•Âè£ÊàñÊäΩË±°Á±ª‰∏ä, ÈÄöËøá‰ΩøÁî® AOP, Âú®ÁºñËØëÊó∂ÂÆûÁé∞ÂÖ∂‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ï, ÊûÅÂ§ßÂú∞ÁÆÄÂåñ‰∫Ü HTTP Client ÁöÑÂàõÂª∫</p>
<p>È¶ñÂÖàÂ£∞Êòé‰∏Ä‰∏™ POJO:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    String name</span><br><span class="line">    <span class="type">int</span> age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ÁÑ∂ÂêéÂ£∞Êòé‰∏Ä‰∏™Êé•Âè£Êù•‰øùÂ≠ò <code>Pet</code> ÂÆû‰æã:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Post</span><br><span class="line"><span class="keyword">import</span> io.micronaut.validation.Validated</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.async.annotation.SingleResult</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotBlank</span><br><span class="line"></span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PetOperations</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Post</span></span><br><span class="line">    <span class="meta">@SingleResult</span></span><br><span class="line">    Publisher&lt;Pet&gt; save(<span class="meta">@NotBlank</span> String name,</span><br><span class="line">                        <span class="meta">@Min</span>(<span class="number">1</span>L) <span class="type">int</span> age)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Ê≥®ÊÑèËøô‰∏™Êé•Âè£Â¶Ç‰Ωï‰ΩøÁî® Micronaut ÁöÑ HTTP Ê≥®Ëß£, Ëøô‰∫õÊ≥®Ëß£ÂèØ‰ª•Âú®ÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´Ø‰∏≠‰ΩøÁî®</p>
<p>‰Ω†ËøòÂèØ‰ª•‰ΩøÁî® <code>javax.validation</code> Á∫¶ÊùüÊù•Ê†°È™åÂèÇÊï∞</p>
<p>Ê≥®ÊÑèÊúâ‰∫õÊ≥®Ëß£, ‰æãÂ¶Ç <code>@Produces</code> Âíå <code>@Consumes</code>, Âú®ÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÊúâ‰∏çÂêåÁöÑËØ≠‰πâ<br>‰æãÂ¶Ç, <code>@Produces</code> Âú®ÊúçÂä°Á´Ø‰ΩúÁî®‰∫é‰∏Ä‰∏™ Controller ÊñπÊ≥ï‰∏äÊó∂ÊåáÊòéËøô‰∏™ÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊòØÂ¶Ç‰ΩïÊ†ºÂºèÂåñÁöÑ<br>ÂΩì <code>@Produces</code> Âú®ÂÆ¢Êà∑Á´ØÊó∂ÊåáÊòéÊñπÊ≥ïÂèÇÊï∞ÊòØÂ¶Ç‰ΩïÊ†ºÂºèÂåñÂêéÂú®ÂèëÈÄÅÁªôÊúçÂä°Á´Ø</p>
<p>Èô§Ê≠§‰πãÂ§ñ, Ë¶Å‰ΩøÁî® <code>javax.validation</code> ÂäüËÉΩ, Ê∑ªÂä† <code>validation</code> Ê®°ÂùóÂà∞‰Ω†ÁöÑÊûÑÂª∫‰∏≠:</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation(<span class="string">&quot;io.micronaut:micronaut-validation&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Âú®ÊúçÂä°Á´ØÁöÑ Micronaut ‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>PetOperations</code> Êé•Âè£:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Controller</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.async.annotation.SingleResult</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Mono</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span>(<span class="string">&#x27;/pets&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PetController</span> <span class="keyword">implements</span> <span class="title class_">PetOperations</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SingleResult</span></span><br><span class="line">    Publisher&lt;Pet&gt; save(String name, <span class="type">int</span> age) &#123;</span><br><span class="line">        Pet pet = <span class="keyword">new</span> Pet(<span class="attr">name:</span> name, <span class="attr">age:</span> age)</span><br><span class="line">        <span class="comment">// save to database or something</span></span><br><span class="line">        <span class="keyword">return</span> Mono.just(pet)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>‰Ω†ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™Â£∞ÊòéÂºè client Âú® <code>src/test/java</code> ÂåÖ‰∏≠, ‰ΩøÁî® <code>@Client</code> Ê≥®Ëß£Êù•‰øÆÈ•∞Ëøô‰∏™ client ‰ª•‰ΩøÂÖ∂Âú®ÁºñËØëÊó∂Ëá™Âä®ÂÆûÁé∞:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.client.annotation.Client</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.async.annotation.SingleResult</span><br><span class="line"></span><br><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/pets&#x27;</span>)    <span class="comment">// The Client annotation is used with a value relative to the current server, in this case /pets</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PetClient</span> <span class="keyword">extends</span> <span class="title class_">PetOperations</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SingleResult</span></span><br><span class="line">    Publisher&lt;Pet&gt; save(String name, <span class="type">int</span> age)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>‰∏ÄÊó¶‰Ω†ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ client, ‰Ω†Â∞±ÂèØ‰ª•Âú®‰ªª‰ΩïÈúÄË¶ÅÁöÑÂú∞Êñπ‰ΩøÁî® <code>@Inject</code> Ê≥®Ëß£Êù•‰ΩøÁî®ÂÆÉ</p>
<p>‰∏ãÈù¢ÁöÑË°®Ê†ºÂ±ïÁ§∫‰∫Ü <code>@Client</code> Ê≥®Ëß£ÁöÑÊñπÊ≥ïÁöÑËøîÂõûÂÄºÁ±ªÂûã:</p>
<p>Table - Micronaut Response Types:</p>
<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Description</th>
<th align="left">Example Signature</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Publisher</code></td>
<td align="left">Any type that implements the <code>Publisher</code> interface</td>
<td align="left"><code>Flux&lt;String&gt; hello()</code></td>
</tr>
<tr>
<td align="left"><code>HttpResponse</code></td>
<td align="left">An <code>HttpResponse</code> and optional response body type</td>
<td align="left"><code>Mono&lt;HttpResponse&lt;String&gt;&gt; hello()</code></td>
</tr>
<tr>
<td align="left"><code>Publisher</code></td>
<td align="left">A <code>Publisher</code> implementation that emits a POJO</td>
<td align="left"><code>Mono&lt;Book&gt; hello()</code></td>
</tr>
<tr>
<td align="left"><code>CompletableFuture</code></td>
<td align="left">A Java <code>CompletableFuture</code> instance</td>
<td align="left"><code>CompletableFuture&lt;String&gt; hello()</code></td>
</tr>
<tr>
<td align="left"><code>CharSequence</code></td>
<td align="left">A blocking native type. Such as <code>String</code></td>
<td align="left"><code>String hello()</code></td>
</tr>
<tr>
<td align="left"><code>T</code></td>
<td align="left">Any simple POJO type</td>
<td align="left"><code>Book show()</code></td>
</tr>
</tbody></table>
<blockquote>
<p>Note that returning any other type results in a blocking request and is not recommended other than for testing.</p>
</blockquote>
<p>ËØ∑Ê≥®ÊÑè, ËøîÂõû‰ªª‰ΩïÂÖ∂‰ªñÁ±ªÂûã‰ºöÂØºËá¥ÈòªÂ°ûËØ∑Ê±Ç, Âπ∂‰∏î‰∏çÂª∫ËÆÆÁî®‰∫éÊµãËØï‰ª•Â§ñÁöÑÂÖ∂‰ªñÁ±ªÂûã</p>
<h3 id="Customizing-Parameters-Binding-Ëá™ÂÆö‰πâÂèÇÊï∞ÁªëÂÆö"><a href="#Customizing-Parameters-Binding-Ëá™ÂÆö‰πâÂèÇÊï∞ÁªëÂÆö" class="headerlink" title="Customizing Parameters Binding (Ëá™ÂÆö‰πâÂèÇÊï∞ÁªëÂÆö)"></a>Customizing Parameters Binding (Ëá™ÂÆö‰πâÂèÇÊï∞ÁªëÂÆö)</h3><p>‰ΩøÁî®ÊñπÊ≥ïÂèÇÊï∞Êù•Ë°®Á§∫ <code>POST</code> ËØ∑Ê±ÇÁöÑ body:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Post</span></span><br><span class="line"><span class="meta">@SingleResult</span></span><br><span class="line">Publisher&lt;Pet&gt; save(<span class="meta">@NotBlank</span> String name,</span><br><span class="line">                    <span class="meta">@Min</span>(<span class="number">1</span>L) <span class="type">int</span> age)</span><br></pre></td></tr></table></figure>

<p><code>save</code> ÊñπÊ≥ïÈªòËÆ§‰ΩøÁî®Â¶Ç‰∏ã JSON ÊâßË°å‰∏Ä‰∏™ HTTP <code>POST</code> ËØ∑Ê±Ç:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Dino&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">10</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>‰ΩÜÊòØ, ‰Ω†ÂèØËÉΩÂ∏åÊúõËá™ÂÆö‰πâ‰Ωú‰∏∫Ê≠£Êñá, ÂèÇÊï∞, URIÂèòÈáèÁ≠âÂèëÈÄÅÁöÑÂÜÖÂÆπ</p>
<p><code>@Client</code> Ê≥®Ëß£Âú®ËøôÊñπÊ≥ïÈùûÂ∏∏ÁÅµÊ¥ª, ÊîØÊåÅ‰∏é Micronaut ÁöÑ HTTP server Áõ∏ÂêåÁöÑ <code>io.micronaut.http.annotation</code></p>
<p>Example - ÂÆö‰πâ‰∏Ä‰∏™ URIÊ®°Êùø, <code>name</code> ÂèÇÊï∞‰Ωú‰∏∫ URIÊ®°Êùø ÁöÑ‰∏ÄÈÉ®ÂàÜ ËÄå <code>@Body</code> Â£∞ÊòéÂèëÈÄÅÁªô server ÁöÑÂÜÖÂÆπ, Êúâ <code>Pet</code> POJO Ë°®Á§∫:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Post</span>(<span class="string">&#x27;/&#123;name&#125;&#x27;</span>)</span><br><span class="line">Mono&lt;Pet&gt; save(</span><br><span class="line">    <span class="meta">@NotBlank</span> String name,  <span class="comment">// 1</span></span><br><span class="line">    <span class="meta">@Body</span> <span class="meta">@Valid</span> Pet pet    <span class="comment">// 2</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The name parameter, included as part of the URI, and declared <code>@NotBlank</code></p>
<p><code>2</code> : The <code>pet</code> parameter, used to encode the body and declared <code>@Valid</code></p>
<p>Table - Parameter Binding Annotations:</p>
<table>
<thead>
<tr>
<th align="left">Annotation</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>@Body</code></td>
<td align="left">Specific the parameter for the body of the request</td>
<td align="left"><code>@Body String body</code></td>
</tr>
<tr>
<td align="left"><code>@CookieValue</code></td>
<td align="left">Specific parameters to be sent as cookies</td>
<td align="left"><code>@CookieValue</code> String myCookie</td>
</tr>
<tr>
<td align="left"><code>@Header</code></td>
<td align="left">Specific parameters to be sent as HTTP headers</td>
<td align="left"><code>@Header String requestId</code></td>
</tr>
<tr>
<td align="left"><code>@QueryValue</code></td>
<td align="left">Customizes the name of the URI parameter to bind from</td>
<td align="left"><code>@QueryValue(&quot;userAge&quot;) Integer age</code></td>
</tr>
<tr>
<td align="left"><code>@PathVariable</code></td>
<td align="left">Binds a parameter exclusively from a <code>Path Variable</code></td>
<td align="left"><code>@PathVariable Long id</code></td>
</tr>
<tr>
<td align="left"><code>@RequestAttribute</code></td>
<td align="left">Specific parameters to be set as request attributes</td>
<td align="left"><code>@RequestAttribute Integer locationId</code></td>
</tr>
</tbody></table>
<p>ÂßãÁªà‰ΩøÁî® <code>@Produces</code> Êàñ <code>@Consumes</code>, ËÄå‰∏çÊòØÊèê‰æõ‰∏Ä‰∏™ <code>Content-Type</code> Êàñ <code>Accept</code> ÁöÑ header</p>
<h4 id="Query-values-formatting-ËØ∑Ê±ÇÂÄºÊ†ºÂºèÂåñ"><a href="#Query-values-formatting-ËØ∑Ê±ÇÂÄºÊ†ºÂºèÂåñ" class="headerlink" title="Query values formatting (ËØ∑Ê±ÇÂÄºÊ†ºÂºèÂåñ)"></a>Query values formatting (ËØ∑Ê±ÇÂÄºÊ†ºÂºèÂåñ)</h4><p><code>@Format</code> Ê≥®Ëß£ÂèØ‰ª•Âíå <code>@QueryValue</code> Ê≥®Ëß£‰∏ÄËµ∑‰ΩøÁî®Êù•Ê†ºÂºèÂåñ query values</p>
<p>ÊîØÊåÅÁöÑ values ÊòØ: <code>csv</code>, <code>ssv</code>, <code>pipes</code>, <code>multi</code>, <code>deep-object</code>. Âíå <a class="link"   target="_blank" rel="noopener" href="https://swagger.io/docs/specification/serialization/" >Open API v3<i class="fas fa-external-link-alt"></i></a> ËØ∑Ê±ÇÂèÇÊï∞ÁöÑ <code>style</code> Â±ûÊÄßÁõ∏‰ºº</p>
<p>Ê†ºÂºèÂåñÂè™ËÉΩÂ∫îÁî®‰∫é <code>java.lang.Iterable</code>, <code>java.util.Map</code>, ‰ΩøÁî®‰∫Ü <code>@Introspected</code> Ê≥®Ëß£ÁöÑ POJO</p>
<p>Table - ‰∏çÂêåÂÄº‰ºöÊÄéÊ†∑Ë¢´Ê†ºÂºèÂåñ:</p>
<table>
<thead>
<tr>
<th align="left">Format</th>
<th align="left">Iterable example</th>
<th align="left">Map or POJO example</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Original value</td>
<td align="left">[‚ÄúMike‚Äù, ‚ÄúAdam‚Äù, ‚ÄúKate‚Äù]</td>
<td align="left">{‚Äúname‚Äù: ‚ÄúMike‚Äù, ‚Äúage‚Äù: 30}</td>
</tr>
<tr>
<td align="left">‚ÄúCSV‚Äù</td>
<td align="left">‚Äúparam&#x3D;Mike,Adam,Kate‚Äù</td>
<td align="left">‚Äúparam&#x3D;name,Mike,age,30‚Äù</td>
</tr>
<tr>
<td align="left">‚ÄúSSV‚Äù</td>
<td align="left">‚Äúparam&#x3D;Mike Adam Kate‚Äù</td>
<td align="left">‚Äúparam&#x3D;name Mike age 30‚Äù</td>
</tr>
<tr>
<td align="left">‚ÄúPIPES‚Äù</td>
<td align="left">‚Äúparam&#x3D;Mike</td>
<td align="left">Adam</td>
</tr>
<tr>
<td align="left">‚ÄúMULTI‚Äù</td>
<td align="left">‚Äúparam&#x3D;Mike&amp;param&#x3D;Adam&amp;param&#x3D;Kate‚Äù</td>
<td align="left">‚Äúname&#x3D;Mike&amp;age&#x3D;30‚Äù</td>
</tr>
<tr>
<td align="left">‚ÄúDEEP_OBJECT</td>
<td align="left">‚Äúparam[0]&#x3D;Mike&amp;param[1]&#x3D;Adam&amp;param[2]&#x3D;Kate‚Äù</td>
<td align="left">‚Äúparam[name]&#x3D;Mike&amp;param[age]&#x3D;30‚Äù</td>
</tr>
</tbody></table>
<h5 id="Type-Based-Binding-Parameters-Âü∫‰∫éÁ±ªÂûãÁöÑÂèÇÊï∞ÁªëÂÆö"><a href="#Type-Based-Binding-Parameters-Âü∫‰∫éÁ±ªÂûãÁöÑÂèÇÊï∞ÁªëÂÆö" class="headerlink" title="Type-Based Binding Parameters (Âü∫‰∫éÁ±ªÂûãÁöÑÂèÇÊï∞ÁªëÂÆö)"></a>Type-Based Binding Parameters (Âü∫‰∫éÁ±ªÂûãÁöÑÂèÇÊï∞ÁªëÂÆö)</h5><p>Êúâ‰∏Ä‰∫õÂèÇÊï∞ÈÄöËøáÂÆÉ‰ª¨ÁöÑÁ±ªÂûãËÄå‰∏çÊòØÂÆÉ‰ª¨ÁöÑÊ≥®Ëß£Êù•ËØÜÂà´</p>
<p>Table - Parameter types and their purpose:</p>
<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>BasicAuth</code></td>
<td align="left">Sets the <code>Authorization</code> header</td>
<td align="left"><code>BasicAuth basicAuth</code></td>
</tr>
<tr>
<td align="left"><code>HttpHeaders</code></td>
<td align="left">Adds multiple headers to the request</td>
<td align="left"><code>HttpHeaders headers</code></td>
</tr>
<tr>
<td align="left"><code>Cookies</code></td>
<td align="left">Adds multiple cookies to the request</td>
<td align="left"><code>Cookies cookie</code></td>
</tr>
<tr>
<td align="left"><code>Cookie</code></td>
<td align="left">Adds a cookie to the request</td>
<td align="left"><code>Cookie cookie</code></td>
</tr>
<tr>
<td align="left"><code>Locale</code></td>
<td align="left">Sets the <code>Accept-Language</code> header. Annotate with <code>@QueryValue</code> or <code>@PathVariable</code> to populate a URI variable</td>
<td align="left"><code>Locale locale</code></td>
</tr>
</tbody></table>
<h5 id="Custom-Binding-Ëá™ÂÆö‰πâÁªëÂÆö"><a href="#Custom-Binding-Ëá™ÂÆö‰πâÁªëÂÆö" class="headerlink" title="Custom Binding (Ëá™ÂÆö‰πâÁªëÂÆö)"></a>Custom Binding (Ëá™ÂÆö‰πâÁªëÂÆö)</h5><p><code>ClientArgumentRequestBinder</code> API ÁªëÂÆö client ÂèÇÊï∞Âà∞ËØ∑Ê±Ç‰∏≠</p>
<p>Âú®ÁªëÂÆöÂ§ÑÁêÜÊó∂Ëá™Âä®‰ΩøÁî®‰Ωú‰∏∫‰∏Ä‰∏™ Bean ËøõË°åÊ≥®ÂÜåÁöÑËá™ÂÆö‰πâÁªëÂÆöÁ±ª</p>
<p>Â∞Ü‰ºö‰ºòÂÖàÊêúÁ¥¢Âü∫‰∫éÊ≥®Ëß£ÁªëÂÆöÂô®, ÂÖ∂Ê¨°ÊêúÁ¥¢Âü∫‰∫éÁ±ªÂûãÁöÑÁªëÂÆöÂô®</p>
<h6 id="Binding-By-Annotation-ÈÄöËøáÊ≥®Ëß£ËøõË°åÁªëÂÆö"><a href="#Binding-By-Annotation-ÈÄöËøáÊ≥®Ëß£ËøõË°åÁªëÂÆö" class="headerlink" title="Binding By Annotation (ÈÄöËøáÊ≥®Ëß£ËøõË°åÁªëÂÆö)"></a>Binding By Annotation (ÈÄöËøáÊ≥®Ëß£ËøõË°åÁªëÂÆö)</h6><p>Ë¶ÅÊ†πÊçÆÂèÇÊï∞‰∏äÁöÑÊ≥®Ëß£ÊéßÂà∂ÂèÇÊï∞Â¶Ç‰ΩïÁªëÂÆöÂà∞ËØ∑Ê±Ç‰∏ä, ËØ∑ÂàõÂª∫ <code>AnnotatedClientArgumentRequestBinder</code> Á±ªÂûãÁöÑ Bean</p>
<p>ÊâÄÊúâÁöÑÊ≥®Ëß£ÈÉΩÂøÖÈ°ª‰ΩøÁî® <code>@Bindable</code> Ê≥®Ëß£ËøõË°å‰øÆÈ•∞</p>
<p>Example - Client with <code>@Metadata</code> Argument:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">MetadataClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(<span class="string">&#x27;/client/bind&#x27;</span>)</span><br><span class="line">    String get(<span class="meta">@Metadata</span> Map metadata)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example - <code>@Metadata</code> Annotation:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.core.bind.annotation.Bindable</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Documented</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.PARAMETER</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.RetentionPolicy.RUNTIME</span><br><span class="line"></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention</span>(RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(PARAMETER)</span><br><span class="line"><span class="meta">@Bindable</span></span><br><span class="line"><span class="meta">@interface</span> Metadata &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïÈ¢ùÂ§ñÁöÑ‰ª£Á†Å, client Â∞Ü‰ºöÂ∞ùËØïÂ∞ÜËΩ¨Êç¢ <code>metadata</code> ‰∏∫Â≠óÁ¨¶‰∏≤Âπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫‰∏Ä‰∏™ query parameter ËøõË°åÈôÑÂä†</p>
<p>Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠, ËøôÂπ∂‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûú, ÊâÄ‰ª•Ë¶ÅËá™ÂÆö‰πâ‰∏Ä‰∏™ binder</p>
<p>‰∏ãÈù¢ÁöÑ binder Â§ÑÁêÜ‰º†ÈÄíÁªô clients ÁöÑ‰ΩøÁî®‰∫Ü <code>@Metadata</code> Ê≥®Ëß£‰øÆÈ•∞ÂèÇÊï∞, ÁÑ∂Âêé‰øÆÊîπËØ∑Ê±ÇÊù•ÂåÖÂê´‰∏Ä‰∏™ÊÉ≥Ë¶ÅÁöÑ header.</p>
<p>binder ÂÆûÁé∞ÂèØ‰ª•‰øÆÊîπ‰∏∫Êé•Êî∂Èô§ Map ‰πãÂ§ñÁöÑÊõ¥Â§öÁ±ªÂûãÁöÑÊï∞ÊçÆ</p>
<p>Example - Annotation Argument Binder:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.core.annotation.NonNull</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.convert.ArgumentConversionContext</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.naming.NameUtils</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.util.StringUtils</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MutableHttpRequest</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.bind.AnnotatedClientArgumentRequestBinder</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.bind.ClientRequestUriContext</span><br><span class="line"><span class="keyword">import</span> org.jetbrains.annotation.NotNull</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.inject.Singleton</span><br><span class="line"></span><br><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MetadataClientArgumentBinder</span> <span class="keyword">implements</span> <span class="title class_">AnnotatedClientArgumentRequestBinder</span>&lt;Metadata&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> Class&lt;Metadata&gt; annotationType = Metadata</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">void</span> bind(<span class="meta">@NotNull</span> ArgumentConversionContext&lt;Object&gt; context,</span><br><span class="line">              <span class="meta">@NotNull</span> ClientRequestUriContext uriContext,</span><br><span class="line">              <span class="meta">@NotNull</span> Object value,</span><br><span class="line">              <span class="meta">@NotNull</span> MutableHttpRequest&lt;?&gt; request) &#123;</span><br><span class="line">        if (value instanceof Map) &#123;</span><br><span class="line">            for (entry in value.entrySet()) &#123;</span><br><span class="line">                String key = NameUtils.hyphenate(StringUtils.capitalize(entry.key as String), false)</span><br><span class="line">                request.header(<span class="string">&quot;X-Metadata-$key&quot;</span>, entry.value as String)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="Binding-By-Type-ÈÄöËøáÁ±ªÂûãËøõË°åÁªëÂÆö"><a href="#Binding-By-Type-ÈÄöËøáÁ±ªÂûãËøõË°åÁªëÂÆö" class="headerlink" title="Binding By Type (ÈÄöËøáÁ±ªÂûãËøõË°åÁªëÂÆö)"></a>Binding By Type (ÈÄöËøáÁ±ªÂûãËøõË°åÁªëÂÆö)</h6><p>‰∏∫‰∫ÜÊ†πÊçÆÂèÇÊï∞ÁöÑÁ±ªÂûãÁªëÂÆöÂà∞ËØ∑Ê±Ç, ÂàõÂª∫‰∏Ä‰∏™Á±ªÂûã‰∏∫ <code>TypedClientArgumentRequestBinder</code> ÁöÑ Bean</p>
<p>Example - Client With Metadata Argument:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">MetadataClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(<span class="string">&#x27;/client/bind&#x27;</span>)</span><br><span class="line">    String get(Metadata metadata)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïÈ¢ùÂ§ñÁöÑ‰ª£Á†Å, client Â∞Ü‰ºöÂ∞ùËØïÂ∞ÜËΩ¨Êç¢ <code>metadata</code> ‰∏∫Â≠óÁ¨¶‰∏≤Âπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫‰∏Ä‰∏™ query parameter ËøõË°åÈôÑÂä†</p>
<p>Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠, ËøôÂπ∂‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûú, ÊâÄ‰ª•Ë¶ÅËá™ÂÆö‰πâ‰∏Ä‰∏™ binder</p>
<p>‰∏ãÈù¢‰æãÂ≠ê‰∏≠ÁöÑ binder Â§ÑÁêÜÁ±ªÂûã‰∏∫ <code>Metadata</code> ÁöÑ‰º†ÈÄíÁªô client ÁöÑÂèÇÊï∞, Âπ∂‰øÆÊîπËØ∑Ê±Ç‰∏∫ÂåÖÂê´ÊÉ≥Ë¶ÅÁöÑ header:</p>
<p>Example - Typed Argument Binder:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.core.annotation.NonNull</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.convert.ArgumentConversionContext</span><br><span class="line"><span class="keyword">import</span> io.micronaut.core.type.Argument</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MutableHttpRequest</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.bind.ClientRequestUriContext</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.bind.TypedClientArgumentRequestBinder</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.inject.Singleton</span><br><span class="line"></span><br><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MetadataClientArgumentBinder</span> <span class="keyword">implements</span> <span class="title class_">TypedClientArgumentRequestBinder</span>&lt;Metadata&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    Argument&lt;Metadata&gt; argumentType() &#123; Argument.of(Metadata) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">void</span> bind(<span class="meta">@NonNull</span> ArgumentConversionContext&lt;Metadata&gt; context,</span><br><span class="line">              <span class="meta">@NonNull</span> ClientRequestUriContext uriContext,</span><br><span class="line">              <span class="meta">@NonNull</span> Metadata value,</span><br><span class="line">              <span class="meta">@NonNull</span> MutableHttpRequest&lt;?&gt; request) &#123;</span><br><span class="line">        request.header(<span class="string">&quot;X-Metadata-Version&quot;</span>, value.version.toString())</span><br><span class="line">        request.header(<span class="string">&quot;X-Metadata-Deployment-Id&quot;</span>, value.deploymentId.toString())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Binding-On-Method-Âú®ÊñπÊ≥ï‰∏äËøõË°åÁªëÂÆö"><a href="#Binding-On-Method-Âú®ÊñπÊ≥ï‰∏äËøõË°åÁªëÂÆö" class="headerlink" title="Binding On Method (Âú®ÊñπÊ≥ï‰∏äËøõË°åÁªëÂÆö)"></a>Binding On Method (Âú®ÊñπÊ≥ï‰∏äËøõË°åÁªëÂÆö)</h5><p>‰πüÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ binder, ÈÄöËøáÊñπÊ≥ï‰∏äÁöÑËØ∑Ê±ÇÊ≥®Ëß£Êù•Êõ¥ÊîπËØ∑Ê±Ç</p>
<p>Example - Client With Annotated Method:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">NameAuthorizedClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(<span class="string">&#x27;/client/authorized-resource&#x27;</span>)</span><br><span class="line">    <span class="meta">@NameAuthorization</span>(name = <span class="string">&#x27;Bo&#x27;</span>)</span><br><span class="line">    String get()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example - <code>@NameAuthorization</code> Annotation Definition:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention</span>(RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>(METHOD)</span><br><span class="line"><span class="meta">@Bindable</span></span><br><span class="line"><span class="meta">@interface</span> NameAuthorization &#123;</span><br><span class="line">    <span class="meta">@AliasFor</span>(member = <span class="string">&quot;name&quot;</span>)</span><br><span class="line">    String value() <span class="keyword">default</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@AliasFor</span>(member = <span class="string">&quot;value&quot;</span>)</span><br><span class="line">    String name() <span class="keyword">default</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example - Specific the behaviour:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NameAuthorizationBinder</span> <span class="keyword">implements</span> <span class="title class_">AnnotatedClientRequestBinder</span>&lt;NameAuthorization&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Class&lt;NameAuthorization&gt; getAnnotationType() &#123; NameAuthorization.<span class="keyword">class</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">void</span> bind(</span><br><span class="line">        <span class="meta">@NonNull</span> MethodInvocationContext&lt;Object, Object&gt; context,</span><br><span class="line">        <span class="meta">@NonNull</span> ClientResponseUriContext uriContext,</span><br><span class="line">        <span class="meta">@NonNull</span> MutableHttpRequest&lt;?&gt; request</span><br><span class="line">    ) &#123;</span><br><span class="line">        context.getValue(NameAuthorization.class)</span><br><span class="line">               .ifPresent(name -&gt; uriContext.addQueryParameter(<span class="string">&quot;name&quot;</span>, String.valueOf(name)))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Streaming-with-Client-‰ΩøÁî®-Client-ËøõË°åÊµÅÂºèÂ§ÑÁêÜ"><a href="#Streaming-with-Client-‰ΩøÁî®-Client-ËøõË°åÊµÅÂºèÂ§ÑÁêÜ" class="headerlink" title="Streaming with @Client (‰ΩøÁî® @Client ËøõË°åÊµÅÂºèÂ§ÑÁêÜ)"></a>Streaming with <code>@Client</code> (‰ΩøÁî® <code>@Client</code> ËøõË°åÊµÅÂºèÂ§ÑÁêÜ)</h3><p><code>@Client</code> Ê≥®Ëß£ËøòÂèØ‰ª•Â§ÑÁêÜÊµÅÂºè HTTP ÂìçÂ∫î</p>
<h4 id="Streaming-JSON-with-Client-‰ΩøÁî®-Client-ËøõË°å-JSON-ÊµÅÂºèÂ§ÑÁêÜ"><a href="#Streaming-JSON-with-Client-‰ΩøÁî®-Client-ËøõË°å-JSON-ÊµÅÂºèÂ§ÑÁêÜ" class="headerlink" title="Streaming JSON with @Client (‰ΩøÁî® @Client ËøõË°å JSON ÊµÅÂºèÂ§ÑÁêÜ)"></a>Streaming JSON with <code>@Client</code> (‰ΩøÁî® <code>@Client</code> ËøõË°å JSON ÊµÅÂºèÂ§ÑÁêÜ)</h4><p>ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ client Êù•ËøîÂõû‰∏Ä‰∏™Êó†ÁïåÁöÑ <code>Publisher</code>, ‰æãÂ¶Ç Reactor ÁöÑ <code>Flux</code> Êàñ RxJava ÁöÑ <code>Flowable</code></p>
<p>Example:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Get</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.annotation.Client</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.micronaut.http.MediaType.APPLICATION_JSON_STREAM</span><br><span class="line"></span><br><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/streaming&#x27;</span>)</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">HeadlineClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(value = <span class="string">&#x27;/headlines&#x27;</span>, processes = APPLICATION_JSON_STREAM)     <span class="comment">// 1</span></span><br><span class="line">    Publisher&lt;Headline&gt; streamHeadlines()                               <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The <code>@Get</code> method processes responses of type <code>APPLICATION_JSON_STREAM</code></p>
<p><code>2</code> : The return type is <code>Publisher</code></p>
<p>Example - Test - Streaming HeadlineClient:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="string">&quot;test client annotation streaming&quot;</span>() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="symbol">when:</span></span><br><span class="line">    <span class="keyword">def</span> headlineClient = embeddedServer.applicationContext</span><br><span class="line">                                       .getBean(HeadlineClient)</span><br><span class="line"></span><br><span class="line">    Mono&lt;Headline&gt; firstHeadline = Mono.from(headlineClient.streamHeadlines())</span><br><span class="line"></span><br><span class="line">    Headline headline = firstHeadline.block()</span><br><span class="line"></span><br><span class="line">    <span class="symbol">then:</span></span><br><span class="line">    headline</span><br><span class="line">    headline.text.startsWith(<span class="string">&quot;Latest Headline&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Streaming-Clients-and-Response-Types-ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåÂìçÂ∫îÁ±ªÂûã"><a href="#Streaming-Clients-and-Response-Types-ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåÂìçÂ∫îÁ±ªÂûã" class="headerlink" title="Streaming Clients and Response Types (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåÂìçÂ∫îÁ±ªÂûã)"></a>Streaming Clients and Response Types (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåÂìçÂ∫îÁ±ªÂûã)</h4><p>Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠, ÊòØÊúüÊúõ server ËøîÂõû‰∏Ä‰∏™ JSON ÂØπË±°ÊµÅÁöÑ, Âπ∂‰∏î Content-Type ‰∏∫ <code>applicatoin/x-json-stream</code>, ‰æãÂ¶Ç:</p>
<p>Example - A JSON Stream:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The Stand&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The Shining&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>‰∏ÄÁ≥ªÂàó JSON ÂØπË±°ÂÆûÈôÖ‰∏ä‰∏çÊòØÊúâÊïàÁöÑ JSON, Âõ†Ê≠§ÂìçÂ∫îÁöÑ Content-Type ‰∏çËÉΩÊòØ <code>application/json</code></p>
<p>ÊúâÊïàÁöÑ JSON ËøîÂõûÂ∫îËØ•ÊòØËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑ:</p>
<p>Example - A JSON Array:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The Stand&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;The Shining&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>ÁÑ∂ËÄå, Micronuat ÁöÑÂÆ¢Êà∑Á´ØÁ°ÆÂÆûÊîØÊåÅÈÄöËøá <code>application/x-json-stream</code> ‰º†ËæìÂçï‰∏™ JSON ÂØπË±°‰ª•Âèä‰ΩøÁî® <code>application/json</code> ÂÆö‰πâÁöÑ JSON Êï∞ÁªÑ</p>
<p>Â¶ÇÊûú server ËøîÂõû <code>application/json</code> ‰∏îËøîÂõû‰∏Ä‰∏™ non-single <code>Publisher</code>, client Âú®Êï∞ÁªÑÂÖÉÁ¥†ÂèØÁî®Êó∂ÂØπÂÖ∂ËøõË°åÊµÅÂºè‰º†Ëæì</p>
<h4 id="Streaming-Clients-and-Read-Timeout-ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåËØªÂèñË∂ÖÊó∂"><a href="#Streaming-Clients-and-Read-Timeout-ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåËØªÂèñË∂ÖÊó∂" class="headerlink" title="Streaming Clients and Read Timeout (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåËØªÂèñË∂ÖÊó∂)"></a>Streaming Clients and Read Timeout (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåËØªÂèñË∂ÖÊó∂)</h4><p>ÂΩìÊµÅÂºè‰º†ËæìÊù•Ëá™ÊúçÂä°Âô®ÁöÑÂìçÂ∫îÊó∂, Â∫ïÂ±ÇÁöÑ HTTP client ‰∏ç‰ºöÂ∫îÁî®ÈªòËÆ§ÁöÑ <code>HttpClientConfiguration</code> ‰∏≠ÁöÑ <code>readTimeout</code> ËÆæÁΩÆ, Âõ†‰∏∫ÊµÅÂºèÂìçÂ∫îÁöÑËØªÂèñ‰πãÈó¥ÁöÑÂª∂ËøüÂèØËÉΩ‰∏éÊ≠£Â∏∏ÁöÑËØªÂèñ‰∏çÂêå</p>
<p>‰Ωú‰∏∫‰ª£Êõø, <code>read-idle-timeout</code> ËÆæÁΩÆ(ÈªòËÆ§‰∏∫ 5 ÂàÜÈíü) ÊåáÊòé‰∫ÜÂú®‰∏Ä‰∏™ËøûÊé•Á©∫Èó≤‰πãÂêé‰ªÄ‰πàÊó∂ÂÄôËøõË°åÂÖ≥Èó≠</p>
<p>Â¶ÇÊûú‰Ω†‰ªé server ÊµÅÂºè‰º†ËæìÊï∞ÊçÆ, ÊØè‰∏™Êï∞ÊçÆ‰πãÈó¥ÂÆö‰πâ‰∫ÜË∂ÖËøá 5 ÂàÜÈíüÁöÑÂª∂Ëøü, ÈÇ£‰πà‰Ω†ÂèØ‰ª•Ë∞ÉÊï¥ <code>readIdleTimeout</code></p>
<p>Example - Adjusting the readIdleTimeout:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">client:</span></span><br><span class="line">            <span class="attr">read-idle-timeout:</span> <span class="string">10m</span></span><br></pre></td></tr></table></figure>

<h4 id="Streaming-Server-Sent-Events-ÊµÅÂºèÊúçÂä°ÂèëÈÄÅ‰∫ã‰ª∂"><a href="#Streaming-Server-Sent-Events-ÊµÅÂºèÊúçÂä°ÂèëÈÄÅ‰∫ã‰ª∂" class="headerlink" title="Streaming Server Sent Events (ÊµÅÂºèÊúçÂä°ÂèëÈÄÅ‰∫ã‰ª∂)"></a>Streaming Server Sent Events (ÊµÅÂºèÊúçÂä°ÂèëÈÄÅ‰∫ã‰ª∂)</h4><blockquote>
<p>Micronaut features a native client for Server Sent Events (SSE) defined by the interface SseClient.</p>
</blockquote>
<p>Micronaut ÂÖ∑ÊúâÁî®‰∫éÁî± <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/client/sse/SseClient.html" >SseClient<i class="fas fa-external-link-alt"></i></a> Êé•Âè£ÂÆö‰πâÁöÑ Server Sent Events (SSE) ÁöÑÂéüÁîüÂÆ¢Êà∑Á´Ø</p>
<blockquote>
<p>You can use this client to stream SSE events from any server that emits them.</p>
</blockquote>
<p>‰Ω†ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÂÆ¢Êà∑Á´Ø‰ªé‰ªª‰ΩïËæìÂá∫ SSE ÁöÑ Server ‰∏≠ÊµÅÂºè‰º†Ëæì SSE</p>
<p>Â∞ΩÁÆ° SSE ÊµÅÈÄöÂ∏∏Ë¢´ÊµèËßàÂô® <code>EventSource</code> Ê∂àË¥π, ‰ΩÜÂú®‰∏Ä‰∫õÂú∫ÊôØ‰∏ã‰Ω†ÂèØËÉΩÈúÄË¶ÅÈÄöËøá <code>SseClient</code> Êù•Ê∂àË¥π SSE ÊµÅ, ‰æãÂ¶ÇÂú®ÂçïÂÖÉÊµãËØï‰∏≠, ÊàñÂú®‰Ωú‰∏∫ËØ∑Ê±ÇÂÖ∂‰ªñÊúçÂä°ÁöÑÁΩëÂÖ≥ Micronaut ‰∏≠</p>
<p><code>@Client</code> Ê≥®Ëß£‰πüÊîØÊåÅÊ∂àË¥π SSE ÊµÅ</p>
<p>Example - ËÄÉËôëÂ¶Ç‰∏ãËæìÂá∫ SSE ÊµÅÁöÑ Controller ÊñπÊ≥ï:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Get</span>(value = <span class="string">&#x27;/headlines&#x27;</span>, processes = MediaType.TEXT_EVENT_STREAM) <span class="comment">// 1</span></span><br><span class="line">Flux&lt;Event&lt;Headline&gt;&gt; streamHeadlines() &#123;</span><br><span class="line"></span><br><span class="line">    Flux.&lt;Event&lt;Headline&gt;&gt;create(   <span class="comment">// 2</span></span><br><span class="line">        &#123; emitter -&gt;</span><br><span class="line">            Headline headline = <span class="keyword">new</span> Headline(<span class="attr">text:</span> <span class="string">&quot;Latest Headline at $&#123;ZonedDateTime.now()&#125;&quot;</span>)</span><br><span class="line">            emitter.next(Event.of(headline))</span><br><span class="line">            emitter.complete()</span><br><span class="line">        &#125;,</span><br><span class="line">        FluxSink.OverflowStrategy.BUFFER</span><br><span class="line">    )</span><br><span class="line">    .repeat(<span class="number">100</span>)    <span class="comment">// 3</span></span><br><span class="line">    .delayElements(Duration.of(<span class="number">1</span>, ChronoUnit.SECONDS))  <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The controller defines a <code>@Get</code> annotation that produces a <code>MediaType.TEXT_EVENT_STREAM</code></p>
<p><code>2</code> : The method uses Reactor to emit a <code>Headline</code> object</p>
<p><code>3</code> : The <code>repeat</code> method repeats the emission 100 times</p>
<p><code>4</code> : With a delay of one second between each</p>
<p>Ê≥®ÊÑè, ÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰ªçÁÑ∂ÊòØ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/http/sse/Event.html" >Event<i class="fas fa-external-link-alt"></i></a>, ‰∏î‰ΩøÁî® <code>Event.of</code> ÊñπÊ≥ïÊù•ÂàõÂª∫ÊµÅÂºè‰º†ËæìÁªôÂÆ¢Êà∑Á´ØÁöÑ‰∫ã‰ª∂</p>
<p>Ë¶ÅÂÆö‰πâ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÊù•Ê∂àË¥π‰∫ã‰ª∂, ÂÆö‰πâ‰∏Ä‰∏™ processes <code>MediaType.TEXT_EVENT_STREAM</code> ÁöÑÊñπÊ≥ï:</p>
<p>Example - SSE Client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/streaming/sse&#x27;</span>)</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">HeadlineClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(value = <span class="string">&#x27;/headlines&#x27;</span>, processes = TEXT_EVENT_STREAM)</span><br><span class="line">    Publisher&lt;Event&lt;Headline&gt;&gt; streamHeadlines()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Flux</code> ÁöÑÊ≥õÂûãÁ±ªÂûãÂèØ‰ª•ÊòØ <code>Event</code>, Âú®ËøôÁßçÊÉÖÂÜµ‰∏ã‰Ω†Â∞ÜÊî∂Âà∞ÂÆåÊï¥ÁöÑ‰∫ã‰ª∂ÂØπË±°, ‰πüÂèØ‰ª•ÊòØ POJO, Âú®ËøôÁßçÊÉÖÂÜµ‰∏ã‰Ω†ËÆ≤‰ªÖÊî∂Âà∞‰ªé JSON ËΩ¨Êç¢ËÄåÊù•ÁöÑ‰∫ã‰ª∂‰∏≠ÂåÖÂê´ÁöÑÊï∞ÊçÆ</p>
<h3 id="Error-Response-ÈîôËØØÂìçÂ∫î"><a href="#Error-Response-ÈîôËØØÂìçÂ∫î" class="headerlink" title="Error Response (ÈîôËØØÂìçÂ∫î)"></a>Error Response (ÈîôËØØÂìçÂ∫î)</h3><p>Â¶ÇÊûúËøîÂõûÁöÑ HTTP ÂìçÂ∫îÁöÑÁä∂ÊÄÅÁ†ÅÊòØ 400 ÊàñÊõ¥È´ò, ÈÇ£‰πà‰ºöÂàõÂª∫‰∏Ä‰∏™ <code>HttpClientResponseException</code></p>
<p>Ëøô‰∏™ Exception ÂåÖÂê´‰∫ÜÂéüÂßãÁöÑÂìçÂ∫î</p>
<p>Exception ÊÄéÊ†∑ÊäõÂá∫ÂèñÂÜ≥‰∫éÊñπÊ≥ïÁöÑËøîÂõûÂÄºÁ±ªÂûã:</p>
<ul>
<li>ÂØπ‰∫éÂìçÂ∫îÂºèÂìçÂ∫îÁ±ªÂûã, Exception ‰Ωú‰∏∫ÈîôËØØÈÄöËøá Publisher ‰º†ÈÄí</li>
<li>ÂØπ‰∫éÈòªÂ°ûÂºèÂìçÂ∫îÁ±ªÂûã, Exception ‰ºöË¢´ÊäõÂá∫, Ë∞ÉÁî®ËÄÖÂ∫îËØ•ÊçïËé∑Âπ∂Â§ÑÁêÜËøô‰∏™ÂºÇÂ∏∏</li>
</ul>
<blockquote>
<p>The one exception to this rule is HTTP Not Found (404) responses. This exception only applies to the declarative client.</p>
</blockquote>
<p>Ëøô‰∏™ËßÑÂàôÁöÑ‰∏Ä‰∏™‰æãÂ§ñÊòØ <code>HTTP Not Found</code> (404) ÂìçÂ∫î. Ëøô‰∏™ Exception ‰ªÖÈÄÇÁî®‰∫éÂ£∞ÊòéÂºè client</p>
<blockquote>
<p>HTTP Not Found (404) responses for blocking return types is not considered an error condition and the client exception will not be thrown. That behavior includes methods that return void.</p>
</blockquote>
<p>ÈòªÂ°ûÂºèÂìçÂ∫îÁ±ªÂûãÁöÑ <code>HTTP Not Found</code> (404) ÂìçÂ∫î‰∏çË¢´ËÆ§‰∏∫ÊòØÈîôËØØÊù°‰ª∂, Âπ∂‰∏î‰∏ç‰ºöÂºïÂèë client ÂºÇÂ∏∏. Ëøô‰∏™Ë°å‰∏∫ÂåÖÊã¨ËøîÂõû <code>void</code> ÁöÑÊñπÊ≥ï</p>
<p>Â¶ÇÊûúÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊòØ <code>HttpResponse</code>, ÈÇ£‰πàÂéüÂßãÁöÑÂìçÂ∫î‰ºöË¢´ËøîÂõû</p>
<p>Â¶ÇÊûúÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊòØ <code>Optional</code>, ÈÇ£‰πà‰∏Ä‰∏™ empty ÁöÑ Optional ‰ºöË¢´ËøîÂõû</p>
<p>ÂØπ‰∫éÊâÄÊúâÂÖ∂‰ªñÁ±ªÂûã, <code>null</code> Â∞Ü‰ºöË¢´ËøîÂõû</p>
<h3 id="Customizing-Request-Headers-Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥"><a href="#Customizing-Request-Headers-Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥" class="headerlink" title="Customizing Request Headers (Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥)"></a>Customizing Request Headers (Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥)</h3><p>Ëá™ÂÆö‰πâËØ∑Ê±Ç Header ÂÄºÂæóÁâπÂà´ËÆ®ËÆ∫, Âõ†‰∏∫ÊúâÂá†ÁßçÊñπÊ≥ï‰ΩøÁî®</p>
<h4 id="Populating-Headers-Using-Configuration-‰ΩøÁî®ÈÖçÁΩÆÊù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥"><a href="#Populating-Headers-Using-Configuration-‰ΩøÁî®ÈÖçÁΩÆÊù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥" class="headerlink" title="Populating Headers Using Configuration (‰ΩøÁî®ÈÖçÁΩÆÊù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)"></a>Populating Headers Using Configuration (‰ΩøÁî®ÈÖçÁΩÆÊù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)</h4><blockquote>
<p>The @Header annotation can be declared at the type level and is repeatable such that it is possible to drive the request headers sent via configuration using annotation metadata.</p>
</blockquote>
<p><code>@Header</code> Ê≥®Ëß£ÂèØ‰ª•Âú®Á±ªÁ∫ßÂà´Â£∞Êòé‰∏îÂèØ‰ª•ÈáçÂ§çÂ£∞Êòé, ËøôÊ†∑Â∞±ÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£ÂÖÉÊï∞ÊçÆ(annotation metadata)Êù•È©±Âä®ÈÄöËøáÈÖçÁΩÆÂèëÈÄÅÁöÑËØ∑Ê±Ç Header</p>
<p>Example - Defining Headers via Configuration:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/pets&#x27;</span>)</span><br><span class="line"><span class="meta">@Header</span>(name = <span class="string">&#x27;X-Pet-Client&#x27;</span>, value = <span class="string">&#x27;$&#123;pet.client.id&#125;&#x27;</span>)</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PetClient</span> <span class="keyword">extends</span> <span class="title class_">PetOperations</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SingleResult</span></span><br><span class="line">    Publisher&lt;Pet&gt; save(<span class="meta">@NotBlank</span> String name, <span class="meta">@Min</span>(<span class="number">1</span>L) <span class="type">int</span> age)</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Get</span>(<span class="string">&#x27;/&#123;name&#125;&#x27;</span>)</span><br><span class="line">    <span class="meta">@SingleResult</span></span><br><span class="line">    Publisher&lt;Pet&gt; get(String name)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Âú® <code>PetClient</code> Êé•Âè£‰∏äÂÆö‰πâ‰∫Ü <code>@Header</code> Ê≥®Ëß£, Ëøô‰∏™Ê≥®Ëß£‰ΩøÁî®Â±ûÊÄßÂç†‰ΩçÁ¨¶ÈÖçÁΩÆËØªÂèñ <code>pet.client.id</code> Â±ûÊÄß</p>
<p>ÁÑ∂ÂêéÂú® <code>applicaton.yml</code> ‰∏≠ÈÖçÁΩÆËøô‰∏™Âç†‰ΩçÁ¨¶ÂØπÂ∫îÁöÑÂÄº:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pet:</span></span><br><span class="line">    <span class="attr">client:</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">foo</span></span><br></pre></td></tr></table></figure>

<p>ÊàñËÄÖ, ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™ÁéØÂ¢ÉÂèòÈáè <code>PET_CLIENT_ID</code> Êù•Êèê‰æõÂç†‰ΩçÁ¨¶ÂÄº</p>
<h4 id="Populating-Headers-using-a-Client-Filter-‰ΩøÁî®‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøáÊª§Âô®Êù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥"><a href="#Populating-Headers-using-a-Client-Filter-‰ΩøÁî®‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøáÊª§Âô®Êù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥" class="headerlink" title="Populating Headers using a Client Filter (‰ΩøÁî®‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøáÊª§Âô®Êù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)"></a>Populating Headers using a Client Filter (‰ΩøÁî®‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøáÊª§Âô®Êù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)</h4><p>ÊàñËÄÖ, ‰∏∫‰∫ÜÂä®ÊÄÅÂ°´ÂÖÖ header, Âè¶‰∏Ä‰∏™ÈÄâÈ°πÊòØ‰ΩøÁî®‰∏Ä‰∏™ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#clientFilter" >Client Filter<i class="fas fa-external-link-alt"></i></a></p>
<p>Êü•Áúã <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#clientFilter" >Client Filter<i class="fas fa-external-link-alt"></i></a> Ëé∑ÂèñÊõ¥Â§ö‰ø°ÊÅØ</p>
<h3 id="Customizing-Jackson-Settings-Ëá™ÂÆö‰πâ-Jackson-ËÆæÁΩÆ"><a href="#Customizing-Jackson-Settings-Ëá™ÂÆö‰πâ-Jackson-ËÆæÁΩÆ" class="headerlink" title="Customizing Jackson Settings (Ëá™ÂÆö‰πâ Jackson ËÆæÁΩÆ)"></a>Customizing Jackson Settings (Ëá™ÂÆö‰πâ Jackson ËÆæÁΩÆ)</h3><p>Ê≠£Â¶Ç‰∏äÈù¢ÊèêÂà∞ÁöÑ, Jackson Ë¢´Áî®Êù•Â∞ÜÊ∂àÊÅØÁºñÁ†Å‰∏∫ JSON</p>
<p>‰∏Ä‰∏™ÈªòËÆ§ÁöÑ Jackson <code>ObjectMapper</code> ‰ºöË¢´ÈÖçÁΩÆ, ÁÑ∂ÂêéË¢´ Micronaut ÁöÑ HTTP clients ‰ΩøÁî®</p>
<p>‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>application.yml</code> ‰∏≠ÈÄöËøá <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/jackson/JacksonConfiguration.html" >JacksonConfiguration<i class="fas fa-external-link-alt"></i></a> Á±ªÂÆö‰πâÁöÑÂ±ûÊÄßË¶ÜÁõñÁî®‰∫éÊûÑÈÄ† <code>ObjectMapper</code> ÁöÑËÆæÁΩÆ</p>
<p>Example- Enables indented output for Jackson:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jackson:</span></span><br><span class="line">    <span class="attr">serialization:</span></span><br><span class="line">        <span class="attr">indentOutput:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>‰ΩÜÊòØ, Ëøô‰∏™ÈÖçÁΩÆ‰ºöÂ∫îÁî®Âà∞ÂÖ®Â±Ä, ÂêåÊó∂ÂΩ±Âìç HTTP server ÊÄéÊ†∑Ê∏≤Êüì JSON Âíå HTTP client ÊÄéÊ†∑ÂèëÈÄÅ JSON</p>
<p>Âõ†Ê≠§, ÊúâÊó∂ÂÄôÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ÁâπÂÆö client ÁöÑ Jackson ËÆæÁΩÆ</p>
<p>ÂèØ‰ª•Âú®‰∏Ä‰∏™ client ‰∏ä‰ΩøÁî® <code>@JacksonFeatures</code> Ê≥®Ëß£Êù•ËøõË°åÁâπÊÄß client ËÆæÁΩÆ:</p>
<p>Example - Jackson Features:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(</span><br><span class="line">    id = EurekaClient.SERVICE_ID,</span><br><span class="line">    path = <span class="string">&#x27;/eureka&#x27;</span>,</span><br><span class="line">    configuration = EurekaConfiguration.<span class="keyword">class</span></span><br><span class="line">)</span><br><span class="line"><span class="meta">@JacksonFeatures</span>(</span><br><span class="line">    enabledSerializationFeatures = WRAP_ROOT_VALUE,</span><br><span class="line">    disabledSerializationFeatures = WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED,</span><br><span class="line">    enabledDeserializationFeatures = &#123;UNWRAP_ROOT_VALUE, ACCEPT_SINGLE_VALUE_AS_ARRAY&#125;</span><br><span class="line">)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EurekaClient</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûú <code>@JacksonFeatures</code> Ëøò‰∏çËÉΩÊª°Ë∂≥Ëá™ÂÆö‰πâÈúÄÊ±Ç, ÂèØ‰ª•‰∏∫ <code>ObjectMapper</code> ÁºñÂÜô‰∏Ä‰∏™ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/event/BeanCreatedEventListener.html" >BeanCreatedEventListener<i class="fas fa-external-link-alt"></i></a>, ÁÑ∂ÂêéÊ∑ªÂä†‰ªª‰Ωï‰Ω†ÈúÄË¶ÅÁöÑËá™ÂÆö‰πâÈÖçÁΩÆ</p>
<h3 id="Retry-and-Circuit-Breaker-ÈáçËØï‰∏éÊñ≠Ë∑ØÂô®"><a href="#Retry-and-Circuit-Breaker-ÈáçËØï‰∏éÊñ≠Ë∑ØÂô®" class="headerlink" title="Retry and Circuit Breaker (ÈáçËØï‰∏éÊñ≠Ë∑ØÂô®)"></a>Retry and Circuit Breaker (ÈáçËØï‰∏éÊñ≠Ë∑ØÂô®)</h3><blockquote>
<p>Recovering from failure is critical for HTTP clients, and that is where Micronaut‚Äôs integrated Retry Advice comes in handy.</p>
</blockquote>
<p>‰ªéÊïÖÈöú‰∏≠ÊÅ¢Â§çÂØπ‰∫é HTTP clients Êù•ËØ¥Ëá≥ÂÖ≥ÈáçË¶Å, ËøôÂ∞±ÊòØ Micronaut ÈõÜÊàêÁöÑ ÈáçËØï Advice Ê¥æ‰∏äÁî®Âú∫ÁöÑÂú∞Êñπ</p>
<p>ÂèØ‰ª•Âú®‰ªª‰Ωï <code>@Client</code> Êé•Âè£‰∏äÂ£∞Êòé <code>@Retryable</code> Âíå <code>@CircuitBreaker</code> Ê≥®Ëß£, ÁÑ∂ÂêéÂ∞±‰ºöÂ∫îÁî®ÈáçËØïÁ≠ñÁï•</p>
<p>Example - Declaring <code>@Retryable</code>:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/pets&#x27;</span>)</span><br><span class="line"><span class="meta">@Retryable</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PetClient</span> <span class="keyword">extends</span> <span class="title class_">PetOperations</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Mono&lt;Pet&gt; save(String name, <span class="type">int</span> age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Êü•Áúã <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#retry" >Retry Advice<i class="fas fa-external-link-alt"></i></a> Ëé∑ÂèñËá™ÂÆö‰πâÈáçËØïÁöÑ‰ø°ÊÅØ</p>
<h3 id="Client-Fallbacks-ÂÆ¢Êà∑Á´ØÈôçÁ∫ß"><a href="#Client-Fallbacks-ÂÆ¢Êà∑Á´ØÈôçÁ∫ß" class="headerlink" title="Client Fallbacks (ÂÆ¢Êà∑Á´ØÈôçÁ∫ß)"></a>Client Fallbacks (ÂÆ¢Êà∑Á´ØÈôçÁ∫ß)</h3><p>Âú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠, ‰ºöÂèëÁîüÊïÖÈöú, ÊúÄÂ•ΩÂÅöÂ•ΩÂáÜÂ§áÂπ∂‰ºòÈõÖÁöÑÂ§ÑÁêÜÊïÖÈöú</p>
<p>Èô§Ê≠§‰πãÂ§ñ, Âú®ÂºÄÂèëÂæÆÊúçÂä°Êó∂, Âú®Ê≤°ÊúâÈ°πÁõÆÈúÄË¶ÅÁöÑ ÂÖ∂‰ªñÂèØÁî®ÂæÆÊúçÂä°ÁöÑ ÊÉÖÂÜµ‰∏ãÂ§ÑÁêÜÂçï‰∏™ÂæÆÊúçÂä°ÊòØÂæàÂ∏∏ËßÅÁöÑ. Â∞±ÊòØÂΩìÂâçÂæÆÊúçÂä°ÈúÄË¶Å‰æùËµñÁöÑÊúçÂä°‰∏çÂèØÁî®</p>
<blockquote>
<p>With that in mind, Micronaut features a native fallback mechanism that is integrated into Retry Advice that allows falling back to another implementation in the case of failure.</p>
</blockquote>
<p>ËÄÉËôëÂà∞Ëøô‰∏ÄÁÇπ, Micronaut Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂéüÁîüÁöÑÈõÜÊàêÂà∞ ÈáçËØïAdvice ÁöÑÈôçÁ∫ßÊú∫Âà∂, ÂÖÅËÆ∏Âú®Â§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏ãÈôçÁ∫ßÂà∞Âè¶Â§ñ‰∏Ä‰∏™ÂÆûÁé∞</p>
<p>‰ΩøÁî® <code>@Fallback</code> Ê≥®Ëß£, ‰Ω†ÂèØ‰ª•Â£∞Êòé client Âú®ÊâÄÊúâÂèØËÉΩÁöÑÈáçËØïÈÉΩÁî®Â∞ΩÊó∂‰ΩøÁî®ÁöÑÈôçÁ∫ßÂÆûÁé∞</p>
<p>ÂÆûÈôÖ‰∏ä, ÈôçÁ∫ßÊú∫Âà∂Ê≤°ÊúâÂíåÈáçËØï‰∏•Ê†ºÁªëÂÆö</p>
<p>‰Ω†ÂèØ‰ª•Â£∞Êòé‰ªª‰Ωï‰∏Ä‰∏™Á±ª‰∏∫ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/retry/annotation/Recoverable.html" >@Recoverable<i class="fas fa-external-link-alt"></i></a>, Â¶ÇÊûú‰∏Ä‰∏™ÊñπÊ≥ïË∞ÉÁî®Â§±Ë¥•(ÊàñËÄÖÂú®ÂìçÂ∫îÂºèÁ±ªÂûã‰∏≠ËæìÂá∫‰∫Ü‰∏Ä‰∏™ÈîôËØØ), Â∞Ü‰ºöÊêúÁ¥¢‰ΩøÁî® <code>@Fallback</code> ‰øÆÈ•∞ÁöÑÁ±ª</p>
<p>Example - ÂÆö‰πâ‰∏Ä‰∏™ <code>PetFallback</code> Á±ªÊù•Âú®Ë∞ÉÁî®Â§±Ë¥•ÁöÑÊó∂ÂÄôË¢´Ë∞ÉÁî®:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Fallback</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PetFallback</span> <span class="keyword">implements</span> <span class="title class_">PetOperations</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Mono&lt;Pet&gt; save(String name, <span class="type">int</span> age) &#123;</span><br><span class="line">        Pet pet = <span class="keyword">new</span> Pet(<span class="attr">name:</span> name, <span class="attr">age:</span> age)</span><br><span class="line">        Mono.just(pet)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Â¶ÇÊûú‰Ω†ÈúÄË¶Å‰ΩøÁî®ÈôçÁ∫ßÊù•Â∏ÆÂä©ÊµãËØïÂ§ñÈÉ®ÂæÆÊúçÂä°, ‰Ω†ÂèØ‰ª•Âú® <code>src/test/java</code> ‰∏≠ÂÆö‰πâÈôçÁ∫ßÂÆûÁé∞, ÊâÄ‰ª•Ëøô‰∫õÈôçÁ∫ßÂÆûÁé∞‰∏ç‰ºöË¢´ÂåÖÂê´Âà∞‰∫ßÂìÅ‰ª£Á†Å. Â¶ÇÊûú‰∏çÈÄöËøá hystrix ‰ΩøÁî®ÈôçÁ∫ß, ‰Ω†ËøòË¶ÅÂú®Â£∞ÊòéÂºè client ‰∏äÊåáÂÆö <code>@Recoverable(api = PetOperations.class)</code></p>
<p>Ê≠£Â¶Ç‰Ω†ÊâÄÁúãÂà∞ÁöÑ, ÈôçÁ∫ß‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÁΩëÁªúËØ∑Ê±Ç‰∏îÈùûÂ∏∏ÁÆÄÂçï, Âõ†Ê≠§‰ºöÂú®‰∏Ä‰∏™Â§ñÈÉ®Á≥ªÁªü‰∏çÂèØÁî®Êó∂Êèê‰æõÊàêÂäüÁöÑËøîÂõû</p>
<p>ÂΩìÁÑ∂, ÈôçÁ∫ßÁöÑÂÆûÈôÖË°å‰∏∫ÂèñÂÜ≥‰∫é‰Ω†ÁöÑÊÉ≥Ê≥ï. ‰æãÂ¶Ç, ‰Ω†ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™ÈôçÁ∫ßÂÆûÁé∞Êù•Âú®ÁúüÂÆûÊï∞ÊçÆ‰∏çÂèØÁî®Êó∂‰ªéÊú¨Âú∞ÁºìÂ≠ò‰∏≠ÊãâÂèñÊï∞ÊçÆ, ÂêëËøêËê•ÈÉ®Èó®ÂèëÈÄÅÊúâÂÖ≥ÂÅúÊú∫Êó∂Èó¥ÁöÑË≠¶Êä•ÁîµÂ≠êÈÇÆ‰ª∂ÊàñÂÖ∂‰ªñÈÄöÁü•„ÄÇ</p>
<h3 id="Netflix-Hystrix-Support-ÁΩëÈ£û-Hystrix-ÁöÑÊîØÊåÅ"><a href="#Netflix-Hystrix-Support-ÁΩëÈ£û-Hystrix-ÁöÑÊîØÊåÅ" class="headerlink" title="Netflix Hystrix Support (ÁΩëÈ£û Hystrix ÁöÑÊîØÊåÅ)"></a>Netflix Hystrix Support (ÁΩëÈ£û Hystrix ÁöÑÊîØÊåÅ)</h3><p>Â¶ÇÊûú‰Ω†‰ΩøÁî® Micronaut CLI ÂàõÂª∫È°πÁõÆ, Ê∑ªÂä† <code>netflix-hystrix</code> ÁâπÊÄßÊù•ÈÖçÁΩÆ Hystrix ‰Ω†ÁöÑÈ°πÁõÆ:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mn create-app my-app --features netflix-hystrix</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Netflix Hystrix is a fault tolerance library developed by the Netflix team and is designed to improve resilience of interprocess communication.</p>
</blockquote>
<p><a class="link"   target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix" >Netflix Hystrix<i class="fas fa-external-link-alt"></i></a> ÊòØ Netflix Âõ¢ÈòüÂºÄÂèëÁöÑÂÆπÈîôÂ∫ì, Êó®Âú®Êèê‰æõËøõÁ®ãÈó¥ÈÄö‰ø°ÁöÑÂºπÊÄß</p>
<p>Micronaut ÈÄöËøá <code>netflix-hystrix</code> Ê®°ÂùóÊù•ÈõÜÊàê Hystrix, Ëøô‰∏™Ê®°ÂùóÂèØ‰ª•Ê∑ªÂä†Âà∞‰Ω†ÁöÑÊûÑÂª∫‰∏≠:</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation(<span class="string">&quot;io.micronaut.netflix:micronaut-netflix-hystrix&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Using-the-HystrixCommand-Annotation-‰ΩøÁî®-HystrixCommand-Ê≥®Ëß£"><a href="#Using-the-HystrixCommand-Annotation-‰ΩøÁî®-HystrixCommand-Ê≥®Ëß£" class="headerlink" title="Using the @HystrixCommand Annotation (‰ΩøÁî® @HystrixCommand Ê≥®Ëß£)"></a>Using the <code>@HystrixCommand</code> Annotation (‰ΩøÁî® <code>@HystrixCommand</code> Ê≥®Ëß£)</h4><p>Â£∞Êòé‰∫Ü‰∏äÈù¢ÁöÑÊ≥®Ëß£‰πãÂêé, ‰Ω†ÂèØ‰ª•‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#proxyClient" >@HystrixCommand<i class="fas fa-external-link-alt"></i></a> Ê≥®Ëß£‰øÆÈ•∞‰ªª‰ΩïÊñπÊ≥ï( ÂåÖÊã¨ÂÆö‰πâÂú® <code>@Client</code> Êé•Âè£‰∏≠ÁöÑÊñπÊ≥ï ), ÁÑ∂ÂêéÊñπÊ≥ïÁöÑÊâßË°åÂ∞±‰ºöË¢´ÂåÖË£ÖÂú®‰∏Ä‰∏™ Hystrix command ‰∏≠</p>
<p>Example - Using <code>@HystrixCommand</code>:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@HystrixCommand</span></span><br><span class="line">String hello(String name) &#123; <span class="string">&quot;Hello $name&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p>ËøòÂèØ‰ª•Áî®‰∫éÂìçÂ∫îÂºèËøîÂõûÁ±ªÂûã, ‰æãÂ¶Ç <code>Flux</code>, ÂìçÂ∫îÂºèÁ±ªÂûãÂ∞Ü‰ºöË¢´ÂåÖË£ÖÂà∞ <code>HystrixObservableCommand</code></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#proxyClient" >@HystrixCommand<i class="fas fa-external-link-alt"></i></a> ËøòÂíå Micronaut ÊîØÊåÅÁöÑ <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#retry" >Retry Advice<i class="fas fa-external-link-alt"></i></a> Âíå <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/guide/#clientFallback" >Fallbacks<i class="fas fa-external-link-alt"></i></a> ÈõÜÊàê</p>
<p>ÂÖ≥‰∫éÂ¶Ç‰ΩïËá™ÂÆö‰πâ Hystrix Á∫øÁ®ãÊ±†, group Âíå properties ÁöÑ‰ø°ÊÅØ, Êü•Áúã <a class="link"   target="_blank" rel="noopener" href="https://micronaut-projects.github.io/micronaut-netflix/latest/api/io/micronaut/configuration/hystrix/annotation/HystrixCommand.html" >HystrixCommand<i class="fas fa-external-link-alt"></i></a> ÁöÑ Javadoc</p>
<h4 id="Enabling-Hystrix-Stream-and-Dashboard-ÂºÄÂêØ-Hystrix-ÊµÅÂíå‰ª™Ë°®Êùø"><a href="#Enabling-Hystrix-Stream-and-Dashboard-ÂºÄÂêØ-Hystrix-ÊµÅÂíå‰ª™Ë°®Êùø" class="headerlink" title="Enabling Hystrix Stream and Dashboard (ÂºÄÂêØ Hystrix ÊµÅÂíå‰ª™Ë°®Êùø)"></a>Enabling Hystrix Stream and Dashboard (ÂºÄÂêØ Hystrix ÊµÅÂíå‰ª™Ë°®Êùø)</h4><p>ÂèØ‰ª•Âú® <code>application.yml</code> ËÆæÁΩÆ <code>hystrix.stream.enabled</code> ‰∏∫ <code>true</code> Êù•ÂºÄÂêØ‰∏Ä‰∏™ Server Sent Event ÊµÅ‰ª•ÂèëÈÄÅÂà∞ <a class="link"   target="_blank" rel="noopener" href="https://github.com/Netflix-Skunkworks/hystrix-dashboard" >Hystrix Dashboard<i class="fas fa-external-link-alt"></i></a></p>
<p>Example - Enabling Hystrix Stream:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">    <span class="attr">stream:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ËøôÂ∞Ü‰ºöÊö¥Èú≤‰∏Ä‰∏™ <code>/hystrix.stream</code> ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://github.com/Netflix-Skunkworks/hystrix-dashboard" >Hystrix Dashboard<i class="fas fa-external-link-alt"></i></a>ÊúüÊúõÁöÑÊ†ºÂºèÁöÑ Á´ØÁÇπ</p>
<h2 id="HTTP-Clients-Filters-HTTP-ÂÆ¢Êà∑Á´ØËøáÊª§Âô®"><a href="#HTTP-Clients-Filters-HTTP-ÂÆ¢Êà∑Á´ØËøáÊª§Âô®" class="headerlink" title="HTTP Clients Filters (HTTP ÂÆ¢Êà∑Á´ØËøáÊª§Âô®)"></a>HTTP Clients Filters (HTTP ÂÆ¢Êà∑Á´ØËøáÊª§Âô®)</h2><blockquote>
<p>Often, you need to include the same HTTP headers or URL parameters in a set of requests against a third-party API or when calling another Microservice.</p>
</blockquote>
<p>ÈÄöÂ∏∏, ‰Ω†ÈúÄË¶ÅÂú®ÈíàÂØπÁ¨¨‰∏âÊñπ API ÊàñË∞ÉÁî®Âè¶‰∏Ä‰∏™ÂæÆÊúçÂä°ÁöÑ‰∏ÄÁªÑËØ∑Ê±Ç‰∏≠ÂåÖÂê´Áõ∏ÂêåÁöÑ HTTP headers Êàñ URL ÂèÇÊï∞</p>
<p>‰∏∫‰∫ÜÁÆÄÂåñËøô‰∏™Êìç‰Ωú, ÂèØ‰ª•ÂÆö‰πâ <code>HttpClientFilter</code> Á±ª, Áî®‰∫éÊâÄÊúâÂåπÈÖçÁöÑ HTTP client ËØ∑Ê±Ç</p>
<p>Example:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BintraApi</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL = <span class="string">&#x27;https://api.bintray.com&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Singleton</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BintrayService</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> HttpClient client</span><br><span class="line">    <span class="keyword">final</span> String org</span><br><span class="line"></span><br><span class="line">    BintrayService(</span><br><span class="line">        <span class="meta">@Client</span>(BintrayApi.URL) HttpClient client,      <span class="comment">// 1</span></span><br><span class="line">        <span class="meta">@Value</span>(<span class="string">&#x27;$&#123;bintray.organization&#125;&#x27;</span>) String org</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.client = client</span><br><span class="line">        <span class="variable language_">this</span>.org = org</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Flux&lt;HttpResponse&lt;String&gt;&gt; fetchRepositories() &#123;</span><br><span class="line">        client.exchange(HttpRequest.GET(<span class="string">&quot;/repos/$org&quot;</span>), String) <span class="comment">// 2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Flux&lt;HttpResponse&lt;String&gt;&gt; fetchPackages(String repo) &#123;</span><br><span class="line">        client.exchange(HttpRequest.GET(<span class="string">&quot;/repos/$&#123;org&#125;/$&#123;repo&#125;/packages&quot;</span>), String)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : An ReactorHttpClient is injected for the Bintray API</p>
<p><code>2</code> : The organization is configurable via configuration</p>
<p>Bintray API ÊòØÂä†ÂØÜÁöÑ. ‰∏∫‰∫ÜÈ™åËØÅ‰Ω†Ë¶ÅÂú®ÊØè‰∏™ËØ∑Ê±Ç‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ <code>Authorization</code> header, ÈÄöËøá<br>‰ΩøÁî®ËøáÊª§Âô®Êù•ÂÆåÊàê:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Filter</span>(<span class="string">&#x27;/repos/**&#x27;</span>)    <span class="comment">// You can match only a subset of paths with a Client filter</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BintrayFilter</span> <span class="keyword">implements</span> <span class="title class_">HttpClientFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> String username</span><br><span class="line">    <span class="keyword">final</span> String token</span><br><span class="line"></span><br><span class="line">    BintrayFilter(</span><br><span class="line">        <span class="meta">@Value</span>(<span class="string">&#x27;$&#123;bintray.username&#125;&#x27;</span>) String username,</span><br><span class="line">        <span class="meta">@Value</span>(<span class="string">&#x27;$&#123;bintray.token&#125;&#x27;</span>) String token</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.username = username</span><br><span class="line">        <span class="variable language_">this</span>.token = token</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(</span><br><span class="line">        MutableHttpRequest&lt;?&gt; request,</span><br><span class="line">        ClientFilterChain chain</span><br><span class="line">    ) &#123;</span><br><span class="line">        chain.proceed(</span><br><span class="line">            request.basicAuth(username, token)  <span class="comment">// The basicAuth method includes HTTP Basic credentials</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Injecting-Another-Client-into-a-HttpClientFilter-Ê≥®ÂÖ•Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂà∞ËøáÊª§Âô®‰∏≠"><a href="#Injecting-Another-Client-into-a-HttpClientFilter-Ê≥®ÂÖ•Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂà∞ËøáÊª§Âô®‰∏≠" class="headerlink" title="Injecting Another Client into a HttpClientFilter (Ê≥®ÂÖ•Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂà∞ËøáÊª§Âô®‰∏≠)"></a>Injecting Another Client into a HttpClientFilter (Ê≥®ÂÖ•Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂà∞ËøáÊª§Âô®‰∏≠)</h3><p>Ë¶ÅÂàõÂª∫ <code>ReactorHttpClient</code>, Micronaut ÈúÄË¶ÅËß£ÊûêÊâÄÊúâÁöÑ <code>HttpClientFilter</code> ÂÆû‰æã, ËøôÂ∞Ü‰ºöÂú®Â∞ÜÂè¶‰∏Ä‰∏™ <code>ReactorHttpClient</code> Êàñ <code>@Client</code> Bean Ê≥®ÂÖ• <code>HttpClientFilter</code> ÂÆû‰æãÊó∂ÂØºËá¥Âæ™ÁéØ‰æùËµñ</p>
<p>‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò, ‰ΩøÁî® <a class="link"   target="_blank" rel="noopener" href="https://docs.micronaut.io/latest/api/io/micronaut/context/BeanProvider.html" >BeanProvider<i class="fas fa-external-link-alt"></i></a> Êé•Âè£Êù•Ê≥®ÂÖ•Âè¶Â§ñ‰∏Ä‰∏™ <code>ReactorHttpClient</code> Êàñ <code>@Client</code> Bean Âà∞‰∏Ä‰∏™ <code>HttpClientFilter</code> ÂÆû‰æã‰∏≠</p>
<p>Example:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.context.annotation.Requires</span><br><span class="line"><span class="keyword">import</span> io.micronaut.context.env.Environment</span><br><span class="line"><span class="keyword">import</span> io.micronaut.context.BeanProvider</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.HttpResponse</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MutableHttpRequest</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Filter</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.HttpClient</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.filter.ClientFilterChain</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.filter.HttpClientFilter</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Flux</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Mono</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.micronaut.http.HttpRequest.GET</span><br><span class="line"></span><br><span class="line"><span class="meta">@Requires</span>(env = Environment.GOOGLE_COMPUTE)</span><br><span class="line"><span class="meta">@Filter</span>(patterns = <span class="string">&#x27;/google-auth/api/**&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GoogleAuthFilter</span> <span class="keyword">implements</span> <span class="title class_">HttpClientFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> BeanProvider&lt;HttpClient&gt; authClientProvider</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The BeanProvider interface is used to inject another client, avoiding a circular reference</span></span><br><span class="line">    <span class="comment">// The `get()` method of the `Provider` interface is used to obtain the client instance</span></span><br><span class="line">    GoogleAuthFilter(BeanProvider&lt;HttpClient&gt;) httpClientProvider) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.authClientProvider = httpClientProvider</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Filter-Matching-By-Annotation-ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åËøáÊª§ÂåπÈÖç"><a href="#Filter-Matching-By-Annotation-ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åËøáÊª§ÂåπÈÖç" class="headerlink" title="Filter Matching By Annotation (ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åËøáÊª§ÂåπÈÖç)"></a>Filter Matching By Annotation (ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åËøáÊª§ÂåπÈÖç)</h3><blockquote>
<p>For cases where a filter should be applied to a client regardless of the URL, filters can be matched by the presence of an annotation applied to both the filter and the client.</p>
</blockquote>
<p>ÂØπ‰∫éÂ∫îËØ•Â∞ÜËøáÊª§Âô®Â∫îÁî®‰∫é client ËÄå‰∏çËÄÉËôë URL ÁöÑÊÉÖÂÜµ, ËøáÊª§Âô®ÂèØ‰ª•ÈÄöËøáÂêåÊó∂Â∫îÁî®‰∫éËøáÊª§Âô®ÂíåÂÆ¢Êà∑Á´ØÁöÑÊ≥®Ëß£Êù•ÂåπÈÖç</p>
<p>Âú® client Âíå filter ‰∏ä‰ΩøÁî®Áõ∏ÂêåÁöÑÊ≥®Ëß£, ËÆ© filter ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åÂåπÈÖç</p>
<p>Example:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.Get</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.client.annotation.Client</span><br><span class="line"></span><br><span class="line"><span class="meta">@BasicAuth</span>  <span class="comment">// 1</span></span><br><span class="line"><span class="meta">@Client</span>(<span class="string">&#x27;/message&#x27;</span>)</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">BasicAuthClient</span> &#123;</span><br><span class="line">    <span class="meta">@Get</span></span><br><span class="line">    String getMessage()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The <code>@BasicAuth</code> annotation is applied to the client</p>
<p>Example - The following filter will filter the client requests:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.HttpResponse</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.MutableHttpRequest</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.filter.ClientFilterChain</span><br><span class="line"><span class="keyword">import</span> io.micronaut.http.filter.HttpClientFilter</span><br><span class="line"><span class="keyword">import</span> org.reactivestreams.Publisher</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.inject.Singleton</span><br><span class="line"></span><br><span class="line"><span class="meta">@BasicAuth</span>  <span class="comment">// 1</span></span><br><span class="line"><span class="meta">@Singleton</span>  <span class="comment">//2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasicAuthClientFilter</span> <span class="keyword">implements</span> <span class="title class_">HttpClientFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(MutableHttpRequest&lt;?&gt; request,</span><br><span class="line">                                                  ClientFilterChain chain) &#123;</span><br><span class="line">        chain.proceed(request.basicAuth(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;pass&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The same annotation, <code>@BasicAuth</code>, is applied to the filter</p>
<p><code>2</code> : Normally the <code>@Filter</code> annotation makes filters singletons by default. Because the <code>@Filter</code> annotation is not used, the desired scope must be applied</p>
<p>Example - <code>@BasicAuth</code> Ê≥®Ëß£ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ≥®Ëß£:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.micronaut.http.annotation.FilterMatcher</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Documented</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.PARAMETER</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.TYPE</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.RetentionPolicy.RUNTIME</span><br><span class="line"></span><br><span class="line"><span class="meta">@FilterMatcher</span> <span class="comment">// 1</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention</span>(RUNTIME)</span><br><span class="line"><span class="meta">@Target</span>([TYPE, PARAMETER])</span><br><span class="line"><span class="meta">@interface</span> BasicAuth &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>1</code> : The only requirement for custom annotations is that the <code>@FilterMatcher</code> annotation must be present</p>
<h2 id="HTTP-x2F-2-Support-HTTP-x2F-2-ÁöÑÊîØÊåÅ"><a href="#HTTP-x2F-2-Support-HTTP-x2F-2-ÁöÑÊîØÊåÅ" class="headerlink" title="HTTP&#x2F;2 Support (HTTP&#x2F;2 ÁöÑÊîØÊåÅ)"></a>HTTP&#x2F;2 Support (HTTP&#x2F;2 ÁöÑÊîØÊåÅ)</h2><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã, Micronaut ÁöÑ HTTP client ÈÖçÁΩÆ‰∏∫ÊîØÊåÅ HTTP 1.1</p>
<p>Ë¶ÅÂºÄÂêØ HTTP&#x2F;2 ÁöÑÊîØÊåÅ, Âú®ÈÖçÁΩÆ‰∏≠ËÆæÁΩÆÊîØÊåÅÁöÑ HTTP ÁâàÊú¨:</p>
<p>Example - Enabling HTTP&#x2F;2 in Clients:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">micronaut:</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">        <span class="attr">client:</span></span><br><span class="line">            <span class="attr">http-version:</span> <span class="number">2.0</span></span><br></pre></td></tr></table></figure>

<p>ÊàñËÄÖÂú®Ê≥®ÂÖ• client Êó∂ÊåáÂÆöË¶Å‰ΩøÁî®ÁöÑ HTTP ÁâàÊú¨:</p>
<p>Example - Injecting an HTTP&#x2F;2 client:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Inject</span></span><br><span class="line"><span class="meta">@Client</span>(httpVersion = HttpVersion.HTTP_2_0)</span><br><span class="line">ReactorHttpClient client</span><br></pre></td></tr></table></figure>

<h2 id="HTTP-Client-Sample-HTTP-ÂÆ¢Êà∑Á´Ø‰æãÂ≠ê"><a href="#HTTP-Client-Sample-HTTP-ÂÆ¢Êà∑Á´Ø‰æãÂ≠ê" class="headerlink" title="HTTP Client Sample (HTTP ÂÆ¢Êà∑Á´Ø‰æãÂ≠ê)"></a>HTTP Client Sample (HTTP ÂÆ¢Êà∑Á´Ø‰æãÂ≠ê)</h2><p>HTTP Client Guide - <a class="link"   target="_blank" rel="noopener" href="https://guides.micronaut.io/micronaut-http-client/guide/index.html" >Java<i class="fas fa-external-link-alt"></i></a></p>
<p>HTTP Client Guide - <a class="link"   target="_blank" rel="noopener" href="https://guides.micronaut.io/micronaut-http-client-groovy/guide/index.html" >Groovy<i class="fas fa-external-link-alt"></i></a></p>
<p>HTTP Client Guide - <a class="link"   target="_blank" rel="noopener" href="https://guides.micronaut.io/micronaut-http-client-kotlin/guide/index.html" >Kotlin<i class="fas fa-external-link-alt"></i></a></p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Êú¨ÊñáÊ†áÈ¢òÔºöMicronaut ‰∏≠ÊñáÊñáÊ°£ The HTTP Client</li>
        <li>Êú¨Êñá‰ΩúËÄÖÔºöÊûóÂ®ÅÁæΩ</li>
        <li>ÂàõÂª∫Êó∂Èó¥Ôºö2022-04-29 09:43:43</li>
        <li>
            Êú¨ÊñáÈìæÊé•Ôºöhttps://linweiyu21.github.io/micronaut/micronaut-the-http-client/
        </li>
        <li>
            ÁâàÊùÉÂ£∞ÊòéÔºöÊú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî® <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/Micronaut/">#Micronaut</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/Groovy/">#Groovy</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/%E4%B8%AD%E6%96%87/">#‰∏≠Êñá</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/micronaut/micronaut-cloud-native-features/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Micronaut ‰∏≠ÊñáÊñáÊ°£ Cloud Native Features</span>
                                <span class="post-nav-item">‰∏ä‰∏ÄÁØá</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/micronaut/micronaut-the-http-server/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Micronaut ‰∏≠ÊñáÊñáÊ°£ The HTTP Server</span>
                                <span class="post-nav-item">‰∏ã‰∏ÄÁØá</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;ËØÑËÆ∫</i>
    </div>
    

        
            
    <div class="valine-container">
        <script data-pjax
                src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
            function loadValine() {
                new Valine({
                    el: '#vcomments',
                    appId: '8xWQ0WFbKUNN4h8ixIO12etk-gzGzoHsz',
                    appKey: '7cLjTvkIsF6aIuIVSd0um89m',
                    meta: ['nick', 'mail', 'link'],
                    avatar: 'wavatar',
                    enableQQ: true,
                    placeholder: 'ËØ∑ÂºÄÂßã‰Ω†ÁöÑË°®Êºî',
                    lang: 'zh-CN'.toLowerCase()
                });

                function getAuthor(language) {
                    switch (language) {
                        case 'en':
                            return 'Author';
                        case 'zh-CN':
                            return 'Âçö‰∏ª';
                        default:
                            return 'Master';
                    }
                }

                // Add "Author" identify
                const getValineDomTimer = setInterval(() => {
                    const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                    if (vcards.length > 0) {
                        let author = 'ÊûóÂ®ÅÁæΩ';

                        if (author) {
                            for (let vcard of vcards) {
                                const vnick_dom = vcard.querySelector('.vhead .vnick');
                                const vnick = vnick_dom.innerHTML;
                                if (vnick === author) {
                                    vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                                }
                            }
                        }
                        clearInterval(getValineDomTimer);
                    } else {
                        clearInterval(getValineDomTimer);
                    }
                }, 2000);
            }

            if ('true') {
                const loadValineTimeout = setTimeout(() => {
                    loadValine();
                    clearTimeout(loadValineTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadValine);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">ÊûóÂ®ÅÁæΩ</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        ËÆøÈóÆ‰∫∫Êï∞&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        ÊÄªËÆøÈóÆÈáè&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Áî± <a target="_blank" href="https://hexo.io">Hexo</a> È©±Âä®&nbsp;|&nbsp;‰∏ªÈ¢ò&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#The-HTTP-Client"><span class="nav-number">1.</span> <span class="nav-text">The HTTP Client</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Using-the-Low-Level-HTTP-Client-%E4%BD%BF%E7%94%A8%E4%BD%8E%E7%BA%A7%E5%88%AB-HTTP-Client"><span class="nav-number">1.1.</span> <span class="nav-text">Using the Low-Level HTTP Client (‰ΩøÁî®‰ΩéÁ∫ßÂà´ HTTP Client)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Sending-your-first-HTTP-request-%E5%8F%91%E9%80%81%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA-HTTP-%E8%AF%B7%E6%B1%82"><span class="nav-number">1.1.1.</span> <span class="nav-text">Sending your first HTTP request (ÂèëÈÄÅ‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ HTTP ËØ∑Ê±Ç)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Obtaining-a-HttpClient-%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA-HttpClient"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">Obtaining a HttpClient (Ëé∑Âèñ‰∏Ä‰∏™ HttpClient)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Performing-an-HTTP-GET-%E6%89%A7%E8%A1%8C%E4%B8%80%E4%B8%AA-HTTP-GET-%E8%AF%B7%E6%B1%82"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">Performing an HTTP GET (ÊâßË°å‰∏Ä‰∏™ HTTP GET ËØ∑Ê±Ç)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Debugging-x2F-Tracing-the-HTTP-Client-%E8%B0%83%E8%AF%95-x2F-%E8%B7%9F%E8%B8%AA-HTTP-Client"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">Debugging &#x2F; Tracing the HTTP Client (Ë∞ÉËØï &#x2F; Ë∑üË∏™ HTTP Client)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Client-Specific-Debugging-x2F-Tracing-%E6%8C%87%E5%AE%9A%E7%9A%84-Client-%E8%B0%83%E8%AF%95-x2F-%E8%B7%9F%E8%B8%AA"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">Client Specific Debugging &#x2F; Tracing (ÊåáÂÆöÁöÑ Client Ë∞ÉËØï &#x2F; Ë∑üË∏™)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Customizing-the-HTTP-Request-%E8%87%AA%E5%AE%9A%E4%B9%89-HTTP-%E8%AF%B7%E6%B1%82"><span class="nav-number">1.1.1.5.</span> <span class="nav-text">Customizing the HTTP Request (Ëá™ÂÆö‰πâ HTTP ËØ∑Ê±Ç)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Reading-JSON-Response-%E8%AF%BB%E5%8F%96-JSON-%E5%93%8D%E5%BA%94"><span class="nav-number">1.1.1.6.</span> <span class="nav-text">Reading JSON Response (ËØªÂèñ JSON ÂìçÂ∫î)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Decoding-Other-Content-Types-%E8%A7%A3%E7%A0%81%E5%85%B6%E4%BB%96-Content-Types"><span class="nav-number">1.1.1.7.</span> <span class="nav-text">Decoding Other Content Types (Ëß£Á†ÅÂÖ∂‰ªñ Content Types)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Receiving-the-Full-HTTP-Response-%E6%8E%A5%E5%8F%97%E5%AE%8C%E6%95%B4%E7%9A%84-HTTP-%E5%93%8D%E5%BA%94"><span class="nav-number">1.1.1.8.</span> <span class="nav-text">Receiving the Full HTTP Response (Êé•ÂèóÂÆåÊï¥ÁöÑ HTTP ÂìçÂ∫î)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Posting-a-Request-Body-%E5%8F%91%E9%80%81%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E4%BD%93"><span class="nav-number">1.1.2.</span> <span class="nav-text">Posting a Request Body (ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±Ç‰Ωì)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Sending-JSON-%E5%8F%91%E9%80%81-JSON"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">Sending JSON (ÂèëÈÄÅ JSON)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-a-URI-Template-%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA-URI-%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">Using a URI Template (‰ΩøÁî®‰∏Ä‰∏™ URI Ê®°Êùø)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Sending-Form-Data-%E5%8F%91%E9%80%81%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">Sending Form Data (ÂèëÈÄÅË°®ÂçïÊï∞ÊçÆ)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multipart-Client-Uploads-Multipart-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8A%E4%BC%A0"><span class="nav-number">1.1.3.</span> <span class="nav-text">Multipart Client Uploads (Multipart ÂÆ¢Êà∑Á´Ø‰∏ä‰º†)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Streaming-JSON-over-HTTP-HTTP-%E4%B8%8A%E7%9A%84%E6%B5%81%E5%BC%8F-JSON"><span class="nav-number">1.1.4.</span> <span class="nav-text">Streaming JSON over HTTP (HTTP ‰∏äÁöÑÊµÅÂºè JSON)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-HTTP-clients-%E9%85%8D%E7%BD%AE-HTTP-clients"><span class="nav-number">1.1.5.</span> <span class="nav-text">Configuring HTTP clients (ÈÖçÁΩÆ HTTP clients)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Global-Configuration-for-All-Clients-%E7%94%A8%E4%BA%8E%E5%85%A8%E9%83%A8-Clients-%E7%9A%84%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">1.1.5.1.</span> <span class="nav-text">Global Configuration for All Clients (Áî®‰∫éÂÖ®ÈÉ® Clients ÁöÑÂÖ®Â±ÄÈÖçÁΩÆ)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Client-Specific-Configuration-%E7%89%B9%E5%AE%9A-Client-%E9%85%8D%E7%BD%AE"><span class="nav-number">1.1.5.2.</span> <span class="nav-text">Client Specific Configuration (ÁâπÂÆö Client ÈÖçÁΩÆ)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-HTTP-Client-Connection-Pooling-%E4%BD%BF%E7%94%A8-HTTP-Client-%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%8C%96"><span class="nav-number">1.1.5.3.</span> <span class="nav-text">Using HTTP Client Connection Pooling (‰ΩøÁî® HTTP Client ËøûÊé•Ê±†Âåñ)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuring-Event-Loop-Groups-%E9%85%8D%E7%BD%AE-Event-Loop-%E7%BB%84"><span class="nav-number">1.1.5.4.</span> <span class="nav-text">Configuring Event Loop Groups (ÈÖçÁΩÆ Event Loop ÁªÑ)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Error-Responses-%E9%94%99%E8%AF%AF%E5%93%8D%E5%BA%94"><span class="nav-number">1.1.6.</span> <span class="nav-text">Error Responses (ÈîôËØØÂìçÂ∫î)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bind-Errors-%E7%BB%91%E5%AE%9A%E9%94%99%E8%AF%AF"><span class="nav-number">1.1.7.</span> <span class="nav-text">Bind Errors (ÁªëÂÆöÈîôËØØ)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Proxying-Requests-with-ProxyHttpClient-%E4%BD%BF%E7%94%A8-ProxyingHttpClient-%E6%9D%A5%E4%BB%A3%E7%90%86%E8%AF%B7%E6%B1%82"><span class="nav-number">1.2.</span> <span class="nav-text">Proxying Requests with ProxyHttpClient (‰ΩøÁî® ProxyingHttpClient Êù•‰ª£ÁêÜËØ∑Ê±Ç)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Declarative-HTTP-Clients-with-Client-%E4%BD%BF%E7%94%A8-Client-%E7%9A%84%E5%A3%B0%E6%98%8E%E5%BC%8F-HTTP-%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="nav-number">1.3.</span> <span class="nav-text">Declarative HTTP Clients with @Client (‰ΩøÁî® @Client ÁöÑÂ£∞ÊòéÂºè HTTP ÂÆ¢Êà∑Á´Ø)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Customizing-Parameters-Binding-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A"><span class="nav-number">1.3.1.</span> <span class="nav-text">Customizing Parameters Binding (Ëá™ÂÆö‰πâÂèÇÊï∞ÁªëÂÆö)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Query-values-formatting-%E8%AF%B7%E6%B1%82%E5%80%BC%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">Query values formatting (ËØ∑Ê±ÇÂÄºÊ†ºÂºèÂåñ)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Type-Based-Binding-Parameters-%E5%9F%BA%E4%BA%8E%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A"><span class="nav-number">1.3.1.1.1.</span> <span class="nav-text">Type-Based Binding Parameters (Âü∫‰∫éÁ±ªÂûãÁöÑÂèÇÊï∞ÁªëÂÆö)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Custom-Binding-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%91%E5%AE%9A"><span class="nav-number">1.3.1.1.2.</span> <span class="nav-text">Custom Binding (Ëá™ÂÆö‰πâÁªëÂÆö)</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Binding-By-Annotation-%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E8%BF%9B%E8%A1%8C%E7%BB%91%E5%AE%9A"><span class="nav-number">1.3.1.1.2.1.</span> <span class="nav-text">Binding By Annotation (ÈÄöËøáÊ≥®Ëß£ËøõË°åÁªëÂÆö)</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Binding-By-Type-%E9%80%9A%E8%BF%87%E7%B1%BB%E5%9E%8B%E8%BF%9B%E8%A1%8C%E7%BB%91%E5%AE%9A"><span class="nav-number">1.3.1.1.2.2.</span> <span class="nav-text">Binding By Type (ÈÄöËøáÁ±ªÂûãËøõË°åÁªëÂÆö)</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Binding-On-Method-%E5%9C%A8%E6%96%B9%E6%B3%95%E4%B8%8A%E8%BF%9B%E8%A1%8C%E7%BB%91%E5%AE%9A"><span class="nav-number">1.3.1.1.3.</span> <span class="nav-text">Binding On Method (Âú®ÊñπÊ≥ï‰∏äËøõË°åÁªëÂÆö)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Streaming-with-Client-%E4%BD%BF%E7%94%A8-Client-%E8%BF%9B%E8%A1%8C%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86"><span class="nav-number">1.3.2.</span> <span class="nav-text">Streaming with @Client (‰ΩøÁî® @Client ËøõË°åÊµÅÂºèÂ§ÑÁêÜ)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Streaming-JSON-with-Client-%E4%BD%BF%E7%94%A8-Client-%E8%BF%9B%E8%A1%8C-JSON-%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">Streaming JSON with @Client (‰ΩøÁî® @Client ËøõË°å JSON ÊµÅÂºèÂ§ÑÁêÜ)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Streaming-Clients-and-Response-Types-%E6%B5%81%E5%BC%8F%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E5%93%8D%E5%BA%94%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">Streaming Clients and Response Types (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåÂìçÂ∫îÁ±ªÂûã)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Streaming-Clients-and-Read-Timeout-%E6%B5%81%E5%BC%8F%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E8%AF%BB%E5%8F%96%E8%B6%85%E6%97%B6"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">Streaming Clients and Read Timeout (ÊµÅÂºèÂÆ¢Êà∑Á´ØÂíåËØªÂèñË∂ÖÊó∂)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Streaming-Server-Sent-Events-%E6%B5%81%E5%BC%8F%E6%9C%8D%E5%8A%A1%E5%8F%91%E9%80%81%E4%BA%8B%E4%BB%B6"><span class="nav-number">1.3.2.4.</span> <span class="nav-text">Streaming Server Sent Events (ÊµÅÂºèÊúçÂä°ÂèëÈÄÅ‰∫ã‰ª∂)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Error-Response-%E9%94%99%E8%AF%AF%E5%93%8D%E5%BA%94"><span class="nav-number">1.3.3.</span> <span class="nav-text">Error Response (ÈîôËØØÂìçÂ∫î)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Customizing-Request-Headers-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="nav-number">1.3.4.</span> <span class="nav-text">Customizing Request Headers (Ëá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Populating-Headers-Using-Configuration-%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E6%9D%A5%E5%A1%AB%E5%85%85%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">Populating Headers Using Configuration (‰ΩøÁî®ÈÖçÁΩÆÊù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Populating-Headers-using-a-Client-Filter-%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%87%E6%BB%A4%E5%99%A8%E6%9D%A5%E5%A1%AB%E5%85%85%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">Populating Headers using a Client Filter (‰ΩøÁî®‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØËøáÊª§Âô®Êù•Â°´ÂÖÖËØ∑Ê±ÇÂ§¥)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Customizing-Jackson-Settings-%E8%87%AA%E5%AE%9A%E4%B9%89-Jackson-%E8%AE%BE%E7%BD%AE"><span class="nav-number">1.3.5.</span> <span class="nav-text">Customizing Jackson Settings (Ëá™ÂÆö‰πâ Jackson ËÆæÁΩÆ)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Retry-and-Circuit-Breaker-%E9%87%8D%E8%AF%95%E4%B8%8E%E6%96%AD%E8%B7%AF%E5%99%A8"><span class="nav-number">1.3.6.</span> <span class="nav-text">Retry and Circuit Breaker (ÈáçËØï‰∏éÊñ≠Ë∑ØÂô®)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Client-Fallbacks-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%99%8D%E7%BA%A7"><span class="nav-number">1.3.7.</span> <span class="nav-text">Client Fallbacks (ÂÆ¢Êà∑Á´ØÈôçÁ∫ß)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Netflix-Hystrix-Support-%E7%BD%91%E9%A3%9E-Hystrix-%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-number">1.3.8.</span> <span class="nav-text">Netflix Hystrix Support (ÁΩëÈ£û Hystrix ÁöÑÊîØÊåÅ)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-the-HystrixCommand-Annotation-%E4%BD%BF%E7%94%A8-HystrixCommand-%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.3.8.1.</span> <span class="nav-text">Using the @HystrixCommand Annotation (‰ΩøÁî® @HystrixCommand Ê≥®Ëß£)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Enabling-Hystrix-Stream-and-Dashboard-%E5%BC%80%E5%90%AF-Hystrix-%E6%B5%81%E5%92%8C%E4%BB%AA%E8%A1%A8%E6%9D%BF"><span class="nav-number">1.3.8.2.</span> <span class="nav-text">Enabling Hystrix Stream and Dashboard (ÂºÄÂêØ Hystrix ÊµÅÂíå‰ª™Ë°®Êùø)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-Clients-Filters-HTTP-%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">1.4.</span> <span class="nav-text">HTTP Clients Filters (HTTP ÂÆ¢Êà∑Á´ØËøáÊª§Âô®)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Injecting-Another-Client-into-a-HttpClientFilter-%E6%B3%A8%E5%85%A5%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%88%B0%E8%BF%87%E6%BB%A4%E5%99%A8%E4%B8%AD"><span class="nav-number">1.4.1.</span> <span class="nav-text">Injecting Another Client into a HttpClientFilter (Ê≥®ÂÖ•Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂà∞ËøáÊª§Âô®‰∏≠)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Filter-Matching-By-Annotation-%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E6%9D%A5%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E5%8C%B9%E9%85%8D"><span class="nav-number">1.4.2.</span> <span class="nav-text">Filter Matching By Annotation (ÈÄöËøáÊ≥®Ëß£Êù•ËøõË°åËøáÊª§ÂåπÈÖç)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-x2F-2-Support-HTTP-x2F-2-%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-number">1.5.</span> <span class="nav-text">HTTP&#x2F;2 Support (HTTP&#x2F;2 ÁöÑÊîØÊåÅ)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-Client-Sample-HTTP-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BE%8B%E5%AD%90"><span class="nav-number">1.6.</span> <span class="nav-text">HTTP Client Sample (HTTP ÂÆ¢Êà∑Á´Ø‰æãÂ≠ê)</span></a></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="ÊêúÁ¥¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
